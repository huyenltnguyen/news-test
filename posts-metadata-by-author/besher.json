{"https://www.freecodecamp.org/news/author/besher/":{"https://www.freecodecamp.org//news/ios-concurrency/":{"metadata":[{"tagName":"meta","attributes":{"charset":"utf-8"},"content":""},{"tagName":"meta","attributes":{"http-equiv":"X-UA-Compatible","content":"IE=edge"},"content":""},{"tagName":"title","attributes":{},"content":"Concurrency Explained: How to Build a Multi-Threaded iOS App"},{"tagName":"meta","attributes":{"name":"HandheldFriendly","content":"True"},"content":""},{"tagName":"meta","attributes":{"name":"viewport","content":"width=device-width, initial-scale=1.0"},"content":""},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.googleapis.com"},"content":""},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com","crossorigin":""},"content":""},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap"},"content":""},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css"},"content":""},{"tagName":"noscript","attributes":{},"content":"\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n"},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css"},"content":""},{"tagName":"noscript","attributes":{},"content":"\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n"},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js"},"content":""},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"},"content":""},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"/news/assets/css/global-26e2f3cde9.css"},"content":""},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/screen-926fddfac2.css"},"content":""},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/search-bar-124f5f949c.css"},"content":""},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js"},"content":""},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js"},"content":""},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js"},"content":""},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js"},"content":""},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js"},"content":""},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js"},"content":""},{"tagName":"script","attributes":{},"content":"let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));"},{"tagName":"script","attributes":{"data-ad-client":"ca-pub-9482786369113753","src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js","crossorigin":"anonymous","async":""},"content":""},{"tagName":"link","attributes":{"rel":"icon","href":"https://cdn.freecodecamp.org/universal/favicons/favicon.ico","type":"image/png"},"content":""},{"tagName":"link","attributes":{"rel":"canonical","href":"https://www.freecodecamp.org/news/ios-concurrency/"},"content":""},{"tagName":"meta","attributes":{"name":"referrer","content":"no-referrer-when-downgrade"},"content":""},{"tagName":"meta","attributes":{"name":"description","content":"Concurrency in iOS is a massive topic. So in this article I want to zoom in on a sub-topic concerning queues and the Grand Central Dispatch (GCD) framework.  In particular, I wish to explore the differences between serial and concurrent queues, as well as the differences between synchronous and"},"content":""},{"tagName":"meta","attributes":{"property":"og:site_name","content":"freeCodeCamp.org"},"content":""},{"tagName":"meta","attributes":{"property":"og:type","content":"article"},"content":""},{"tagName":"meta","attributes":{"property":"og:title","content":"Concurrency Explained: How to Build a Multi-Threaded iOS App"},"content":""},{"tagName":"meta","attributes":{"property":"og:description","content":"Concurrency in iOS is a massive topic. So in this article I want to zoom in on a sub-topic concerning queues and the Grand Central Dispatch (GCD) framework.  In particular, I wish to explore the differences between serial and concurrent queues, as well as the differences between synchronous and"},"content":""},{"tagName":"meta","attributes":{"property":"og:url","content":"https://www.freecodecamp.org/news/ios-concurrency/"},"content":""},{"tagName":"meta","attributes":{"property":"og:image","content":"https://www.freecodecamp.org/news/content/images/2020/03/onur-k-fHDVylCKLX0-unsplash-3.jpg"},"content":""},{"tagName":"meta","attributes":{"property":"article:published_time","content":"2020-01-28T01:24:39.000Z"},"content":""},{"tagName":"meta","attributes":{"property":"article:modified_time","content":"2020-03-03T21:49:07.000Z"},"content":""},{"tagName":"meta","attributes":{"property":"article:tag","content":"Concurrency"},"content":""},{"tagName":"meta","attributes":{"property":"article:tag","content":"iOS"},"content":""},{"tagName":"meta","attributes":{"property":"article:publisher","content":"https://www.facebook.com/freecodecamp"},"content":""},{"tagName":"meta","attributes":{"name":"twitter:card","content":"summary_large_image"},"content":""},{"tagName":"meta","attributes":{"name":"twitter:title","content":"Concurrency Explained: How to Build a Multi-Threaded iOS App"},"content":""},{"tagName":"meta","attributes":{"name":"twitter:description","content":"Concurrency in iOS is a massive topic. So in this article I want to zoom in on a sub-topic concerning queues and the Grand Central Dispatch (GCD) framework.  In particular, I wish to explore the differences between serial and concurrent queues, as well as the differences between synchronous and"},"content":""},{"tagName":"meta","attributes":{"name":"twitter:url","content":"https://www.freecodecamp.org/news/ios-concurrency/"},"content":""},{"tagName":"meta","attributes":{"name":"twitter:image","content":"https://www.freecodecamp.org/news/content/images/2020/03/onur-k-fHDVylCKLX0-unsplash-3.jpg"},"content":""},{"tagName":"meta","attributes":{"name":"twitter:label1","content":"Written by"},"content":""},{"tagName":"meta","attributes":{"name":"twitter:data1","content":"Besher Al Maleh"},"content":""},{"tagName":"meta","attributes":{"name":"twitter:label2","content":"Filed under"},"content":""},{"tagName":"meta","attributes":{"name":"twitter:data2","content":"Concurrency, iOS"},"content":""},{"tagName":"meta","attributes":{"name":"twitter:site","content":"@freecodecamp"},"content":""},{"tagName":"meta","attributes":{"name":"twitter:creator","content":"@BesherMaleh"},"content":""},{"tagName":"meta","attributes":{"property":"og:image:width","content":"2000"},"content":""},{"tagName":"meta","attributes":{"property":"og:image:height","content":"972"},"content":""},{"tagName":"script","attributes":{"type":"application/ld+json"},"content":"{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2020/03/onur-k-fHDVylCKLX0-unsplash-3.jpg\",\n\t\t\"width\": 2000,\n\t\t\"height\": 972\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/ios-concurrency/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2020-01-28T01:24:39.000Z\",\n\t\"dateModified\": \"2020-03-03T21:49:07.000Z\",\n\t\"keywords\": \"Concurrency, iOS\",\n\t\"description\": \"Concurrency in iOS is a massive topic. So in this article I want to zoom in on a\\nsub-topic concerning queues and the Grand Central Dispatch (GCD) framework. \\n\\nIn particular, I wish to explore the differences between serial and concurrent\\nqueues, as well as the differences between synchronous and asynchronous\\nexecution.\\n\\nIf you&#x27;ve never used GCD before, this article is a great place to start. If you\\nhave some experience with GCD, but are still curious about the topics mentioned\\nabove, I think you\",\n\t\"headline\": \"Concurrency Explained: How to Build a Multi-Threaded iOS App\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Besher Al Maleh\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/besher/\",\n\t\t\"sameAs\": [\n\t\t\t\"https://www.besher.ca/\",\n\t\t\t\"https://twitter.com/BesherMaleh\"\n\t\t],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2020/01/Profile-8--1-.jpg\",\n\t\t\t\"width\": 300,\n\t\t\t\"height\": 343\n\t\t}\n\t}\n}"},{"tagName":"meta","attributes":{"name":"generator","content":"Eleventy"},"content":""},{"tagName":"link","attributes":{"rel":"alternate","type":"application/rss+xml","title":"freeCodeCamp.org","href":"https://www.freecodecamp.org/news/rss/"},"content":""},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com"},"content":""},{"tagName":"script","attributes":{},"content":"\nwindow.dataLayer = window.dataLayer || [];\n"},{"tagName":"script","attributes":{},"content":"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');"},{"tagName":"meta","attributes":{"name":"google-site-verification","content":"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E"},"content":""},{"tagName":"meta","attributes":{"name":"x-fcc-source","data-test-label":"x-fcc-source","content":"Ghost"},"content":""}],"html":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        \n        \n            <title>Concurrency Explained: How to Build a Multi-Threaded iOS App</title>\n        \n        <meta name=\"HandheldFriendly\" content=\"True\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin=\"\">\n        \n            <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap\">\n        \n\n        \n        \n    <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n</noscript>\n<link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n</noscript>\n\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js\"></script>\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js\"></script>\n\n\n\n        \n        <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"/news/assets/css/global-26e2f3cde9.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/screen-926fddfac2.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/search-bar-124f5f949c.css\">\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js\"></script>\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js\"></script>\n\n        \n        \n            <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js\"></script>\n        \n\n        \n        <script>let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));</script>\n\n        \n        \n    \n        \n            <script data-ad-client=\"ca-pub-9482786369113753\" src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\" crossorigin=\"anonymous\" async=\"\"></script>\n        \n    \n\n\n        \n        \n    \n        \n    \n        \n    \n\n\n        \n        \n        \n\n        \n        \n\n        <link rel=\"icon\" href=\"https://cdn.freecodecamp.org/universal/favicons/favicon.ico\" type=\"image/png\">\n        \n        \n            <link rel=\"canonical\" href=\"https://www.freecodecamp.org/news/ios-concurrency/\">\n        \n        <meta name=\"referrer\" content=\"no-referrer-when-downgrade\">\n\n        \n\n        \n    <meta name=\"description\" content=\"Concurrency in iOS is a massive topic. So in this article I want to zoom in on a sub-topic concerning queues and the Grand Central Dispatch (GCD) framework.  In particular, I wish to explore the differences between serial and concurrent queues, as well as the differences between synchronous and\">\n\n    \n    <meta property=\"og:site_name\" content=\"freeCodeCamp.org\">\n    <meta property=\"og:type\" content=\"article\">\n    <meta property=\"og:title\" content=\"Concurrency Explained: How to Build a Multi-Threaded iOS App\">\n    \n        <meta property=\"og:description\" content=\"Concurrency in iOS is a massive topic. So in this article I want to zoom in on a sub-topic concerning queues and the Grand Central Dispatch (GCD) framework.  In particular, I wish to explore the differences between serial and concurrent queues, as well as the differences between synchronous and\">\n    \n    <meta property=\"og:url\" content=\"https://www.freecodecamp.org/news/ios-concurrency/\">\n    <meta property=\"og:image\" content=\"https://www.freecodecamp.org/news/content/images/2020/03/onur-k-fHDVylCKLX0-unsplash-3.jpg\">\n    <meta property=\"article:published_time\" content=\"2020-01-28T01:24:39.000Z\">\n    <meta property=\"article:modified_time\" content=\"2020-03-03T21:49:07.000Z\">\n    \n        <meta property=\"article:tag\" content=\"Concurrency\">\n    \n        <meta property=\"article:tag\" content=\"iOS\">\n    \n    <meta property=\"article:publisher\" content=\"https://www.facebook.com/freecodecamp\">\n    \n\n    \n    <meta name=\"twitter:card\" content=\"summary_large_image\">\n    <meta name=\"twitter:title\" content=\"Concurrency Explained: How to Build a Multi-Threaded iOS App\">\n    \n        <meta name=\"twitter:description\" content=\"Concurrency in iOS is a massive topic. So in this article I want to zoom in on a sub-topic concerning queues and the Grand Central Dispatch (GCD) framework.  In particular, I wish to explore the differences between serial and concurrent queues, as well as the differences between synchronous and\">\n    \n    <meta name=\"twitter:url\" content=\"https://www.freecodecamp.org/news/ios-concurrency/\">\n    <meta name=\"twitter:image\" content=\"https://www.freecodecamp.org/news/content/images/2020/03/onur-k-fHDVylCKLX0-unsplash-3.jpg\">\n    <meta name=\"twitter:label1\" content=\"Written by\">\n    <meta name=\"twitter:data1\" content=\"Besher Al Maleh\">\n    <meta name=\"twitter:label2\" content=\"Filed under\">\n    <meta name=\"twitter:data2\" content=\"Concurrency, iOS\">\n    <meta name=\"twitter:site\" content=\"@freecodecamp\">\n    \n        <meta name=\"twitter:creator\" content=\"@BesherMaleh\">\n    \n\n    <meta property=\"og:image:width\" content=\"2000\">\n    <meta property=\"og:image:height\" content=\"972\">\n\n\n        \n    <script type=\"application/ld+json\">{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2020/03/onur-k-fHDVylCKLX0-unsplash-3.jpg\",\n\t\t\"width\": 2000,\n\t\t\"height\": 972\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/ios-concurrency/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2020-01-28T01:24:39.000Z\",\n\t\"dateModified\": \"2020-03-03T21:49:07.000Z\",\n\t\"keywords\": \"Concurrency, iOS\",\n\t\"description\": \"Concurrency in iOS is a massive topic. So in this article I want to zoom in on a\\nsub-topic concerning queues and the Grand Central Dispatch (GCD) framework. \\n\\nIn particular, I wish to explore the differences between serial and concurrent\\nqueues, as well as the differences between synchronous and asynchronous\\nexecution.\\n\\nIf you&#x27;ve never used GCD before, this article is a great place to start. If you\\nhave some experience with GCD, but are still curious about the topics mentioned\\nabove, I think you\",\n\t\"headline\": \"Concurrency Explained: How to Build a Multi-Threaded iOS App\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Besher Al Maleh\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/besher/\",\n\t\t\"sameAs\": [\n\t\t\t\"https://www.besher.ca/\",\n\t\t\t\"https://twitter.com/BesherMaleh\"\n\t\t],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2020/01/Profile-8--1-.jpg\",\n\t\t\t\"width\": 300,\n\t\t\t\"height\": 343\n\t\t}\n\t}\n}</script>\n\n\n        <meta name=\"generator\" content=\"Eleventy\">\n        <link rel=\"alternate\" type=\"application/rss+xml\" title=\"freeCodeCamp.org\" href=\"https://www.freecodecamp.org/news/rss/\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n\n<!-- dataLayer setup -->\n<script>\nwindow.dataLayer = window.dataLayer || [];\n</script>\n<!-- End dataLayer setup -->\n\n<!-- Google Tag Manager -->\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');</script>\n<!-- End Google Tag Manager -->\n\n\n<meta name=\"google-site-verification\" content=\"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E\">\n\n        \n        \n\n        \n  <meta name=\"x-fcc-source\" data-test-label=\"x-fcc-source\" content=\"Ghost\">\n\n    </head>\n\n    \n        <body class=\"home-template\">\n    \n        <div class=\"site-wrapper\">\n            <nav class=\"site-nav nav-padding\">\n    <div class=\"site-nav-left\">\n        \n<form id=\"search-form\" data-test-label=\"search-bar\">\n    <div role=\"search\" class=\"searchbox__wrapper\">\n        <label class=\"fcc_sr_only\" for=\"search-input\">\n            Search\n        </label>\n        <input type=\"search\" placeholder=\"\n    Search 11,200+ tutorials\n\" id=\"search-input\">\n        <button type=\"submit\" class=\"ais-SearchBox-submit\">\n            <svg class=\"ais-SearchBox-submitIcon\" xmlns=\"https://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 40 40\">\n    <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n</svg>\n\n            <span class=\"fcc_sr_only\">Submit your search query</span>\n        </button>\n        <div id=\"dropdown-container\"></div>\n    </div>\n</form>\n\n    </div>\n    <div class=\"site-nav-middle\">\n        <a class=\"site-nav-logo\" href=\"https://www.freecodecamp.org/news/\" data-test-label=\"site-nav-logo\"><img src=\"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\" alt=\"freeCodeCamp.org\"></a>\n    </div>\n    <div class=\"site-nav-right\">\n        <div class=\"nav-group\">\n            <a class=\"nav-forum\" id=\"nav-forum\" rel=\"noopener noreferrer\" href=\"https://forum.freecodecamp.org/\" target=\"_blank\" data-test-label=\"forum-button\">Forum</a>\n            <a class=\"toggle-button-nav\" id=\"nav-donate\" rel=\"noopener noreferrer\" href=\"https://www.freecodecamp.org/donate/\" target=\"_blank\" data-test-label=\"donate-button\">Donate</a>\n        </div>\n    </div>\n</nav>\n\n\n            \n            <a class=\"banner\" id=\"banner\" data-test-label=\"banner\" rel=\"noopener noreferrer\" target=\"_blank\">\n    <p id=\"banner-text\"></p>\n</a>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const e=document.getElementById(\"banner\"),t=document.getElementById(\"banner-text\");isAuthenticated?(t.innerHTML=\"Support our charity and our mission. <span>Donate to freeCodeCamp.org</span>.\",e.href=\"https://www.freecodecamp.org/donate\",e.setAttribute(\"text-variation\",\"authenticated\")):isDonor?(t.innerHTML=\"Thank you for supporting freeCodeCamp through <span>your donations</span>.\",e.href=\"https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp/\",e.setAttribute(\"text-variation\",\"donor\")):(t.innerHTML=\"Learn to code — <span>free 3,000-hour curriculum</span>\",e.href=\"https://www.freecodecamp.org/\",e.setAttribute(\"text-variation\",\"default\"))}));</script>\n\n\n            <div id=\"error-message\"></div>\n\n            \n    <main id=\"site-main\" class=\"post-template site-main outer\">\n        <div class=\"inner ad-layout\">\n            <article class=\"post-full post\">\n                <header class=\"post-full-header\">\n                    <section class=\"post-full-meta\">\n                        <time class=\"post-full-meta-date\" data-test-label=\"post-full-meta-date\" datetime=\"Tue Jan 28 2020 01:24:39 GMT+0000 (Coordinated Universal Time)\">\n                            January 28, 2020\n                        </time>\n                        \n                            <span class=\"date-divider\">/</span>\n                            <a dir=\"ltr\" href=\"/news/tag/concurrency/\">\n                                #Concurrency\n                            </a>\n                        \n                    </section>\n                    <h1 class=\"post-full-title\" data-test-label=\"post-full-title\">Concurrency Explained: How to Build a Multi-Threaded iOS App</h1>\n                </header>\n                <div class=\"post-full-author-header\" data-test-label=\"author-header-no-bio\">\n                    \n                        \n                            \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2020/01/Profile-8--1-.jpg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2020/01/Profile-8--1-.jpg\" class=\"author-profile-image\" alt=\"Besher Al Maleh\" width=\"300\" height=\"343\" onerror=\"this.style.display='none'\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content author-card-content-no-bio\">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/besher/\" data-test-label=\"profile-link\">\n                    \n                        Besher Al Maleh\n                    \n                </a>\n            </span>\n            \n        </section>\n    </section>\n\n                        \n                    \n                </div>\n                <figure class=\"post-full-image\">\n                    \n    <picture>\n      <source media=\"(max-width: 700px)\" sizes=\"1px\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w\">\n      <source media=\"(min-width: 701px)\" sizes=\"(max-width: 800px) 400px, (max-width: 1170px) 700px, 1400px\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w300/2020/03/onur-k-fHDVylCKLX0-unsplash-3.jpg 300w, https://www.freecodecamp.org/news/content/images/size/w600/2020/03/onur-k-fHDVylCKLX0-unsplash-3.jpg 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2020/03/onur-k-fHDVylCKLX0-unsplash-3.jpg 1000w, https://www.freecodecamp.org/news/content/images/size/w2000/2020/03/onur-k-fHDVylCKLX0-unsplash-3.jpg 2000w\">\n      <img onerror=\"this.style.display='none'\" src=\"https://www.freecodecamp.org/news/content/images/size/w2000/2020/03/onur-k-fHDVylCKLX0-unsplash-3.jpg\" alt=\"Concurrency Explained: How to Build a Multi-Threaded iOS App\" ,=\"\" width=\"2000\" height=\"972\" data-test-label=\"feature-image\">\n    </picture>\n  \n                </figure>\n                <section class=\"post-full-content\">\n                    <div class=\"post-and-sidebar\">\n                        <section class=\"post-content \" data-test-label=\"post-content\">\n                            \n<p>Concurrency in iOS is a massive topic. So in this article I want to zoom in on a sub-topic concerning queues and the Grand Central Dispatch (GCD) framework. </p><p>In particular, I wish to explore the differences between serial and concurrent queues, as well as the differences between synchronous and asynchronous execution.</p><p>If you've never used GCD before, this article is a great place to start. If you have some experience with GCD, but are still curious about the topics mentioned above, I think you will still find it useful. And I hope you will pick up one or two new things along the way. </p><p>I created a SwiftUI companion app to visually demonstrate the concepts in this article. The app also has a fun short quiz that I encourage you to try before and after reading this article. <a href=\"https://github.com/almaleh/Dispatcher\" rel=\"noopener\">Download the source code here</a>, or get the <a href=\"https://testflight.apple.com/join/2tC0CKMO\" rel=\"noopener\">public beta here</a>.</p><p>I will begin with an introduction to GCD, followed by a detailed explanation on sync, async, serial and concurrent. Afterwards, I will cover some pitfalls when working with concurrency. Finally, I will end with a summary and some general advice.</p><h2 id=\"introduction\">Introduction</h2><p>Let’s start with a brief intro to GCD and dispatch queues. Feel free to skip to the <strong>Sync vs Async</strong> section if you are already familiar with the topic.</p><h3 id=\"concurrency-and-grand-central-dispatch\">Concurrency and Grand Central Dispatch</h3><p>Concurrency lets you take advantage of the fact that your device has multiple CPU cores. To make use of these cores, you will need to use multiple threads. However, threads are a low-level tool, and managing threads manually in an efficient manner is extremely difficult.</p><p><a href=\"https://developer.apple.com/documentation/DISPATCH\" rel=\"noopener\">Grand Central Dispatch</a> was created by Apple over 10 years ago as an abstraction to help developers write multi-threaded code without manually creating and managing the threads themselves.</p><p>With GCD, Apple took an <a href=\"https://developer.apple.com/library/archive/documentation/General/Conceptual/ConcurrencyProgrammingGuide/ConcurrencyandApplicationDesign/ConcurrencyandApplicationDesign.html#//apple_ref/doc/uid/TP40008091-CH100-SW8\" rel=\"noopener\"><em>asynchronous design approach</em></a><em> </em>to the problem. Instead of creating threads directly, you use GCD to schedule work tasks, and the system will perform these tasks for you by making the best use of its resources. GCD will handle creating the requisite threads and will schedule your tasks on those threads, shifting the burden of thread management from the developer to the system.</p><p>A big advantage of GCD is that you don’t have to worry about hardware resources as you write your concurrent code. GCD manages a thread pool for you, and it will scale from a single-core Apple Watch all the way up to a many-core MacBook Pro.</p><h3 id=\"dispatch-queues\">Dispatch Queues</h3><p>These are the main building blocks of GCD which let you execute arbitrary blocks of code using a set of parameters that you define. The tasks in dispatch queues are always started in a first-in, first-out (FIFO) fashion. Note that I said <em>started</em>, because the completion time of your tasks depends on several factors, and is not guaranteed to be FIFO (more on that later.)</p><p>Broadly speaking, there are three kinds of queues available to you:</p><ul><li>The Main dispatch queue (serial, pre-defined)</li><li>Global queues (concurrent, pre-defined)</li><li>Private queues (can be serial or concurrent, you create them)</li></ul><p>Every app comes with a Main queue, which is a <em>serial</em> queue that executes tasks on the main thread. This queue is responsible for drawing your application’s UI and responding to user interactions (touch, scroll, pan, etc.) If you block this queue for too long, your iOS app will appear to freeze, and your macOS app will display the infamous beach ball/spinning wheel.</p><p>When performing a long-running task (network call, computationally intensive work, etc), we avoid freezing the UI by performing this work on a background queue. Then we update the UI with the results on the main queue:</p><figure class=\"kg-card kg-code-card\"><pre><code class=\"language-swift\">URLSession.shared.dataTask(with: url) { data, response, error in\n    if let data = data {\n        DispatchQueue.main.async { // UI work\n            self.label.text = String(data: data, encoding: .utf8)\n        }\n    }\n}</code></pre><figcaption>URLSession delivers callbacks on a background queue</figcaption></figure><p>As a rule of thumb, all UI work must be executed on the Main queue. You can turn on the Main Thread Checker option in Xcode to receive warnings whenever UI work gets executed on a background thread.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1-HwivHHBJZKmFzhQfiJZ3nQ.png\" class=\"kg-image\" alt=\"the main thread checker can be found in the scheme editor\" width=\"1790\" height=\"1010\" loading=\"lazy\"></figure><p>In addition to the main queue, every app comes with several pre-defined concurrent queues that have varying levels of <a href=\"https://developer.apple.com/library/archive/documentation/Performance/Conceptual/EnergyGuide-iOS/PrioritizeWorkWithQoS.html\" rel=\"noopener\">Quality of Service</a> (an abstract notion of priority in GCD.)</p><p>For example, here’s the code to submit work asynchronously to the <em>user interactive</em> (highest priority) QoS queue:</p><pre><code class=\"language-swift\">DispatchQueue.global(qos: .userInteractive).async {\n    print(\"We're on a global concurrent queue!\") \n}</code></pre><p>Alternatively, you can call the <em>default priority</em> global queue by not specifying a QoS like this:</p><figure class=\"kg-card kg-code-card\"><pre><code class=\"language-swift\">DispatchQueue.global().async {\n    print(\"Generic global queue\")\n}</code></pre><figcaption>default QoS falls somewhere between <strong>user initiated</strong> and <strong>utility</strong></figcaption></figure><p>Additionally, you can create your own private queues using the following syntax:</p><figure class=\"kg-card kg-code-card\"><pre><code class=\"language-swift\">let serial = DispatchQueue(label: \"com.besher.serial-queue\")\nserial.async {\n    print(\"Private serial queue\")\n}</code></pre><figcaption>private queues are serial by default</figcaption></figure><p>When creating private queues, it helps to use a descriptive label (such as reverse DNS notation), as this will aid you while debugging in Xcode’s navigator, lldb, and Instruments:</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1-vri5m4HJq2CBLeTUYg-RTQ-1.png\" class=\"kg-image\" alt=\"1-vri5m4HJq2CBLeTUYg-RTQ-1\" width=\"364\" height=\"217\" loading=\"lazy\"></figure><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1-zc_ZBGW9gVUF4h7TQA5Lgw.png\" class=\"kg-image\" alt=\"1-zc_ZBGW9gVUF4h7TQA5Lgw\" width=\"705\" height=\"126\" loading=\"lazy\"></figure><p>By default, private queues are <em>serial</em> (I’ll explain what this means shortly, promise!) If you want to create a private <em>concurrent</em> queue, you can do so via the optional <em>attributes</em> parameter:</p><pre><code class=\"language-swift\">let concurrent = DispatchQueue(label: \"com.besher.serial-queue\", attributes: .concurrent)\nconcurrent.sync {\n    print(\"Private concurrent queue\")\n}</code></pre><p>There is an optional QoS parameter as well. The private queues that you create will ultimately land in one of the global concurrent queues based on their given parameters.</p><h3 id=\"what-s-in-a-task\">What’s in a task?</h3><p>I mentioned dispatching tasks to queues. Tasks can refer to any block of code that you submit to a queue using the <code>sync</code> or <code>async</code> functions. They can be submitted in the form of an anonymous closure:</p><pre><code class=\"language-swift\">DispatchQueue.global().async {\n    print(\"Anonymous closure\")\n}</code></pre><p>Or inside a <a href=\"https://developer.apple.com/documentation/dispatch/dispatchworkitem\" rel=\"noopener\">dispatch work item</a> that gets performed later:</p><figure class=\"kg-card kg-code-card\"><pre><code class=\"language-swift\">let item = DispatchWorkItem(qos: .utility) {\n    print(\"Work item to be executed later\")\n}</code></pre><figcaption>notice how we defined a task QoS here</figcaption></figure><p>Regardless of whether you dispatch synchronously or asynchronously, and whether you choose a serial or concurrent queue, all of the code inside a single task will execute line by line. Concurrency is only relevant when evaluating <em>multiple</em> tasks.</p><p>For example, if you have 3 loops inside the <strong>same</strong> task, these loops will <em>always</em> execute in order:</p><pre><code class=\"language-swift\">DispatchQueue.global().async {\n    for i in 0..&lt;10 {\n        print(i)\n    }\n\n    for _ in 0..&lt;10 {\n        print(\"?\")\n    }\n\n    for _ in 0..&lt;10 {\n        print(\"?\")\n    }\n}</code></pre><p>This code always prints out ten digits from 0 to 9, followed by ten blue circles, followed by ten broken hearts, regardless of how you dispatch that closure.</p><p>Individual tasks can also have their own QoS level as well (by default they use their queue’s priority.) This distinction between queue QoS and task QoS leads to some interesting behaviour that we will discuss in the priority inversion section.</p><p>By now you might be wondering what <em>serial</em> and <em>concurrent</em> are all about. You might also be wondering about the differences between <code>sync</code> and <code>async</code> when submitting your tasks. This brings us to the crux of this article, so let’s dive in!</p><h2 id=\"sync-vs-async\">Sync vs Async</h2><p>When you dispatch a task to a queue, you can choose to do so synchronously or asynchronously using the <code>sync</code> and <code>async</code> dispatch functions. Sync and async primarily affect the <strong>source</strong> of the submitted task, that is the queue where it is being submitted <em>from</em>.</p><p>When your code reaches a <code>sync</code> statement, it will block the current queue until that task completes. Once the task returns/completes, control is returned to the caller, and the code that follows the <code>sync</code> task will continue.</p><p>Think of <code>sync</code> as synonymous with ‘blocking’.</p><p>An <code>async</code> statement, on the other hand, will execute asynchronously with respect to the current queue, and immediately returns control back to the caller without waiting for the contents of the <code>async</code> closure to execute. There is no guarantee as to when exactly the code inside that async closure will execute.</p><h3 id=\"current-queue\">Current queue?</h3><p>It may not be obvious what the source, or <em>current</em>, queue is, because it’s not always explicitly defined in the code. </p><p>For example, if you call your <code>sync</code> statement inside viewDidLoad, your current queue will be the Main dispatch queue. If you call the same function inside a URLSession completion handler, your current queue will be a background queue.</p><p>Going back to sync vs async, let’s take this example:</p><pre><code class=\"language-swift\">DispatchQueue.global().sync {\n    print(\"Inside\")\n}\nprint(\"Outside\")\n// Console output:\n// Inside\n// Outside</code></pre><p>The above code will block the current queue, enter the closure and execute its code on the global queue by printing “Inside”, before proceeding to print “Outside”. This order is guaranteed.</p><p>Let’s see what happens if we try <code>async</code> instead:</p><pre><code class=\"language-swift\">DispatchQueue.global().async {\n    print(\"Inside\")\n}\nprint(\"Outside\")\n// Potential console output (based on QoS): \n// Outside\n// Inside</code></pre><p>Our code now submits the closure to the global queue, then immediately proceeds to run the next line. It will <em>likely</em> print “Outside” before “Inside”, but this order isn’t guaranteed. It depends on the QoS of the source and destination queues, as well as other factors that the system controls.</p><p>Threads are an implementation detail in GCD — we do not have direct control over them and can only deal with them using queue abstractions. Nevertheless, I think it can be useful to ‘peek under the covers’ at thread behaviour to understand some challenges we might encounter with GCD.</p><p>For instance, when you submit a task using <code>sync</code>, <a href=\"https://developer.apple.com/documentation/dispatch/1452870-dispatch_sync?language=objc\" rel=\"noopener\">GCD optimizes performance by executing that task on the current thread</a> (the caller.) </p><p>There is one exception however, which is when you submit a sync task to the main queue —  doing so will always run the task on the main thread and not the caller. This behaviour can have some ramifications that we will explore in the priority inversion section.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/Sync-400.gif\" class=\"kg-image\" alt=\"Sync-400\" width=\"400\" height=\"757\" loading=\"lazy\"><figcaption><a href=\"https://github.com/almaleh/Dispatcher\" rel=\"noopener nofollow\">From Dispatcher on Github</a></figcaption></figure><h3 id=\"which-one-to-use\">Which one to use?</h3><p>When submitting work to a queue, <a href=\"https://developer.apple.com/library/archive/documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationQueues/OperationQueues.html#//apple_ref/doc/uid/TP40008091-CH102-SW21\" rel=\"noopener\">Apple recommends using asynchronous execution over synchronous execution</a>. However, there are situations where <code>sync</code> might be the better choice, such as when dealing with race conditions, or when performing a very small task. I will cover these situations shortly.</p><p>One large consequence of performing work asynchronously inside a function is that the function can no longer directly return its values (if they depend on the async work that’s being done). It must instead use a closure/completion handler parameter to deliver the results.</p><p>To demonstrate this concept, let’s take a small function that accepts image data, performs some expensive computation to process the image, then returns the result:</p><pre><code class=\"language-swift\">func processImage(data: Data) -&gt; UIImage? {\n    guard let image = UIImage(data: data) else { return nil }\n    // calling an expensive function\n    let processedImage = upscaleAndFilter(image: image)\n    return processedImage \n}</code></pre><p>In this example, the function <code>upscaleAndFilter(image:)</code> might take several seconds, so we want to offload it into a separate queue to avoid freezing the UI. Let’s create a dedicated queue for image processing, and then dispatch the expensive function asynchronously:</p><figure class=\"kg-card kg-code-card\"><pre><code class=\"language-swift\">let imageProcessingQueue = DispatchQueue(label: \"com.besher.image-processing\")\n\nfunc processImageAsync(data: Data) -&gt; UIImage? {\n    guard let image = UIImage(data: data) else { return nil }\n    \n    imageProcessingQueue.async {\n        let processedImage = upscaleAndFilter(image: image)\n        return processedImage\n    }\n}</code></pre><figcaption>this code doesn't compile!</figcaption></figure><p>There are two issues with this code. First, the return statement is inside the async closure, so it is no longer returning a value to the <code>processImageAsync(data:)</code> function, and currently serves no purpose. </p><p>But the bigger issue is that our <code>processImageAsync(data:)</code> function is no longer returning any value, because the function reaches the end of its body before it enters the <code>async</code> closure.</p><p>To fix this error, we will adjust the function so that it no longer directly returns a value. Instead, it will have a new completion handler parameter that we can call once our asynchronous function has completed its work:</p><pre><code class=\"language-swift\">let imageProcessingQueue = DispatchQueue(label: \"com.besher.image-processing\")\n\nfunc processImageAsync(data: Data, completion: @escaping (UIImage?) -&gt; Void) {\n    guard let image = UIImage(data: data) else {\n        completion(nil)\n        return\n    }\n\n    imageProcessingQueue.async {\n        let processedImage =  self.upscaleAndFilter(image: image)\n        completion(processedImage)\n    }\n}</code></pre><p>As evident in this example, the change to make the function asynchronous has propagated to its caller, who now has to pass in a closure and handle the results asynchronously as well. By introducing an asynchronous task, you can potentially end up modifying a chain of several functions.</p><p>Concurrency and asynchronous execution add complexity to your project as we just observed. This indirection also makes debugging more difficult. That’s why it really pays off to think about concurrency early in your design — it’s not something you want to tack on at the end of your design cycle.</p><p>Synchronous execution, by contrast, does not increase complexity. Rather, it allows you to continue using return statements as you did before. A function containing a <code>sync</code> task will not return until the code inside that task has completed. Therefore it does not require a completion handler.</p><p>If you are submitting a tiny task (for example, updating a value), consider doing it synchronously. Not only does that help you keep your code simple, it will also perform better — Async is believed to <a href=\"https://gist.github.com/tclementdev/6af616354912b0347cdf6db159c37057\">incur an overhead</a> that outweighs the benefit of doing the work asynchronously for tiny tasks that take under 1ms to complete.</p><p>If you are submitting a large task, however, like the image processing we performed above, then consider doing it asynchronously to avoid blocking the caller for too long.</p><h3 id=\"dispatching-on-the-same-queue\">Dispatching on the same queue</h3><p>While it is safe to dispatch a task asynchronously from a queue into itself (for example, you can use <a href=\"https://developer.apple.com/documentation/dispatch/dispatchqueue/2300020-asyncafter\" rel=\"noopener\">.asyncAfter</a> on the current queue), you can not dispatch a task <em>synchronously</em> from a queue into the same queue. Doing so will result in a deadlock that immediately crashes the app!</p><p>This issue can manifest itself when performing a chain of synchronous calls that lead back to the original queue. That is, you <code>sync</code> a task onto another queue, and when the task completes, it syncs the results back into the original queue, leading to a deadlock. Use <code>async</code> to avoid such crashes.</p><h3 id=\"blocking-the-main-queue\">Blocking the main queue</h3><p>Dispatching tasks synchronously <em>from</em> the main queue will block that queue, thereby freezing the UI, until the task is completed. Thus it’s better to avoid dispatching work synchronously from the main queue unless you’re performing really light work.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/Async-400.gif\" class=\"kg-image\" alt=\"Async-400\" width=\"400\" height=\"757\" loading=\"lazy\"><figcaption><a href=\"https://github.com/almaleh/Dispatcher\" rel=\"noopener nofollow\">prefer to use async from the main queue</a></figcaption></figure><h2 id=\"serial-vs-concurrent\">Serial vs Concurrent</h2><p><em>Serial</em> and <em>concurrent</em> affect the <strong>destination </strong>—  the queue in which your work has been submitted to run. This is in contrast to <em>sync</em> and <em>async</em>, which affected the <strong>source</strong>.</p><p>A serial queue will not execute its work on more than one thread at a time, regardless of how many tasks you dispatch on that queue. Consequently, the tasks are guaranteed to not only start, but also terminate, in first-in, first-out order. </p><p>Moreover, when you block a serial queue (using a <code>sync</code> call, semaphore, or some other tool), all work on that queue will halt until the block is over.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/Serial-400.gif\" class=\"kg-image\" alt=\"Serial-400\" width=\"400\" height=\"757\" loading=\"lazy\"><figcaption><a href=\"https://github.com/almaleh/Dispatcher\" rel=\"noopener nofollow\">From Dispatcher on Github</a></figcaption></figure><p>A concurrent queue can spawn multiple threads, and the system decides how many threads are created. Tasks always <em>start</em> in FIFO order, but the queue does not wait for tasks to finish before starting the next task, therefore tasks on concurrent queues can finish in any order. </p><p>When you perform a blocking command on a concurrent queue, it will not block the other threads on this queue. Additionally, when a concurrent queue gets blocked, it runs the risk of <em>thread explosion</em>. I will cover this in more detail later on.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/Concurrent-400.gif\" class=\"kg-image\" alt=\"Concurrent-400\" width=\"400\" height=\"757\" loading=\"lazy\"><figcaption><a href=\"https://github.com/almaleh/Dispatcher\" rel=\"noopener nofollow\">From Dispatcher on Github</a></figcaption></figure><p>The main queue in your app is serial. All the global pre-defined queues are concurrent. Any private dispatch queue you create is serial by default, but can be set to be concurrent using an optional attribute as discussed earlier.</p><p>It’s important to note here that the concept of <em>serial</em> vs <em>concurrent</em> is only relevant when discussing a specific queue. All queues are concurrent relative to <em>each other</em>. </p><p>That is, if you dispatch work asynchronously from the main queue to a private <em>serial</em> queue, that work will be completed <em>concurrently</em> with respect to the main queue. And if you create two different serial queues, and then perform blocking work on one of them, the other queue is unaffected.</p><p>To demonstrate the concurrency of multiple serial queues, let’s take this example:</p><pre><code class=\"language-swift\">let serial1 = DispatchQueue(label: \"com.besher.serial1\")\nlet serial2 = DispatchQueue(label: \"com.besher.serial2\")\n\nserial1.async {\n    for _ in 0..&lt;5 { print(\"?\") }\n}\n\nserial2.async {\n    for _ in 0..&lt;5 { print(\"?\") }\n}</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1-zJztLeessQUMvONpoLW0ZQ.png\" class=\"kg-image\" alt=\"1-zJztLeessQUMvONpoLW0ZQ\" width=\"321\" height=\"298\" loading=\"lazy\"></figure><p>Both queues here are serial, but the results are jumbled up because they execute concurrently in relation to each other. The fact that they’re each serial (or concurrent) has no effect on this result. Their QoS level determines who will <em>generally</em> finish first (order not guaranteed).</p><p>If we want to ensure that the first loop finishes first before starting the second loop, we can submit the first task synchronously from the caller:</p><pre><code class=\"language-swift\">let serial1 = DispatchQueue(label: \"com.besher.serial1\")\nlet serial2 = DispatchQueue(label: \"com.besher.serial2\")\n\nserial1.sync { // &lt;---- we changed this to 'sync'\n    for _ in 0..&lt;5 { print(\"?\") }\n}\n// we don't get here until first loop terminates\nserial2.async {\n    for _ in 0..&lt;5 { print(\"?\") }\n}</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1-s1N-5HfXpcAtsKQ3tZ-DHQ-2.png\" class=\"kg-image\" alt=\"1-s1N-5HfXpcAtsKQ3tZ-DHQ-2\" width=\"321\" height=\"295\" loading=\"lazy\"></figure><p>This is not necessarily desirable, because we are now blocking the caller while the first loop is executing.</p><p>To avoid blocking the caller, we can submit both tasks asynchronously, but to the <em>same</em> serial queue:</p><pre><code class=\"language-swift\">let serial = DispatchQueue(label: \"com.besher.serial\")\n\nserial.async {\n    for _ in 0..&lt;5 { print(\"?\") }\n}\n\nserial.async {\n    for _ in 0..&lt;5 { print(\"?\") }\n}\t</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1-s1N-5HfXpcAtsKQ3tZ-DHQ-2-1.png\" class=\"kg-image\" alt=\"1-s1N-5HfXpcAtsKQ3tZ-DHQ-2-1\" width=\"321\" height=\"295\" loading=\"lazy\"></figure><p>Now our tasks execute concurrently with respect to the <em>caller</em>, while also keeping their order intact.</p><p>Note that if we make our single queue concurrent via the optional parameter, we go back to the jumbled results, as expected:</p><pre><code class=\"language-swift\">let concurrent = DispatchQueue(label: \"com.besher.concurrent\", attributes: .concurrent)\n\nconcurrent.async {\n    for _ in 0..&lt;5 { print(\"?\") }\n}\n\nconcurrent.async {\n    for _ in 0..&lt;5 { print(\"?\") }\n}</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1-zJztLeessQUMvONpoLW0ZQ-1.png\" class=\"kg-image\" alt=\"1-zJztLeessQUMvONpoLW0ZQ-1\" width=\"321\" height=\"298\" loading=\"lazy\"></figure><p>Sometimes you might confuse synchronous execution with serial execution (at least I did), but they are very different things. For example, try changing the first dispatch on line 3 from our previous example to a <code>sync</code> call:</p><figure class=\"kg-card kg-code-card\"><pre><code class=\"language-swift\">let concurrent = DispatchQueue(label: \"com.besher.concurrent\", attributes: .concurrent)\n\nconcurrent.sync {\n    for _ in 0..&lt;5 { print(\"?\") }\n}\n\nconcurrent.async {\n    for _ in 0..&lt;5 { print(\"?\") }\n}</code></pre><figcaption>this can be misleading</figcaption></figure><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1-s1N-5HfXpcAtsKQ3tZ-DHQ.png\" class=\"kg-image\" alt=\"1-s1N-5HfXpcAtsKQ3tZ-DHQ\" width=\"321\" height=\"295\" loading=\"lazy\"></figure><p>Suddenly, our results are back in perfect order. But this is a concurrent queue, so how could that happen? Did the <code>sync</code> statement somehow turn it into a serial queue?</p><p>The answer is <strong>no!</strong></p><p>This is a bit sneaky. What happened is that we did not reach the <code>async</code> call until the first task had completed its execution. The queue is still very much concurrent, but inside this zoomed-in section of the code. it appears as if it were serial. This is because we are blocking the caller, and not proceeding to the next task, until the first one is finished.</p><p>If another queue somewhere else in your app tried submitting work to this same queue while it was still executing the <code>sync</code> statement, that work <em>will</em> run concurrently with whatever we got running here, because it’s still a concurrent queue.</p><h3 id=\"which-one-to-use-1\">Which one to use?</h3><p>Serial queues take advantage of CPU optimizations and caching, and help reduce context switching. </p><p>Apple recommends starting with one serial queue per subsystem in your app —  for example one for networking, one for file compression, etc. If the need arises, you can later expand to a <a href=\"https://developer.apple.com/videos/play/wwdc2017/706/\" rel=\"noopener\">hierarchy of queues per subsystem</a> using the <a href=\"https://developer.apple.com/documentation/dispatch/dispatchobject/1452989-settarget\" rel=\"noopener\">setTarget method</a> or the <a href=\"https://developer.apple.com/documentation/dispatch/dispatchqueue/2300059-init\" rel=\"noopener\">optional target parameter</a> when building queues.</p><p>If you run into a performance bottleneck, measure your app’s performance then see if a concurrent queue helps. If you do not see a measurable benefit, it’s better to stick to serial queues.</p><h2 id=\"pitfalls\">Pitfalls</h2><h3 id=\"priority-inversion-and-quality-of-service\">Priority Inversion and Quality of Service</h3><p><a href=\"https://en.wikipedia.org/wiki/Priority_inversion\" rel=\"noopener\">Priority inversion</a> is when a high priority task is prevented from running by a lower priority task, effectively inverting their relative priorities.</p><p>This situation often occurs when a high QoS queue shares a resources with a low QoS queue, and the low QoS queue gets a lock on that resource. </p><p>But I wish to cover a different scenario that is more relevant to our discussion —  it’s when you submit tasks to a low QoS serial queue, then submit a high QoS task to that same queue. This scenario also results in priority inversion, because the high QoS task has to wait on the lower QoS tasks to finish.</p><p>GCD resolves priority inversion by temporarily raising the QoS of the queue that contains the low priority tasks that are ‘ahead’ of, or blocking, your high priority task. </p><p>It’s kind of like having cars stuck<em> in front</em> <em>of</em> an ambulance. Suddenly they’re allowed to cross the red light just so that the ambulance can move (in reality the cars move to the side, but imagine a narrow (serial) street or something, you get the point :-P)</p><p>To illustrate the inversion problem, let’s start with this code:</p><pre><code class=\"language-swift\">\nenum Color: String {\n    case blue = \"?\"\n    case white = \"⚪️\"\n}\n\nfunc output(color: Color, times: Int) {\n    for _ in 1...times {\n        print(color.rawValue)\n    }\n}\n\nlet starterQueue = DispatchQueue(label: \"com.besher.starter\", qos: .userInteractive)\nlet utilityQueue = DispatchQueue(label: \"com.besher.utility\", qos: .utility)\nlet backgroundQueue = DispatchQueue(label: \"com.besher.background\", qos: .background)\nlet count = 10\n\nstarterQueue.async {\n\n    backgroundQueue.async {\n        output(color: .white, times: count)\n    }\n\n    backgroundQueue.async {\n        output(color: .white, times: count)\n    }\n\n    utilityQueue.async {\n        output(color: .blue, times: count)\n    }\n\n    utilityQueue.async {\n        output(color: .blue, times: count)\n    }\n\n    // next statement goes here\n}</code></pre><p>We create a starter queue (where we submit the tasks <em>from</em>), as well as two queues with different QoS. Then we dispatch tasks to each of these two queues, each task printing out an equal number of circles of a specific colour (<em>utility </em>queue<em> </em>is blue, <em>background</em> is white.)</p><p>Because these tasks are submitted asynchronously, every time you run the app, you’re going to see slightly different results. However, as you would expect, the queue with the lower QoS (background) almost always finishes last. In fact, the last 10–15 circles are usually all white.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1-woRLw218x4QZKFov0w1hDA.gif\" class=\"kg-image\" alt=\"1-woRLw218x4QZKFov0w1hDA\" width=\"334\" height=\"316\" loading=\"lazy\"><figcaption>no surprises here</figcaption></figure><p>But watch what happens when we submit a <strong>sync</strong> task to the background queue after the last async statement. You don’t even need to print anything inside the <code>sync</code> statement, just adding this line is enough:</p><pre><code class=\"language-swift\">// add this after the last async statement, \n// still inside starterQueue.async\nbackgroundQueue.sync {}</code></pre><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1-yxMCgE4Vy8Ws2309CvYelA.gif\" class=\"kg-image\" alt=\"1-yxMCgE4Vy8Ws2309CvYelA\" width=\"332\" height=\"314\" loading=\"lazy\"><figcaption>priority inversion</figcaption></figure><p>The results in the console have flipped! Now, the higher priority queue (utility) always finishes last, and the last 10–15 circles are <em>blue.</em></p><p>To understand why that happens, we need to revisit the fact that synchronous work is executed on the caller thread (unless you’re submitting to the main queue.) </p><p>In our example above, the caller (starterQueue) has the top QoS (userInteractive.) Therefore, that seemingly innocuous <code>sync</code> task is not only blocking the starter queue, but it’s also running on the starter’s high QoS thread. The task therefore runs with high QoS, but there are two other tasks ahead of it on the same background queue that have <em>background</em> QoS. Priority inversion detected!</p><p>As expected, GCD resolves this inversion by raising the QoS of the entire queue to temporarily match the high QoS task. Consequently, all the tasks on the background queue end up running at <em>user interactive</em> QoS, which is higher than the <em>utility</em> QoS. And that’s why the utility tasks finish last!</p><p>Side-note: If you remove the starter queue from that example and submit from the main queue instead, you will get similar results, as the main queue also has <em>user interactive</em> QoS.</p><p>To avoid priority inversion in this example, we need to avoid blocking the starter queue with the <code>sync</code> statement. Using <code>async</code> would solve that problem.</p><p>Although it’s not always ideal, you can minimize priority inversions by sticking to the default QoS when creating private queues or dispatching to the global concurrent queue.</p><h3 id=\"thread-explosion\">Thread explosion</h3><p>When you use a concurrent queue, you run the risk of thread explosion if you’re not careful. This can happen when you try to submit tasks to a concurrent queue that is currently blocked (for example with a semaphore, sync, or some other way.) Your tasks <em>will</em> run, but the system will likely end up spinning up new threads to accommodate these new tasks, and threads aren’t cheap.</p><p>This is likely why Apple suggests starting with a serial queue per subsystem in your app, as each serial queue can only use one thread. Remember that serial queues are concurrent in relation<em> </em>to<em> other </em>queues, so you still get a performance benefit when you offload your work to a queue, even if it isn’t concurrent.</p><h3 id=\"race-conditions\">Race conditions</h3><p>Swift Arrays, Dictionaries, Structs, and other value types are not thread-safe by default. For example, when you have multiple threads trying to access and <strong>modify</strong> the same array, you will start running into trouble.</p><p>There are different solutions to <a href=\"https://en.wikipedia.org/wiki/Readers%E2%80%93writers_problem\" rel=\"noopener\">the readers-writers problem</a>, such as using locks or semaphores. But the relevant solution I wish to discuss here is the use of an <a href=\"http://khanlou.com/2016/04/the-GCD-handbook/\" rel=\"noopener\">isolation queue</a>.</p><p>Let’s say we have an array of integers, and we want to submit asynchronous work that references this array. As long as our work only <em>reads</em> the array and does not modify it, we are safe. But as soon as we try to modify the array in one of our asynchronous tasks, we will introduce instability in our app.</p><p>It’s a tricky problem because your app can run 10 times without issues, and then it crashes on the 11th time. One very handy tool for this situation is the Thread Sanitizer in Xcode. Enabling this option will help you identify potential race conditions in your app.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1-SQpYE8quVN_ziJsg8bqrYQ.png\" class=\"kg-image\" alt=\"the thread sanitizer can be accessed in the scheme editor\" width=\"1792\" height=\"1010\" loading=\"lazy\"><figcaption><strong>t<strong>his option is only available on the simulator</strong></strong></figcaption></figure><p>To demonstrate the problem, let’s take this (admittedly contrived) example:</p><pre><code class=\"language-swift\">class ViewController: UIViewController {\n    \n    let concurrent = DispatchQueue(label: \"com.besher.concurrent\", attributes: .concurrent)\n    var array = [1,2,3,4,5]\n\n    override func viewDidLoad() {\n        for _ in 0...1 {\n            race()\n        }\n    }\n\n    func race() {\n\n        concurrent.async {\n            for i in self.array { // read access\n                print(i)\n            }\n        }\n\n        concurrent.async {\n            for i in 0..&lt;10 {\n                self.array.append(i) // write access\n            }\n        }\n    }\n}</code></pre><p>One of the <code>async</code> tasks is modifying the array by appending values. If you try running this on your simulator, you might not crash. But run it enough times (or increase the loop frequency on line 7), and you will eventually crash. If you enable the thread sanitizer, you will get a warning every time you run the app.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1-NNBN1ZKViVwYzqJfZenaeQ.png\" class=\"kg-image\" alt=\"1-NNBN1ZKViVwYzqJfZenaeQ\" width=\"1874\" height=\"278\" loading=\"lazy\"></figure><p>To deal with this race condition, we are going to add an isolation queue that uses the <a href=\"https://developer.apple.com/documentation/dispatch/dispatchworkitemflags/1780674-barrier\" rel=\"noopener\">barrier flag</a>. This flag allows any outstanding tasks on the queue to finish, but blocks any further tasks from executing until the barrier task is completed.</p><p>Think of the barrier like a janitor cleaning a public restroom (shared resource.) There are multiple (concurrent) stalls inside the restroom that people can use. </p><p>Upon arrival, the janitor places a cleaning sign (barrier) blocking any newcomers from entering until the cleaning is done, but the janitor does not start cleaning until all the people inside have finished their business. Once they all leave, the janitor proceeds to clean the public restroom in isolation. </p><p>When finally done, the janitor removes the sign (barrier) so that the people who are queued up outside can finally enter.</p><p>Here’s what that looks like in code:</p><pre><code class=\"language-swift\">class ViewController: UIViewController {\n    let concurrent = DispatchQueue(label: \"com.besher.concurrent\", attributes: .concurrent)\n    let isolation = DispatchQueue(label: \"com.besher.isolation\", attributes: .concurrent)\n    private var _array = [1,2,3,4,5]\n    \n    var threadSafeArray: [Int] {\n        get {\n            return isolation.sync {\n                _array\n            }\n        }\n        set {\n            isolation.async(flags: .barrier) {\n                self._array = newValue\n            }\n        }\n    }\n    \n    override func viewDidLoad() {\n        for _ in 0...15 {\n            race()\n        }\n    }\n    \n    func race() {\n        concurrent.async {\n            for i in self.threadSafeArray {\n                print(i)\n            }\n        }\n        \n        concurrent.async {\n            for i in 0..&lt;10 {\n                self.threadSafeArray.append(i)\n            }\n        }\n    }\n}</code></pre><p>We have added a new isolation queue, and restricted access to the private array using a getter and setter that will place a barrier when modifying the array.</p><p>The getter needs to be <code>sync</code> in order to directly return a value. The setter can be <code>async</code>, as we don’t need to block the caller while the write is taking place.</p><p>We could have used a serial queue without a barrier to solve the race condition, but then we would lose the advantage of having concurrent read access to the array. Perhaps that makes sense in your case, you get to decide.</p><h2 id=\"conclusion\">Conclusion</h2><p>Thank you so much for reading this far! I hope you learned something new from this article. I will leave you with a summary and some general advice:</p><h3 id=\"summary\">Summary</h3><ul><li>Queues always <em>start</em> their tasks in FIFO order</li><li>Queues are always concurrent relative to <em>other</em> queues</li><li><strong>Sync</strong> vs <strong>Async</strong> concerns the source</li><li><strong>Serial</strong> vs <strong>Concurrent</strong> concerns the destination</li><li>Sync is synonymous with ‘blocking’</li><li>Async immediately returns control to caller</li><li>Serial uses a single thread, and guarantees order of execution</li><li>Concurrent uses multiple-threads, and risks thread explosion</li><li>Think about concurrency early in your design cycle</li><li>Synchronous code is easier to reason about and debug</li><li>Avoid relying on global concurrent queues if possible</li><li>Consider starting with a serial queue per subsystem</li><li>Switch to concurrent queue only if you see a <strong>measurable</strong> performance benefit</li></ul><p>I like the metaphor from the <a href=\"https://gist.github.com/lattner/31ed37682ef1576b16bca1432ea9f782\" rel=\"noopener\">Swift Concurrency Manifesto</a> of having an ‘island of serialization in a sea of concurrency’. This sentiment was also shared in this tweet by Matt Diephouse:</p><figure class=\"kg-card kg-embed-card\"><blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">The secret to writing concurrent code is to make most of it serial. Restrict concurrency to a small, outer layer. (Serial core, concurrent shell.)<br><br>e.g. instead of using a lock to manage 5 properties, create a new type that wraps them and use a single property inside the lock.</p>— Matt Diephouse (@mdiep) <a href=\"https://twitter.com/mdiep/status/1207112168224763905?ref_src=twsrc%5Etfw\">December 18, 2019</a></blockquote>\n<script async=\"\" src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n</figure><p>When you apply concurrency with that philosophy in mind, I think it will help you achieve concurrent code that can be reasoned about without getting lost in a mess of callbacks.</p><p>If you have any questions or comments, feel free to reach out to me on <a href=\"https://twitter.com/BesherMaleh\">Twitter</a></p><p><a href=\"https://www.besher.ca\">Besher Al Maleh</a></p><p><em>Cover photo by <a href=\"https://unsplash.com/@kodozani?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Onur K</a> on <a href=\"https://unsplash.com/s/photos/railway?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash</a></em></p><h3 id=\"download-the-companion-app-here-\">Download the companion app here: </h3><figure class=\"kg-card kg-bookmark-card\"><a class=\"kg-bookmark-container\" href=\"https://github.com/almaleh/Dispatcher\"><div class=\"kg-bookmark-content\"><div class=\"kg-bookmark-title\">almaleh/Dispatcher</div><div class=\"kg-bookmark-description\">Companion app to my article on concurrency. Contribute to almaleh/Dispatcher development by creating an account on GitHub.</div><div class=\"kg-bookmark-metadata\"><img class=\"kg-bookmark-icon\" src=\"https://github.githubassets.com/favicon.ico\" width=\"32\" height=\"32\" alt=\"favicon\" loading=\"lazy\"><span class=\"kg-bookmark-author\">almaleh</span><span class=\"kg-bookmark-publisher\">GitHub</span></div></div><div class=\"kg-bookmark-thumbnail\"><img src=\"https://avatars0.githubusercontent.com/u/9113262?s=400&amp;v=4\" width=\"420\" height=\"420\" alt=\"9113262?s=400&amp;v=4\" loading=\"lazy\"></div></a></figure><h4 id=\"check-out-some-of-my-other-articles-\">Check out some of my other articles:</h4><figure class=\"kg-card kg-bookmark-card\"><a class=\"kg-bookmark-container\" href=\"https://medium.com/flawless-app-stories/fireworks-a-visual-particles-editor-for-swift-618e76347798\"><div class=\"kg-bookmark-content\"><div class=\"kg-bookmark-title\">Fireworks — A visual particles editor for Swift</div><div class=\"kg-bookmark-description\">Generate Swift code on the fly for macOS and iOS as you design and iterate on your particle effects</div><div class=\"kg-bookmark-metadata\"><img class=\"kg-bookmark-icon\" src=\"https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png\" width=\"152\" height=\"152\" alt=\"1*8I-HPL0bfoIzGied-dzOvA\" loading=\"lazy\"><span class=\"kg-bookmark-author\">Besher Al Maleh</span><span class=\"kg-bookmark-publisher\">Flawless iOS</span></div></div><div class=\"kg-bookmark-thumbnail\"><img src=\"https://miro.medium.com/freeze/max/1200/1*_CLYYOoa5ypNg2YW1B54qA.gif\" width=\"2000\" height=\"860\" alt=\"1*_CLYYOoa5ypNg2YW1B54qA\" loading=\"lazy\"></div></a></figure><figure class=\"kg-card kg-bookmark-card\"><a class=\"kg-bookmark-container\" href=\"https://medium.com/flawless-app-stories/you-dont-always-need-weak-self-a778bec505ef\"><div class=\"kg-bookmark-content\"><div class=\"kg-bookmark-title\">You don’t (always) need [weak self]</div><div class=\"kg-bookmark-description\">In this article, we’ll talk about weak self inside of Swift closures to avoid retain cycles &amp; explore cases where it may or may not be necessary to capture self weakly.</div><div class=\"kg-bookmark-metadata\"><img class=\"kg-bookmark-icon\" src=\"https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png\" width=\"152\" height=\"152\" alt=\"1*8I-HPL0bfoIzGied-dzOvA\" loading=\"lazy\"><span class=\"kg-bookmark-author\">Besher Al Maleh</span><span class=\"kg-bookmark-publisher\">Flawless iOS</span></div></div><div class=\"kg-bookmark-thumbnail\"><img src=\"https://miro.medium.com/max/1200/1*FG2MZfEg7IDLWpGBTEVU0A.png\" width=\"1200\" height=\"516\" alt=\"1*FG2MZfEg7IDLWpGBTEVU0A\" loading=\"lazy\"></div></a></figure><h4 id=\"further-reading-\">Further reading:</h4><figure class=\"kg-card kg-bookmark-card\"><a class=\"kg-bookmark-container\" href=\"https://developer.apple.com/library/archive/documentation/General/Conceptual/ConcurrencyProgrammingGuide/Introduction/Introduction.html\"><div class=\"kg-bookmark-content\"><div class=\"kg-bookmark-title\">Introduction</div><div class=\"kg-bookmark-description\">Explains how to implement concurrent code paths in an application.</div><div class=\"kg-bookmark-metadata\"></div></div></a></figure><figure class=\"kg-card kg-bookmark-card\"><a class=\"kg-bookmark-container\" href=\"https://www.objc.io/issues/2-concurrency/concurrency-apis-and-pitfalls/#grand-central-dispatch\"><div class=\"kg-bookmark-content\"><div class=\"kg-bookmark-title\">Concurrent Programming: APIs and Challenges · objc.io</div><div class=\"kg-bookmark-description\">objc.io publishes books on advanced techniques and practices for iOS and OS X development</div><div class=\"kg-bookmark-metadata\"><img class=\"kg-bookmark-icon\" src=\"https://www.objc.io/favicon.ico\" width=\"32\" height=\"32\" alt=\"favicon\" loading=\"lazy\"><span class=\"kg-bookmark-author\">Florian Kugler</span></div></div><div class=\"kg-bookmark-thumbnail\"><img src=\"https://www.objc.io/images/issue-2/gcd-queues@2x-82965db9.png\" width=\"600\" height=\"400\" alt=\"gcd-queues@2x-82965db9\" loading=\"lazy\"></div></a></figure><figure class=\"kg-card kg-bookmark-card\"><a class=\"kg-bookmark-container\" href=\"https://www.objc.io/issues/2-concurrency/low-level-concurrency-apis/\"><div class=\"kg-bookmark-content\"><div class=\"kg-bookmark-title\">Low-Level Concurrency APIs · objc.io</div><div class=\"kg-bookmark-description\">objc.io publishes books on advanced techniques and practices for iOS and OS X development</div><div class=\"kg-bookmark-metadata\"><img class=\"kg-bookmark-icon\" src=\"https://www.objc.io/favicon.ico\" width=\"32\" height=\"32\" alt=\"favicon\" loading=\"lazy\"><span class=\"kg-bookmark-author\">Daniel Eggert</span></div></div></a></figure><p><a href=\"http://khanlou.com/2016/04/the-GCD-handbook/\">http://khanlou.com/2016/04/the-GCD-handbook/</a></p><figure class=\"kg-card kg-bookmark-card\"><a class=\"kg-bookmark-container\" href=\"https://stackoverflow.com/a/53582047\"><div class=\"kg-bookmark-content\"><div class=\"kg-bookmark-title\">Concurrent vs serial queues in GCD</div><div class=\"kg-bookmark-description\">I’m struggling to fully understand the concurrent and serial queues in GCD. I have some issues and hoping someone can answer me clearly and at the point.I’m reading that serial queues are created...</div><div class=\"kg-bookmark-metadata\"><img class=\"kg-bookmark-icon\" src=\"https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a\" width=\"158\" height=\"158\" alt=\"apple-touch-icon\" loading=\"lazy\"><span class=\"kg-bookmark-author\">Bogdan Alexandru</span><span class=\"kg-bookmark-publisher\">Stack Overflow</span></div></div><div class=\"kg-bookmark-thumbnail\"><img src=\"https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon@2.png?v=73d79a89bded\" width=\"316\" height=\"316\" alt=\"apple-touch-icon@2\" loading=\"lazy\"></div></a></figure><h4 id=\"wwdc-videos-\">WWDC Videos:</h4><figure class=\"kg-card kg-bookmark-card\"><a class=\"kg-bookmark-container\" href=\"https://developer.apple.com/videos/play/wwdc2017/706/\"><div class=\"kg-bookmark-content\"><div class=\"kg-bookmark-title\">Modernizing Grand Central Dispatch Usage - WWDC 2017 - Videos - Apple Developer</div><div class=\"kg-bookmark-description\">macOS 10.13 and iOS 11 have reinvented how Grand Central Dispatch and the Darwin kernel collaborate, enabling your applications to run...</div><div class=\"kg-bookmark-metadata\"><img class=\"kg-bookmark-icon\" src=\"https://developer.apple.com/favicon.ico\" width=\"64\" height=\"64\" alt=\"favicon\" loading=\"lazy\"><span class=\"kg-bookmark-publisher\">Apple Developer</span></div></div><div class=\"kg-bookmark-thumbnail\"><img src=\"https://devimages-cdn.apple.com/wwdc-services/images/7/1717/1717_wide_250x141_2x.jpg\" width=\"500\" height=\"282\" alt=\"1717_wide_250x141_2x\" loading=\"lazy\"></div></a></figure><figure class=\"kg-card kg-bookmark-card\"><a class=\"kg-bookmark-container\" href=\"https://developer.apple.com/videos/play/wwdc2015/718/\"><div class=\"kg-bookmark-content\"><div class=\"kg-bookmark-title\">Building Responsive and Efficient Apps with GCD - WWDC 2015 - Videos - Apple Developer</div><div class=\"kg-bookmark-description\">watchOS and iOS Multitasking place increased demands on your application’s efficiency and responsiveness. With expert guidance from the...</div><div class=\"kg-bookmark-metadata\"><img class=\"kg-bookmark-icon\" src=\"https://developer.apple.com/favicon.ico\" width=\"64\" height=\"64\" alt=\"favicon\" loading=\"lazy\"><span class=\"kg-bookmark-publisher\">Apple Developer</span></div></div><div class=\"kg-bookmark-thumbnail\"><img src=\"https://devimages-cdn.apple.com/wwdc-services/images/2/588/588_wide_250x141_2x.jpg\" width=\"500\" height=\"282\" alt=\"588_wide_250x141_2x\" loading=\"lazy\"></div></a></figure>\n\n                        </section>\n                        \n                            <div class=\"sidebar\">\n                                \n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                \n                            </div>\n                        \n                    </div>\n                    <hr>\n                    \n                        <div class=\"post-full-author-header\" data-test-label=\"author-header-with-bio\">\n                            \n                                \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2020/01/Profile-8--1-.jpg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2020/01/Profile-8--1-.jpg\" class=\"author-profile-image\" alt=\"Besher Al Maleh\" width=\"300\" height=\"343\" onerror=\"this.style.display='none'\" loading=\"lazy\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content \">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/besher/\" data-test-label=\"profile-link\">\n                    \n                        Besher Al Maleh\n                    \n                </a>\n            </span>\n            \n                \n                    <p data-test-label=\"author-bio\">Self-taught iOS developer living in Montreal, Canada</p>\n                \n            \n        </section>\n    </section>\n\n                            \n                        </div>\n                        <hr>\n                    \n\n                    \n                    \n                        \n    \n\n\n<p data-test-label=\"social-row-cta\" class=\"social-row\">\n    If you read this far, thank the author to show them you care. <button id=\"tweet-btn\" class=\"cta-button\" data-test-label=\"tweet-button\">Say Thanks</button>\n</p>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const t=document.getElementById(\"tweet-btn\"),e=window.location,n=\"Concurrency%20Explained%3A%20How%20to%20Build%20a%20Multi-Threaded%20iOS%20App\".replace(/&#39;/g,\"%27\"),o=\"\",i=\"@BesherMaleh\",r=Boolean(\"\");let l;if(r&&(o||i)){const t={originalPostAuthor:\"\",currentPostAuthor:\"Besher Al Maleh\"};l=encodeURIComponent(`Thank you ${o||t.originalPostAuthor} for writing this helpful article, and ${i||t.currentPostAuthor} for translating it.`)}else!r&&i&&(l=encodeURIComponent(`Thank you ${i} for writing this helpful article.`));const a=`window.open(\\n    '${l?`https://twitter.com/intent/tweet?text=${l}%0A%0A${n}%0A%0A${e}`:`https://twitter.com/intent/tweet?text=${n}%0A%0A${e}`}',\\n    'share-twitter',\\n    'width=550, height=235'\\n  ); return false;`;t.setAttribute(\"onclick\",a)}));</script>\n\n\n                        \n\n<div class=\"learn-cta-row\" data-test-label=\"learn-cta-row\">\n    <p>\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href=\"https://www.freecodecamp.org/learn/\" class=\"cta-button\" id=\"learn-to-code-cta\" rel=\"noopener noreferrer\" target=\"_blank\">Get started</a>\n    </p>\n</div>\n\n                    \n                </section>\n                \n                    <div class=\"banner-ad bottom\">\n                        \n                            <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                        \n                    </div>\n                \n            </article>\n        </div>\n    </main>\n\n\n            \n\n\n<footer class=\"site-footer\">\n    <div class=\"footer-top\">\n        <div class=\"footer-desc-col\">\n            <p data-test-label=\"tax-exempt-status\">freeCodeCamp is a donor-supported tax-exempt 501(c)(3) charity organization (United States Federal Tax Identification Number: 82-0779546)</p>\n            <p data-test-label=\"mission-statement\">Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public.</p>\n            <p data-test-label=\"donation-initiatives\">Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.</p>\n            <p class=\"footer-donation\" data-test-label=\"donate-text\">\n                You can <a href=\"https://www.freecodecamp.org/donate/\" class=\"inline\" rel=\"noopener noreferrer\" target=\"_blank\">make a tax-deductible donation here</a>.\n            </p>\n        </div>\n        <div class=\"trending-guides\" data-test-label=\"trending-guides\">\n            <h2 id=\"trending-guides\" class=\"col-header\">Trending Guides</h2>\n            <ul class=\"trending-guides-articles\" aria-labelledby=\"trending-guides\">\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-transform-functions-and-properties/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Transform\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-create-a-static-blog-with-lume/\" rel=\"noopener noreferrer\" target=\"_blank\">Build a Static Blog\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-build-an-ai-chatbot-with-redis-python-and-gpt/\" rel=\"noopener noreferrer\" target=\"_blank\">Build an AI Chatbot\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/what-is-programming-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">What is Programming?\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Python Code Examples\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/a-practical-guide-to-start-opensource-contributions/\" rel=\"noopener noreferrer\" target=\"_blank\">Open Source for Devs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/http-full-course/\" rel=\"noopener noreferrer\" target=\"_blank\">HTTP Networking in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-unit-tests-in-react-redux/\" rel=\"noopener noreferrer\" target=\"_blank\">Write React Unit Tests\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/introduction-to-algorithms-with-javascript-examples/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Algorithms in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-clean-code/\" rel=\"noopener noreferrer\" target=\"_blank\">How to Write Clean Code\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-php-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn PHP\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-java-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Java\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-swift-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Swift\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-golang-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Golang\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/get-started-with-nodejs/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Node.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-grid/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Grid\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-solidity-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Solidity\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-express-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Express.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/javascript-es-modules-and-module-bundlers/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn JS Modules\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/apache-kafka-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Apache Kafka\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/rest-api-design-best-practices-build-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">REST API Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/front-end-javascript-development-react-angular-vue-compared/\" rel=\"noopener noreferrer\" target=\"_blank\">Front-End JS Development\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-consume-and-document-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build REST APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-strongly-typed-polymorphic-components-with-react-and-typescript/\" rel=\"noopener noreferrer\" target=\"_blank\">Intermediate TS and React\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/command-line-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Command Line for Beginners\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-operating-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Intro to Operating Systems\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/building-consuming-and-documenting-a-graphql-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build GraphQL APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/oss-security-best-practices/\" rel=\"noopener noreferrer\" target=\"_blank\">OSS Security Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/design-patterns-for-distributed-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Distributed Systems Patterns\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-software-architecture-patterns/\" rel=\"noopener noreferrer\" target=\"_blank\">Software Architecture Patterns\n                    </a>\n                </li>\n            </ul>\n            <div class=\"spacer\" style=\"padding: 15px 0;\"></div>\n            <div>\n                <h2 id=\"mobile-app\" class=\"col-header\">\n                    Mobile App\n                </h2>\n                <div class=\"min-h-[1px] px-[15px] md:w-2/3 md:ml-[16.6%]\">\n                    <ul aria-labelledby=\"mobile-app\" class=\"mobile-app-container\">\n                        <li>\n                            <a href=\"https://apps.apple.com/us/app/freecodecamp/id6446908151?itsct=apps_box_link&itscg=30200\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/apple-store-badge.svg\" lang=\"en\" alt=\"Download on the App Store\">\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"https://play.google.com/store/apps/details?id=org.freecodecamp\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/google-play-badge.svg\" lang=\"en\" alt=\"Get it on Google Play\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer-bottom\">\n        <h2 class=\"col-header\" data-test-label=\"our-nonprofit\">Our Charity</h2>\n        <div class=\"our-nonprofit\">\n            <a href=\"https://www.freecodecamp.org/news/about/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"about\">\n                About\n            </a>\n            <a href=\"https://www.linkedin.com/school/free-code-camp/people/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"alumni\">\n                Alumni Network\n            </a>\n            <a href=\"https://github.com/freeCodeCamp/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"open-source\">\n                Open Source\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/shop/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"shop\">\n                Shop\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/support/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"support\">\n                Support\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/sponsors/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"sponsors\">\n                Sponsors\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/academic-honesty-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"honesty\">\n                Academic Honesty\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/code-of-conduct/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"coc\">\n                Code of Conduct\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/privacy-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"privacy\">\n                Privacy Policy\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/terms-of-service/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"tos\">\n                Terms of Service\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/copyright-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"copyright\">\n                Copyright Policy\n            </a>\n        </div>\n    </div>\n</footer>\n\n        </div>\n\n        \n        \n        \n\n        <!-- Google Tag Manager (noscript) -->\n<noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n<!-- End Google Tag Manager (noscript) -->\n\n        \n    <script defer src=\"https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015\" integrity=\"sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==\" data-cf-beacon='{\"rayId\":\"8ac218668e1c40eb\",\"serverTiming\":{\"name\":{\"cfL4\":true}},\"version\":\"2024.7.0\",\"token\":\"bdb993c6dde44e178aabd9555e75e4f4\"}' crossorigin=\"anonymous\"></script>\n</body>\n</html>\n"}}}