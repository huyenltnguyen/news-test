{"https://www.freecodecamp.org/news/author/bertcarremans/":{"/news/handling-overfitting-in-deep-learning-models/":{"metadata":[{"tagName":"meta","attributes":{"charset":"utf-8"}},{"tagName":"meta","attributes":{"http-equiv":"X-UA-Compatible","content":"IE=edge"}},{"tagName":"title","attributes":{}},{"tagName":"meta","attributes":{"name":"HandheldFriendly","content":"True"}},{"tagName":"meta","attributes":{"name":"viewport","content":"width=device-width, initial-scale=1.0"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.googleapis.com"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com","crossorigin":""}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"/news/assets/css/global-26e2f3cde9.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/screen-926fddfac2.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/search-bar-124f5f949c.css"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js"}},{"tagName":"script","attributes":{},"scriptContent":"let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));"},{"tagName":"script","attributes":{"data-ad-client":"ca-pub-9482786369113753","src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js","crossorigin":"anonymous","async":""}},{"tagName":"link","attributes":{"rel":"icon","href":"https://cdn.freecodecamp.org/universal/favicons/favicon.ico","type":"image/png"}},{"tagName":"link","attributes":{"rel":"canonical","href":"https://www.freecodecamp.org/news/handling-overfitting-in-deep-learning-models/"}},{"tagName":"meta","attributes":{"name":"referrer","content":"no-referrer-when-downgrade"}},{"tagName":"meta","attributes":{"name":"description","content":"Overfitting occurs when you achieve a good fit of your model on the training data, but it does not generalize well on new, unseen data. In other words, the model learned patterns specific to the training data, which are irrelevant in other data. We can identify overfitting by looking at"}},{"tagName":"meta","attributes":{"property":"og:site_name","content":"freeCodeCamp.org"}},{"tagName":"meta","attributes":{"property":"og:type","content":"article"}},{"tagName":"meta","attributes":{"property":"og:title","content":"How to Handle Overfitting in Deep Learning Models"}},{"tagName":"meta","attributes":{"property":"og:description","content":"Overfitting occurs when you achieve a good fit of your model on the training data, but it does not generalize well on new, unseen data. In other words, the model learned patterns specific to the training data, which are irrelevant in other data. We can identify overfitting by looking at"}},{"tagName":"meta","attributes":{"property":"og:url","content":"https://www.freecodecamp.org/news/handling-overfitting-in-deep-learning-models/"}},{"tagName":"meta","attributes":{"property":"og:image","content":"https://www.freecodecamp.org/news/content/images/2020/01/1_XXtWMdH-YVL8z1VtnfG_iw.jpeg"}},{"tagName":"meta","attributes":{"property":"article:published_time","content":"2020-01-05T22:36:48.000Z"}},{"tagName":"meta","attributes":{"property":"article:modified_time","content":"2020-01-07T23:31:09.000Z"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Deep Learning"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Overfitting"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Regularization"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Python"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Keras"}},{"tagName":"meta","attributes":{"property":"article:publisher","content":"https://www.facebook.com/freecodecamp"}},{"tagName":"meta","attributes":{"name":"twitter:card","content":"summary_large_image"}},{"tagName":"meta","attributes":{"name":"twitter:title","content":"How to Handle Overfitting in Deep Learning Models"}},{"tagName":"meta","attributes":{"name":"twitter:description","content":"Overfitting occurs when you achieve a good fit of your model on the training data, but it does not generalize well on new, unseen data. In other words, the model learned patterns specific to the training data, which are irrelevant in other data. We can identify overfitting by looking at"}},{"tagName":"meta","attributes":{"name":"twitter:url","content":"https://www.freecodecamp.org/news/handling-overfitting-in-deep-learning-models/"}},{"tagName":"meta","attributes":{"name":"twitter:image","content":"https://www.freecodecamp.org/news/content/images/2020/01/1_XXtWMdH-YVL8z1VtnfG_iw.jpeg"}},{"tagName":"meta","attributes":{"name":"twitter:label1","content":"Written by"}},{"tagName":"meta","attributes":{"name":"twitter:data1","content":"Bert Carremans"}},{"tagName":"meta","attributes":{"name":"twitter:label2","content":"Filed under"}},{"tagName":"meta","attributes":{"name":"twitter:data2","content":"Deep Learning, Overfitting, Regularization, Python, Keras"}},{"tagName":"meta","attributes":{"name":"twitter:site","content":"@freecodecamp"}},{"tagName":"meta","attributes":{"property":"og:image:width","content":"2000"}},{"tagName":"meta","attributes":{"property":"og:image:height","content":"1333"}},{"tagName":"script","attributes":{"type":"application/ld+json"},"scriptContent":"{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2020/01/1_XXtWMdH-YVL8z1VtnfG_iw.jpeg\",\n\t\t\"width\": 2000,\n\t\t\"height\": 1333\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/handling-overfitting-in-deep-learning-models/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2020-01-05T22:36:48.000Z\",\n\t\"dateModified\": \"2020-01-07T23:31:09.000Z\",\n\t\"keywords\": \"Deep Learning, Overfitting, Regularization, Python, Keras\",\n\t\"description\": \"Overfitting occurs when you achieve a good fit of your model on the training\\ndata, but it does not generalize well on new, unseen data. In other words, the\\nmodel learned patterns specific to the training data, which are irrelevant in\\nother data.\\n\\nWe can identify overfitting by looking at validation metrics like loss or\\naccuracy. Usually, the validation metric stops improving after a certain number\\nof epochs and begins to decrease afterward. The training metric continues to\\nimprove because the mo\",\n\t\"headline\": \"How to Handle Overfitting in Deep Learning Models\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}"},{"tagName":"meta","attributes":{"name":"generator","content":"Eleventy"}},{"tagName":"link","attributes":{"rel":"alternate","type":"application/rss+xml","title":"freeCodeCamp.org","href":"https://www.freecodecamp.org/news/rss/"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com"}},{"tagName":"script","attributes":{},"scriptContent":"\nwindow.dataLayer = window.dataLayer || [];\n"},{"tagName":"script","attributes":{},"scriptContent":"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');"},{"tagName":"meta","attributes":{"name":"google-site-verification","content":"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E"}},{"tagName":"meta","attributes":{"name":"x-fcc-source","data-test-label":"x-fcc-source","content":"Ghost"}}],"html":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        \n        \n            <title>How to Handle Overfitting in Deep Learning Models</title>\n        \n        <meta name=\"HandheldFriendly\" content=\"True\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin=\"\">\n        \n            <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap\">\n        \n\n        \n        \n    <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n</noscript>\n<link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n</noscript>\n\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js\"></script>\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js\"></script>\n\n\n\n        \n        <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"/news/assets/css/global-26e2f3cde9.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/screen-926fddfac2.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/search-bar-124f5f949c.css\">\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js\"></script>\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js\"></script>\n\n        \n        \n            <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js\"></script>\n        \n\n        \n        <script>let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));</script>\n\n        \n        \n    \n        \n            <script data-ad-client=\"ca-pub-9482786369113753\" src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\" crossorigin=\"anonymous\" async=\"\"></script>\n        \n    \n\n\n        \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n\n\n        \n        \n        \n\n        \n        \n\n        <link rel=\"icon\" href=\"https://cdn.freecodecamp.org/universal/favicons/favicon.ico\" type=\"image/png\">\n        \n        \n            <link rel=\"canonical\" href=\"https://www.freecodecamp.org/news/handling-overfitting-in-deep-learning-models/\">\n        \n        <meta name=\"referrer\" content=\"no-referrer-when-downgrade\">\n\n        \n\n        \n    <meta name=\"description\" content=\"Overfitting occurs when you achieve a good fit of your model on the training data, but it does not generalize well on new, unseen data. In other words, the model learned patterns specific to the training data, which are irrelevant in other data. We can identify overfitting by looking at\">\n\n    \n    <meta property=\"og:site_name\" content=\"freeCodeCamp.org\">\n    <meta property=\"og:type\" content=\"article\">\n    <meta property=\"og:title\" content=\"How to Handle Overfitting in Deep Learning Models\">\n    \n        <meta property=\"og:description\" content=\"Overfitting occurs when you achieve a good fit of your model on the training data, but it does not generalize well on new, unseen data. In other words, the model learned patterns specific to the training data, which are irrelevant in other data. We can identify overfitting by looking at\">\n    \n    <meta property=\"og:url\" content=\"https://www.freecodecamp.org/news/handling-overfitting-in-deep-learning-models/\">\n    <meta property=\"og:image\" content=\"https://www.freecodecamp.org/news/content/images/2020/01/1_XXtWMdH-YVL8z1VtnfG_iw.jpeg\">\n    <meta property=\"article:published_time\" content=\"2020-01-05T22:36:48.000Z\">\n    <meta property=\"article:modified_time\" content=\"2020-01-07T23:31:09.000Z\">\n    \n        <meta property=\"article:tag\" content=\"Deep Learning\">\n    \n        <meta property=\"article:tag\" content=\"Overfitting\">\n    \n        <meta property=\"article:tag\" content=\"Regularization\">\n    \n        <meta property=\"article:tag\" content=\"Python\">\n    \n        <meta property=\"article:tag\" content=\"Keras\">\n    \n    <meta property=\"article:publisher\" content=\"https://www.facebook.com/freecodecamp\">\n    \n\n    \n    <meta name=\"twitter:card\" content=\"summary_large_image\">\n    <meta name=\"twitter:title\" content=\"How to Handle Overfitting in Deep Learning Models\">\n    \n        <meta name=\"twitter:description\" content=\"Overfitting occurs when you achieve a good fit of your model on the training data, but it does not generalize well on new, unseen data. In other words, the model learned patterns specific to the training data, which are irrelevant in other data. We can identify overfitting by looking at\">\n    \n    <meta name=\"twitter:url\" content=\"https://www.freecodecamp.org/news/handling-overfitting-in-deep-learning-models/\">\n    <meta name=\"twitter:image\" content=\"https://www.freecodecamp.org/news/content/images/2020/01/1_XXtWMdH-YVL8z1VtnfG_iw.jpeg\">\n    <meta name=\"twitter:label1\" content=\"Written by\">\n    <meta name=\"twitter:data1\" content=\"Bert Carremans\">\n    <meta name=\"twitter:label2\" content=\"Filed under\">\n    <meta name=\"twitter:data2\" content=\"Deep Learning, Overfitting, Regularization, Python, Keras\">\n    <meta name=\"twitter:site\" content=\"@freecodecamp\">\n    \n\n    <meta property=\"og:image:width\" content=\"2000\">\n    <meta property=\"og:image:height\" content=\"1333\">\n\n\n        \n    <script type=\"application/ld+json\">{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2020/01/1_XXtWMdH-YVL8z1VtnfG_iw.jpeg\",\n\t\t\"width\": 2000,\n\t\t\"height\": 1333\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/handling-overfitting-in-deep-learning-models/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2020-01-05T22:36:48.000Z\",\n\t\"dateModified\": \"2020-01-07T23:31:09.000Z\",\n\t\"keywords\": \"Deep Learning, Overfitting, Regularization, Python, Keras\",\n\t\"description\": \"Overfitting occurs when you achieve a good fit of your model on the training\\ndata, but it does not generalize well on new, unseen data. In other words, the\\nmodel learned patterns specific to the training data, which are irrelevant in\\nother data.\\n\\nWe can identify overfitting by looking at validation metrics like loss or\\naccuracy. Usually, the validation metric stops improving after a certain number\\nof epochs and begins to decrease afterward. The training metric continues to\\nimprove because the mo\",\n\t\"headline\": \"How to Handle Overfitting in Deep Learning Models\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}</script>\n\n\n        <meta name=\"generator\" content=\"Eleventy\">\n        <link rel=\"alternate\" type=\"application/rss+xml\" title=\"freeCodeCamp.org\" href=\"https://www.freecodecamp.org/news/rss/\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n\n<!-- dataLayer setup -->\n<script>\nwindow.dataLayer = window.dataLayer || [];\n</script>\n<!-- End dataLayer setup -->\n\n<!-- Google Tag Manager -->\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');</script>\n<!-- End Google Tag Manager -->\n\n\n<meta name=\"google-site-verification\" content=\"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E\">\n\n        \n        \n\n        \n  <meta name=\"x-fcc-source\" data-test-label=\"x-fcc-source\" content=\"Ghost\">\n\n    </head>\n\n    \n        <body class=\"home-template\">\n    \n        <div class=\"site-wrapper\">\n            <nav class=\"site-nav nav-padding\">\n    <div class=\"site-nav-left\">\n        \n<form id=\"search-form\" data-test-label=\"search-bar\">\n    <div role=\"search\" class=\"searchbox__wrapper\">\n        <label class=\"fcc_sr_only\" for=\"search-input\">\n            Search\n        </label>\n        <input type=\"search\" placeholder=\"\n    Search 11,200+ tutorials\n\" id=\"search-input\">\n        <button type=\"submit\" class=\"ais-SearchBox-submit\">\n            <svg class=\"ais-SearchBox-submitIcon\" xmlns=\"https://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 40 40\">\n    <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n</svg>\n\n            <span class=\"fcc_sr_only\">Submit your search query</span>\n        </button>\n        <div id=\"dropdown-container\"></div>\n    </div>\n</form>\n\n    </div>\n    <div class=\"site-nav-middle\">\n        <a class=\"site-nav-logo\" href=\"https://www.freecodecamp.org/news/\" data-test-label=\"site-nav-logo\"><img src=\"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\" alt=\"freeCodeCamp.org\"></a>\n    </div>\n    <div class=\"site-nav-right\">\n        <div class=\"nav-group\">\n            <a class=\"nav-forum\" id=\"nav-forum\" rel=\"noopener noreferrer\" href=\"https://forum.freecodecamp.org/\" target=\"_blank\" data-test-label=\"forum-button\">Forum</a>\n            <a class=\"toggle-button-nav\" id=\"nav-donate\" rel=\"noopener noreferrer\" href=\"https://www.freecodecamp.org/donate/\" target=\"_blank\" data-test-label=\"donate-button\">Donate</a>\n        </div>\n    </div>\n</nav>\n\n\n            \n            <a class=\"banner\" id=\"banner\" data-test-label=\"banner\" rel=\"noopener noreferrer\" target=\"_blank\">\n    <p id=\"banner-text\"></p>\n</a>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const e=document.getElementById(\"banner\"),t=document.getElementById(\"banner-text\");isAuthenticated?(t.innerHTML=\"Support our charity and our mission. <span>Donate to freeCodeCamp.org</span>.\",e.href=\"https://www.freecodecamp.org/donate\",e.setAttribute(\"text-variation\",\"authenticated\")):isDonor?(t.innerHTML=\"Thank you for supporting freeCodeCamp through <span>your donations</span>.\",e.href=\"https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp/\",e.setAttribute(\"text-variation\",\"donor\")):(t.innerHTML=\"Learn to code — <span>free 3,000-hour curriculum</span>\",e.href=\"https://www.freecodecamp.org/\",e.setAttribute(\"text-variation\",\"default\"))}));</script>\n\n\n            <div id=\"error-message\"></div>\n\n            \n    <main id=\"site-main\" class=\"post-template site-main outer\">\n        <div class=\"inner ad-layout\">\n            <article class=\"post-full post\">\n                <header class=\"post-full-header\">\n                    <section class=\"post-full-meta\">\n                        <time class=\"post-full-meta-date\" data-test-label=\"post-full-meta-date\" datetime=\"Sun Jan 05 2020 22:36:48 GMT+0000 (Coordinated Universal Time)\">\n                            January 5, 2020\n                        </time>\n                        \n                            <span class=\"date-divider\">/</span>\n                            <a dir=\"ltr\" href=\"/news/tag/deep-learning/\">\n                                #Deep Learning\n                            </a>\n                        \n                    </section>\n                    <h1 class=\"post-full-title\" data-test-label=\"post-full-title\">How to Handle Overfitting in Deep Learning Models</h1>\n                </header>\n                <div class=\"post-full-author-header\" data-test-label=\"author-header-no-bio\">\n                    \n                        \n                            \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content author-card-content-no-bio\">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n        </section>\n    </section>\n\n                        \n                    \n                </div>\n                <figure class=\"post-full-image\">\n                    \n    <picture>\n      <source media=\"(max-width: 700px)\" sizes=\"1px\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w\">\n      <source media=\"(min-width: 701px)\" sizes=\"(max-width: 800px) 400px, (max-width: 1170px) 700px, 1400px\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w300/2020/01/1_XXtWMdH-YVL8z1VtnfG_iw.jpeg 300w, https://www.freecodecamp.org/news/content/images/size/w600/2020/01/1_XXtWMdH-YVL8z1VtnfG_iw.jpeg 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2020/01/1_XXtWMdH-YVL8z1VtnfG_iw.jpeg 1000w, https://www.freecodecamp.org/news/content/images/size/w2000/2020/01/1_XXtWMdH-YVL8z1VtnfG_iw.jpeg 2000w\">\n      <img onerror=\"this.style.display='none'\" src=\"https://www.freecodecamp.org/news/content/images/size/w2000/2020/01/1_XXtWMdH-YVL8z1VtnfG_iw.jpeg\" alt=\"How to Handle Overfitting in Deep Learning Models\" ,=\"\" width=\"2000\" height=\"1333\" data-test-label=\"feature-image\">\n    </picture>\n  \n                </figure>\n                <section class=\"post-full-content\">\n                    <div class=\"post-and-sidebar\">\n                        <section class=\"post-content \" data-test-label=\"post-content\">\n                            \n<p>Overfitting occurs when you achieve a good fit of your model on the training data, but it does not generalize well on new, unseen data. In other words, the model learned patterns specific to the training data, which are irrelevant in other data.</p><p>We can identify overfitting by looking at validation metrics like loss or accuracy. Usually, the validation metric stops improving after a certain number of epochs and begins to decrease afterward. The training metric continues to improve because the model seeks to find the best fit for the training data.</p><p>There are several manners in which we can reduce overfitting in deep learning models. The best option is to <strong><strong>get more training data</strong></strong>. Unfortunately, in real-world situations, you often do not have this possibility due to time, budget, or technical constraints.</p><p>Another way to reduce overfitting is to <strong><strong>lower the capacity of the model to memorize the training data</strong></strong>. As such, the model will need to focus on the relevant patterns in the training data, which results in better generalization. In this post, we’ll discuss three options to achieve this.</p><h1 id=\"set-up-the-project\">Set up the project</h1><p>We start by importing the necessary packages and configuring some parameters. We will use <a href=\"https://keras.io/\" rel=\"noopener nofollow\">Keras</a> to fit the deep learning models. The training data is the <a href=\"https://www.kaggle.com/crowdflower/twitter-airline-sentiment\" rel=\"noopener nofollow\">Twitter US Airline Sentiment data set from Kaggle</a>.</p><pre><code class=\"language-python\"># Basic packages\nimport pandas as pd \nimport numpy as np\nimport re\nimport collections\nimport matplotlib.pyplot as plt\nfrom pathlib import Path\n# Packages for data preparation\nfrom sklearn.model_selection import train_test_split\nfrom nltk.corpus import stopwords\nfrom keras.preprocessing.text import Tokenizer\nfrom keras.utils.np_utils import to_categorical\nfrom sklearn.preprocessing import LabelEncoder\n# Packages for modeling\nfrom keras import models\nfrom keras import layers\nfrom keras import regularizers\nNB_WORDS = 10000  # Parameter indicating the number of words we'll put in the dictionary\nNB_START_EPOCHS = 20  # Number of epochs we usually start to train with\nBATCH_SIZE = 512  # Size of the batches used in the mini-batch gradient descent\nMAX_LEN = 20  # Maximum number of words in a sequence\nroot = Path('../')\ninput_path = root / 'input/' \nouput_path = root / 'output/'\nsource_path = root / 'source/'</code></pre><h1 id=\"some-helper-functions\">Some helper functions</h1><p>We will use some helper functions throughout this post.</p><pre><code class=\"language-python\">def deep_model(model, X_train, y_train, X_valid, y_valid):\n    '''\n    Function to train a multi-class model. The number of epochs and \n    batch_size are set by the constants at the top of the\n    notebook. \n    \n    Parameters:\n        model : model with the chosen architecture\n        X_train : training features\n        y_train : training target\n        X_valid : validation features\n        Y_valid : validation target\n    Output:\n        model training history\n    '''\n    model.compile(optimizer='rmsprop'\n                  , loss='categorical_crossentropy'\n                  , metrics=['accuracy'])\n    \n    history = model.fit(X_train\n                       , y_train\n                       , epochs=NB_START_EPOCHS\n                       , batch_size=BATCH_SIZE\n                       , validation_data=(X_valid, y_valid)\n                       , verbose=0)\n    return history\ndef eval_metric(model, history, metric_name):\n    '''\n    Function to evaluate a trained model on a chosen metric. \n    Training and validation metric are plotted in a\n    line chart for each epoch.\n    \n    Parameters:\n        history : model training history\n        metric_name : loss or accuracy\n    Output:\n        line chart with epochs of x-axis and metric on\n        y-axis\n    '''\n    metric = history.history[metric_name]\n    val_metric = history.history['val_' + metric_name]\n    e = range(1, NB_START_EPOCHS + 1)\n    plt.plot(e, metric, 'bo', label='Train ' + metric_name)\n    plt.plot(e, val_metric, 'b', label='Validation ' + metric_name)\n    plt.xlabel('Epoch number')\n    plt.ylabel(metric_name)\n    plt.title('Comparing training and validation ' + metric_name + ' for ' + model.name)\n    plt.legend()\n    plt.show()\ndef test_model(model, X_train, y_train, X_test, y_test, epoch_stop):\n    '''\n    Function to test the model on new data after training it\n    on the full training data with the optimal number of epochs.\n    \n    Parameters:\n        model : trained model\n        X_train : training features\n        y_train : training target\n        X_test : test features\n        y_test : test target\n        epochs : optimal number of epochs\n    Output:\n        test accuracy and test loss\n    '''\n    model.fit(X_train\n              , y_train\n              , epochs=epoch_stop\n              , batch_size=BATCH_SIZE\n              , verbose=0)\n    results = model.evaluate(X_test, y_test)\n    print()\n    print('Test accuracy: {0:.2f}%'.format(results[1]*100))\n    return results\n    \ndef remove_stopwords(input_text):\n    '''\n    Function to remove English stopwords from a Pandas Series.\n    \n    Parameters:\n        input_text : text to clean\n    Output:\n        cleaned Pandas Series \n    '''\n    stopwords_list = stopwords.words('english')\n    # Some words which might indicate a certain sentiment are kept via a whitelist\n    whitelist = [\"n't\", \"not\", \"no\"]\n    words = input_text.split() \n    clean_words = [word for word in words if (word not in stopwords_list or word in whitelist) and len(word) &gt; 1] \n    return \" \".join(clean_words) \n    \ndef remove_mentions(input_text):\n    '''\n    Function to remove mentions, preceded by @, in a Pandas Series\n    \n    Parameters:\n        input_text : text to clean\n    Output:\n        cleaned Pandas Series \n    '''\n    return re.sub(r'@\\w+', '', input_text)\ndef compare_models_by_metric(model_1, model_2, model_hist_1, model_hist_2, metric):\n    '''\n    Function to compare a metric between two models \n    \n    Parameters:\n        model_hist_1 : training history of model 1\n        model_hist_2 : training history of model 2\n        metrix : metric to compare, loss, acc, val_loss or val_acc\n        \n    Output:\n        plot of metrics of both models\n    '''\n    metric_model_1 = model_hist_1.history[metric]\n    metric_model_2 = model_hist_2.history[metric]\n    e = range(1, NB_START_EPOCHS + 1)\n    \n    metrics_dict = {\n        'acc' : 'Training Accuracy',\n        'loss' : 'Training Loss',\n        'val_acc' : 'Validation accuracy',\n        'val_loss' : 'Validation loss'\n    }\n    \n    metric_label = metrics_dict[metric]\n    plt.plot(e, metric_model_1, 'bo', label=model_1.name)\n    plt.plot(e, metric_model_2, 'b', label=model_2.name)\n    plt.xlabel('Epoch number')\n    plt.ylabel(metric_label)\n    plt.title('Comparing ' + metric_label + ' between models')\n    plt.legend()\n    plt.show()\n    \ndef optimal_epoch(model_hist):\n    '''\n    Function to return the epoch number where the validation loss is\n    at its minimum\n    \n    Parameters:\n        model_hist : training history of model\n    Output:\n        epoch number with minimum validation loss\n    '''\n    min_epoch = np.argmin(model_hist.history['val_loss']) + 1\n    print(\"Minimum validation loss reached in epoch {}\".format(min_epoch))\n    return min_epoch</code></pre><h1 id=\"data-preparation\">Data preparation</h1><h2 id=\"data-cleaning\">Data cleaning</h2><p>We load the CSV with the tweets and perform a random shuffle. It’s a good practice to shuffle the data before splitting between a train and test set. That way the sentiment classes are equally distributed over the train and test sets. We’ll only keep the <strong><strong>text</strong></strong> column as input and the <strong><strong>airline_sentiment</strong></strong> column as the target.</p><p>The next thing we’ll do is <strong>remove<strong> stopwords</strong></strong>. Stopwords do not have any value for predicting the sentiment. Furthermore, as we want to build a model that can be used for other airline companies as well, we <strong><strong>remove the mentions</strong></strong>.</p><pre><code class=\"language-python\">df = pd.read_csv(input_path / 'Tweets.csv')\ndf = df.reindex(np.random.permutation(df.index))  \ndf = df[['text', 'airline_sentiment']]\ndf.text = df.text.apply(remove_stopwords).apply(remove_mentions)</code></pre><h2 id=\"train-test-split\">Train-Test split</h2><p>The evaluation of the model performance needs to be done on a separate test set. As such, we can estimate how well the model generalizes. This is done with the <strong><strong>train_test_split</strong></strong> method of scikit-learn.</p><pre><code>X_train, X_test, y_train, y_test = train_test_split(df.text, df.airline_sentiment, test_size=0.1, random_state=37)</code></pre><h2 id=\"converting-words-to-numbers\">Converting words to numbers</h2><p>To use the text as input for a model, we first need to convert the words into tokens, which simply means converting the words into integers that refer to an index in a dictionary. Here we will only keep the most frequent words in the training set.</p><p>We clean up the text by applying <strong><strong>filters</strong></strong> and putting the words to <strong><strong>lowercase</strong></strong>. Words are separated by spaces.</p><pre><code class=\"language-python\">tk = Tokenizer(num_words=NB_WORDS,\n               filters='!\"#$%&amp;()*+,-./:;&lt;=&gt;?@[\\\\]^_`{\"}~\\t\\n',\n               lower=True,\n               char_level=False,\n               split=' ')\ntk.fit_on_texts(X_train)</code></pre><p>After having created the dictionary we can convert the text of a tweet to a vector with NB_WORDS values. With <strong><strong>mode=binary</strong></strong>, it contains an indicator whether the word appeared in the tweet or not. This is done with the <strong><strong>texts_to_matrix</strong></strong> method of the Tokenizer.</p><pre><code class=\"language-python\">X_train_oh = tk.texts_to_matrix(X_train, mode='binary')\nX_test_oh = tk.texts_to_matrix(X_test, mode='binary')</code></pre><h2 id=\"converting-the-target-classes-to-numbers\">Converting the target classes to numbers</h2><p>We need to convert the target classes to numbers as well, which in turn are one-hot-encoded with the <strong><strong>to_categorical</strong></strong> method in Keras.</p><pre><code class=\"language-python\">le = LabelEncoder()\ny_train_le = le.fit_transform(y_train)\ny_test_le = le.transform(y_test)\ny_train_oh = to_categorical(y_train_le)\ny_test_oh = to_categorical(y_test_le)</code></pre><h2 id=\"splitting-off-a-validation-set\">Splitting off a validation set</h2><p>Now that our data is ready, we split off a validation set. This validation set will be used to evaluate the model performance when we tune the parameters of the model.</p><pre><code class=\"language-python\">X_train_rest, X_valid, y_train_rest, y_valid = train_test_split(X_train_oh, y_train_oh, test_size=0.1, random_state=37)</code></pre><h1 id=\"deep-learning\">Deep learning</h1><h2 id=\"creating-a-model-that-overfits\">Creating a model that overfits</h2><p>We start with a model that overfits. It has 2 densely connected layers of 64 elements. The <strong><strong>input_shape</strong></strong> for the first layer is equal to the number of words we kept in the dictionary and for which we created one-hot-encoded features.</p><p>As we need to predict 3 different sentiment classes, the last layer has 3 elements. The <strong><strong>softmax</strong></strong> activation function makes sure the three probabilities sum up to 1.</p><p>The number of parameters to train is computed as <strong><strong>(nb inputs x nb elements in hidden layer) + nb bias terms</strong></strong>. The number of inputs for the first layer equals the number of words in our corpus. The subsequent layers have the number of outputs of the previous layer as inputs. So the number of parameters per layer are:</p><ul><li>First layer : (10000 x 64) + 64 = 640064</li><li>Second layer : (64 x 64) + 64 = 4160</li><li>Last layer : (64 x 3) + 3 = 195</li></ul><pre><code class=\"language-python\">base_model = models.Sequential()\nbase_model.add(layers.Dense(64, activation='relu', input_shape=(NB_WORDS,)))\nbase_model.add(layers.Dense(64, activation='relu'))\nbase_model.add(layers.Dense(3, activation='softmax'))\nbase_model.name = 'Baseline model'</code></pre><p>Because this project is a multi-class, single-label prediction, we use <strong><strong>categorical_crossentropy</strong></strong> as the loss function and <strong><strong>softmax</strong></strong> as the final activation function. We fit the model on the train data and validate on the validation set. We run for a predetermined number of epochs and will see when the model starts to overfit.</p><pre><code class=\"language-python\">base_history = deep_model(base_model, X_train_rest, y_train_rest, X_valid, y_valid)\nbase_min = optimal_epoch(base_history)\neval_metric(base_model, base_history, 'loss')</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/0_ZwKhGQkYF3FqQlhe.png\" class=\"kg-image\" alt=\"0_ZwKhGQkYF3FqQlhe\" width=\"394\" height=\"278\" loading=\"lazy\"></figure><p>In the beginning, the <strong><strong>validation loss</strong></strong> goes down. But at epoch 3 this stops and the validation loss starts increasing rapidly. This is when the models begin to overfit.</p><p>The <strong><strong>training loss</strong></strong> continues to go down and almost reaches zero at epoch 20. This is normal as the model is trained to fit the train data as well as possible.</p><h1 id=\"handling-overfitting\">Handling overfitting</h1><p>Now, we can try to do something about the overfitting. There are different options to do that.</p><ul><li><strong><strong>Reduce the network’s capacity</strong></strong> by removing layers or reducing the number of elements in the hidden layers</li><li>Apply <strong><strong>regularization</strong></strong>, which comes down to adding a cost to the loss function for large weights</li><li>Use <strong><strong>Dropout layers</strong></strong>, which will randomly remove certain features by setting them to zero</li></ul><h2 id=\"reducing-the-network-s-capacity\">Reducing the network’s capacity</h2><p>Our first model has a large number of trainable parameters. The higher this number, the easier the model can memorize the target class for each training sample. Obviously, this is not ideal for generalizing on new data.</p><p>By lowering the capacity of the network, you force it to learn the patterns that matter or that minimize the loss. On the other hand, reducing the network’s capacity too much will lead to <strong><strong>underfitting</strong></strong>. The model will not be able to learn the relevant patterns in the train data.</p><p>We reduce the network’s capacity by removing one hidden layer and lowering the number of elements in the remaining layer to 16.</p><pre><code class=\"language-python\">reduced_model = models.Sequential()\nreduced_model.add(layers.Dense(16, activation='relu', input_shape=(NB_WORDS,)))\nreduced_model.add(layers.Dense(3, activation='softmax'))\nreduced_model.name = 'Reduced model'\nreduced_history = deep_model(reduced_model, X_train_rest, y_train_rest, X_valid, y_valid)\nreduced_min = optimal_epoch(reduced_history)\neval_metric(reduced_model, reduced_history, 'loss')</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/0_ZDi9EJn6dORo4LCY.png\" class=\"kg-image\" alt=\"0_ZDi9EJn6dORo4LCY\" width=\"394\" height=\"278\" loading=\"lazy\"></figure><p>We can see that it takes more epochs before the reduced model starts overfitting. The validation loss also goes up slower than our first model.</p><pre><code class=\"language-python\">compare_models_by_metric(base_model, reduced_model, base_history, reduced_history, 'val_loss')</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/0_W8RSZtaBR-SDIGn5.png\" class=\"kg-image\" alt=\"0_W8RSZtaBR-SDIGn5\" width=\"389\" height=\"278\" loading=\"lazy\"></figure><p>When we compare the validation loss of the baseline model, it is clear that the reduced model starts overfitting at a later epoch. The validation loss stays lower much longer than the baseline model.</p><h2 id=\"applying-regularization\">Applying regularization</h2><p>To address overfitting, we can apply weight regularization to the model. This will add a cost to the loss function of the network for large weights (or parameter values). As a result, you get a simpler model that will be forced to learn only the relevant patterns in the train data.</p><p>There are <strong><strong>L1 regularization and L2 regularization</strong></strong>.</p><ul><li>L1 regularization will add a cost with regards to the <strong><strong>absolute value of the parameters</strong></strong>. It will result in some of the weights to be equal to zero.</li><li>L2 regularization will add a cost with regards to the <strong><strong>squared value of the parameters</strong></strong>. This results in smaller weights.</li></ul><p>Let’s try with L2 regularization.</p><pre><code class=\"language-python\">reg_model = models.Sequential()\nreg_model.add(layers.Dense(64, kernel_regularizer=regularizers.l2(0.001), activation='relu', input_shape=(NB_WORDS,)))\nreg_model.add(layers.Dense(64, kernel_regularizer=regularizers.l2(0.001), activation='relu'))\nreg_model.add(layers.Dense(3, activation='softmax'))\nreg_model.name = 'L2 Regularization model'\nreg_history = deep_model(reg_model, X_train_rest, y_train_rest, X_valid, y_valid)\nreg_min = optimal_epoch(reg_history)</code></pre><p>For the regularized model we notice that it starts overfitting in the same epoch as the baseline model. However, the loss increases much slower afterward.</p><pre><code class=\"language-python\">eval_metric(reg_model, reg_history, 'loss')</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/0_4UV4tgegrn6UOdRX.png\" class=\"kg-image\" alt=\"0_4UV4tgegrn6UOdRX\" width=\"450\" height=\"278\" loading=\"lazy\"></figure><pre><code class=\"language-python\">compare_models_by_metric(base_model, reg_model, base_history, reg_history, 'val_loss')</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/0_5ybMcTqkOXyC7xc4.png\" class=\"kg-image\" alt=\"0_5ybMcTqkOXyC7xc4\" width=\"450\" height=\"278\" loading=\"lazy\"></figure><h2 id=\"adding-dropout-layers\">Adding dropout layers</h2><p>The last option we’ll try is to add dropout layers. A dropout layer will randomly set output features of a layer to zero.</p><pre><code class=\"language-python\">drop_model = models.Sequential()\ndrop_model.add(layers.Dense(64, activation='relu', input_shape=(NB_WORDS,)))\ndrop_model.add(layers.Dropout(0.5))\ndrop_model.add(layers.Dense(64, activation='relu'))\ndrop_model.add(layers.Dropout(0.5))\ndrop_model.add(layers.Dense(3, activation='softmax'))\ndrop_model.name = 'Dropout layers model'\ndrop_history = deep_model(drop_model, X_train_rest, y_train_rest, X_valid, y_valid)\ndrop_min = optimal_epoch(drop_history)\neval_metric(drop_model, drop_history, 'loss')</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/0_B0SuqLpCTYGP4Bwz.png\" class=\"kg-image\" alt=\"0_B0SuqLpCTYGP4Bwz\" width=\"413\" height=\"278\" loading=\"lazy\"></figure><p>The model with dropout layers starts overfitting later than the baseline model. The loss also increases slower than the baseline model.</p><pre><code class=\"language-python\">compare_models_by_metric(base_model, drop_model, base_history, drop_history, 'val_loss')</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/0_ykk8IT9v3wgsq1Wf.png\" class=\"kg-image\" alt=\"0_ykk8IT9v3wgsq1Wf\" width=\"389\" height=\"278\" loading=\"lazy\"></figure><p>The model with the dropout layers starts overfitting later. Compared to the baseline model the loss also remains much lower.</p><h1 id=\"training-on-the-full-train-data-and-evaluation-on-test-data\">Training on the full train data and evaluation on test data</h1><p>At first sight, the reduced model seems to be the best model for generalization. But let’s check that on the test set.</p><pre><code class=\"language-python\">base_results = test_model(base_model, X_train_oh, y_train_oh, X_test_oh, y_test_oh, base_min)\nreduced_results = test_model(reduced_model, X_train_oh, y_train_oh, X_test_oh, y_test_oh, reduced_min)\nreg_results = test_model(reg_model, X_train_oh, y_train_oh, X_test_oh, y_test_oh, reg_min)\ndrop_results = test_model(drop_model, X_train_oh, y_train_oh, X_test_oh, y_test_oh, drop_min)</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1_faz4dZBCsh3yB6tAZzSXkg.png\" class=\"kg-image\" alt=\"1_faz4dZBCsh3yB6tAZzSXkg\" width=\"593\" height=\"199\" loading=\"lazy\"></figure><h1 id=\"conclusion\">Conclusion</h1><p>As shown above, all three options help to reduce overfitting. We manage to increase the accuracy on the test data substantially. Among these three options, the model with the dropout layers performs the best on the test data.</p><p>You can find the notebook on <a href=\"https://github.com/bertcarremans/TwitterUSAirlineSentiment/blob/master/source/Handling%20overfitting%20in%20deep%20learning%20models.ipynb\" rel=\"noopener nofollow\">GitHub</a>. Have fun with it!</p>\n\n                        </section>\n                        \n                            <div class=\"sidebar\">\n                                \n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                \n                            </div>\n                        \n                    </div>\n                    <hr>\n                    \n                        <div class=\"post-full-author-header\" data-test-label=\"author-header-with-bio\">\n                            \n                                \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" loading=\"lazy\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content \">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n                \n                    <p data-test-label=\"author-bio\">Data Scientist</p>\n                \n            \n        </section>\n    </section>\n\n                            \n                        </div>\n                        <hr>\n                    \n\n                    \n                    \n                        \n    \n\n\n<p data-test-label=\"social-row-cta\" class=\"social-row\">\n    If this article was helpful, <button id=\"tweet-btn\" class=\"cta-button\" data-test-label=\"tweet-button\">share it</button>.\n</p>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const t=document.getElementById(\"tweet-btn\"),e=window.location,n=\"How%20to%20Handle%20Overfitting%20in%20Deep%20Learning%20Models\".replace(/&#39;/g,\"%27\"),o=\"\",i=\"\",r=Boolean(\"\");let a;if(r&&(o||i)){const t={originalPostAuthor:\"\",currentPostAuthor:\"Bert Carremans\"};a=encodeURIComponent(`Thank you ${o||t.originalPostAuthor} for writing this helpful article, and ${i||t.currentPostAuthor} for translating it.`)}else!r&&i&&(a=encodeURIComponent(`Thank you ${i} for writing this helpful article.`));const l=`window.open(\\n    '${a?`https://twitter.com/intent/tweet?text=${a}%0A%0A${n}%0A%0A${e}`:`https://twitter.com/intent/tweet?text=${n}%0A%0A${e}`}',\\n    'share-twitter',\\n    'width=550, height=235'\\n  ); return false;`;t.setAttribute(\"onclick\",l)}));</script>\n\n\n                        \n\n<div class=\"learn-cta-row\" data-test-label=\"learn-cta-row\">\n    <p>\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href=\"https://www.freecodecamp.org/learn/\" class=\"cta-button\" id=\"learn-to-code-cta\" rel=\"noopener noreferrer\" target=\"_blank\">Get started</a>\n    </p>\n</div>\n\n                    \n                </section>\n                \n                    <div class=\"banner-ad bottom\">\n                        \n                            <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                        \n                    </div>\n                \n            </article>\n        </div>\n    </main>\n\n\n            \n\n\n<footer class=\"site-footer\">\n    <div class=\"footer-top\">\n        <div class=\"footer-desc-col\">\n            <p data-test-label=\"tax-exempt-status\">freeCodeCamp is a donor-supported tax-exempt 501(c)(3) charity organization (United States Federal Tax Identification Number: 82-0779546)</p>\n            <p data-test-label=\"mission-statement\">Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public.</p>\n            <p data-test-label=\"donation-initiatives\">Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.</p>\n            <p class=\"footer-donation\" data-test-label=\"donate-text\">\n                You can <a href=\"https://www.freecodecamp.org/donate/\" class=\"inline\" rel=\"noopener noreferrer\" target=\"_blank\">make a tax-deductible donation here</a>.\n            </p>\n        </div>\n        <div class=\"trending-guides\" data-test-label=\"trending-guides\">\n            <h2 id=\"trending-guides\" class=\"col-header\">Trending Guides</h2>\n            <ul class=\"trending-guides-articles\" aria-labelledby=\"trending-guides\">\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-transform-functions-and-properties/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Transform\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-create-a-static-blog-with-lume/\" rel=\"noopener noreferrer\" target=\"_blank\">Build a Static Blog\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-build-an-ai-chatbot-with-redis-python-and-gpt/\" rel=\"noopener noreferrer\" target=\"_blank\">Build an AI Chatbot\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/what-is-programming-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">What is Programming?\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Python Code Examples\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/a-practical-guide-to-start-opensource-contributions/\" rel=\"noopener noreferrer\" target=\"_blank\">Open Source for Devs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/http-full-course/\" rel=\"noopener noreferrer\" target=\"_blank\">HTTP Networking in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-unit-tests-in-react-redux/\" rel=\"noopener noreferrer\" target=\"_blank\">Write React Unit Tests\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/introduction-to-algorithms-with-javascript-examples/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Algorithms in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-clean-code/\" rel=\"noopener noreferrer\" target=\"_blank\">How to Write Clean Code\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-php-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn PHP\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-java-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Java\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-swift-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Swift\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-golang-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Golang\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/get-started-with-nodejs/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Node.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-grid/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Grid\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-solidity-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Solidity\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-express-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Express.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/javascript-es-modules-and-module-bundlers/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn JS Modules\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/apache-kafka-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Apache Kafka\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/rest-api-design-best-practices-build-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">REST API Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/front-end-javascript-development-react-angular-vue-compared/\" rel=\"noopener noreferrer\" target=\"_blank\">Front-End JS Development\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-consume-and-document-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build REST APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-strongly-typed-polymorphic-components-with-react-and-typescript/\" rel=\"noopener noreferrer\" target=\"_blank\">Intermediate TS and React\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/command-line-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Command Line for Beginners\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-operating-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Intro to Operating Systems\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/building-consuming-and-documenting-a-graphql-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build GraphQL APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/oss-security-best-practices/\" rel=\"noopener noreferrer\" target=\"_blank\">OSS Security Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/design-patterns-for-distributed-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Distributed Systems Patterns\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-software-architecture-patterns/\" rel=\"noopener noreferrer\" target=\"_blank\">Software Architecture Patterns\n                    </a>\n                </li>\n            </ul>\n            <div class=\"spacer\" style=\"padding: 15px 0;\"></div>\n            <div>\n                <h2 id=\"mobile-app\" class=\"col-header\">\n                    Mobile App\n                </h2>\n                <div class=\"min-h-[1px] px-[15px] md:w-2/3 md:ml-[16.6%]\">\n                    <ul aria-labelledby=\"mobile-app\" class=\"mobile-app-container\">\n                        <li>\n                            <a href=\"https://apps.apple.com/us/app/freecodecamp/id6446908151?itsct=apps_box_link&itscg=30200\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/apple-store-badge.svg\" lang=\"en\" alt=\"Download on the App Store\">\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"https://play.google.com/store/apps/details?id=org.freecodecamp\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/google-play-badge.svg\" lang=\"en\" alt=\"Get it on Google Play\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer-bottom\">\n        <h2 class=\"col-header\" data-test-label=\"our-nonprofit\">Our Charity</h2>\n        <div class=\"our-nonprofit\">\n            <a href=\"https://www.freecodecamp.org/news/about/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"about\">\n                About\n            </a>\n            <a href=\"https://www.linkedin.com/school/free-code-camp/people/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"alumni\">\n                Alumni Network\n            </a>\n            <a href=\"https://github.com/freeCodeCamp/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"open-source\">\n                Open Source\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/shop/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"shop\">\n                Shop\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/support/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"support\">\n                Support\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/sponsors/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"sponsors\">\n                Sponsors\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/academic-honesty-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"honesty\">\n                Academic Honesty\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/code-of-conduct/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"coc\">\n                Code of Conduct\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/privacy-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"privacy\">\n                Privacy Policy\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/terms-of-service/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"tos\">\n                Terms of Service\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/copyright-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"copyright\">\n                Copyright Policy\n            </a>\n        </div>\n    </div>\n</footer>\n\n        </div>\n\n        \n        \n        \n\n        <!-- Google Tag Manager (noscript) -->\n<noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n<!-- End Google Tag Manager (noscript) -->\n\n        \n    <script defer src=\"https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015\" integrity=\"sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==\" data-cf-beacon='{\"rayId\":\"8ab69fe24c9f8348\",\"serverTiming\":{\"name\":{\"cfL4\":true}},\"version\":\"2024.7.0\",\"token\":\"bdb993c6dde44e178aabd9555e75e4f4\"}' crossorigin=\"anonymous\"></script>\n</body>\n</html>\n"},"/news/word-embeddings-for-sentiment-analysis/":{"metadata":[{"tagName":"meta","attributes":{"charset":"utf-8"}},{"tagName":"meta","attributes":{"http-equiv":"X-UA-Compatible","content":"IE=edge"}},{"tagName":"title","attributes":{}},{"tagName":"meta","attributes":{"name":"HandheldFriendly","content":"True"}},{"tagName":"meta","attributes":{"name":"viewport","content":"width=device-width, initial-scale=1.0"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.googleapis.com"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com","crossorigin":""}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"/news/assets/css/global-26e2f3cde9.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/screen-926fddfac2.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/search-bar-124f5f949c.css"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js"}},{"tagName":"script","attributes":{},"scriptContent":"let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));"},{"tagName":"script","attributes":{"data-ad-client":"ca-pub-9482786369113753","src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js","crossorigin":"anonymous","async":""}},{"tagName":"link","attributes":{"rel":"icon","href":"https://cdn.freecodecamp.org/universal/favicons/favicon.ico","type":"image/png"}},{"tagName":"link","attributes":{"rel":"canonical","href":"https://www.freecodecamp.org/news/word-embeddings-for-sentiment-analysis/"}},{"tagName":"meta","attributes":{"name":"referrer","content":"no-referrer-when-downgrade"}},{"tagName":"meta","attributes":{"name":"description","content":"When applying one-hot encoding to words, we end up with sparse (containing many zeros) vectors of high dimensionality. On large data sets, this could cause performance issues.  Additionally, one-hot encoding does not take into account the semantics of the words. So words like airplane and aircraft are considered to"}},{"tagName":"meta","attributes":{"property":"og:site_name","content":"freeCodeCamp.org"}},{"tagName":"meta","attributes":{"property":"og:type","content":"article"}},{"tagName":"meta","attributes":{"property":"og:title","content":"A Deep Dive into Word Embeddings for Sentiment Analysis"}},{"tagName":"meta","attributes":{"property":"og:description","content":"When applying one-hot encoding to words, we end up with sparse (containing many zeros) vectors of high dimensionality. On large data sets, this could cause performance issues.  Additionally, one-hot encoding does not take into account the semantics of the words. So words like airplane and aircraft are considered to"}},{"tagName":"meta","attributes":{"property":"og:url","content":"https://www.freecodecamp.org/news/word-embeddings-for-sentiment-analysis/"}},{"tagName":"meta","attributes":{"property":"og:image","content":"https://www.freecodecamp.org/news/content/images/2020/01/1_u9pwb9JShvDIU7j1G9iszQ.jpeg"}},{"tagName":"meta","attributes":{"property":"article:published_time","content":"2020-01-05T14:27:33.000Z"}},{"tagName":"meta","attributes":{"property":"article:modified_time","content":"2020-01-09T15:58:38.000Z"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"NLP"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Text Mining"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Machine Learning"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Python"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Sentiment Analysis"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Keras"}},{"tagName":"meta","attributes":{"property":"article:publisher","content":"https://www.facebook.com/freecodecamp"}},{"tagName":"meta","attributes":{"name":"twitter:card","content":"summary_large_image"}},{"tagName":"meta","attributes":{"name":"twitter:title","content":"A Deep Dive into Word Embeddings for Sentiment Analysis"}},{"tagName":"meta","attributes":{"name":"twitter:description","content":"When applying one-hot encoding to words, we end up with sparse (containing many zeros) vectors of high dimensionality. On large data sets, this could cause performance issues.  Additionally, one-hot encoding does not take into account the semantics of the words. So words like airplane and aircraft are considered to"}},{"tagName":"meta","attributes":{"name":"twitter:url","content":"https://www.freecodecamp.org/news/word-embeddings-for-sentiment-analysis/"}},{"tagName":"meta","attributes":{"name":"twitter:image","content":"https://www.freecodecamp.org/news/content/images/2020/01/1_u9pwb9JShvDIU7j1G9iszQ.jpeg"}},{"tagName":"meta","attributes":{"name":"twitter:label1","content":"Written by"}},{"tagName":"meta","attributes":{"name":"twitter:data1","content":"Bert Carremans"}},{"tagName":"meta","attributes":{"name":"twitter:label2","content":"Filed under"}},{"tagName":"meta","attributes":{"name":"twitter:data2","content":"NLP, Text Mining, Machine Learning, Python, Sentiment Analysis, Keras"}},{"tagName":"meta","attributes":{"name":"twitter:site","content":"@freecodecamp"}},{"tagName":"meta","attributes":{"property":"og:image:width","content":"2000"}},{"tagName":"meta","attributes":{"property":"og:image:height","content":"1200"}},{"tagName":"script","attributes":{"type":"application/ld+json"},"scriptContent":"{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2020/01/1_u9pwb9JShvDIU7j1G9iszQ.jpeg\",\n\t\t\"width\": 2000,\n\t\t\"height\": 1200\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/word-embeddings-for-sentiment-analysis/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2020-01-05T14:27:33.000Z\",\n\t\"dateModified\": \"2020-01-09T15:58:38.000Z\",\n\t\"keywords\": \"NLP, Text Mining, Machine Learning, Python, Sentiment Analysis, Keras\",\n\t\"description\": \"When applying one-hot encoding to words, we end up with sparse (containing many\\nzeros) vectors of high dimensionality. On large data sets, this could cause\\nperformance issues. \\n\\nAdditionally, one-hot encoding does not take into account the semantics of the\\nwords. So words like airplane and aircraft are considered to be two different\\nfeatures while we know that they have a very similar meaning. Word embeddings\\naddress these two issues.\\n\\nWord embeddings are dense vectors with much lower dimensiona\",\n\t\"headline\": \"A Deep Dive into Word Embeddings for Sentiment Analysis\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}"},{"tagName":"meta","attributes":{"name":"generator","content":"Eleventy"}},{"tagName":"link","attributes":{"rel":"alternate","type":"application/rss+xml","title":"freeCodeCamp.org","href":"https://www.freecodecamp.org/news/rss/"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com"}},{"tagName":"script","attributes":{},"scriptContent":"\nwindow.dataLayer = window.dataLayer || [];\n"},{"tagName":"script","attributes":{},"scriptContent":"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');"},{"tagName":"meta","attributes":{"name":"google-site-verification","content":"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E"}},{"tagName":"meta","attributes":{"name":"x-fcc-source","data-test-label":"x-fcc-source","content":"Ghost"}}],"html":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        \n        \n            <title>A Deep Dive into Word Embeddings for Sentiment Analysis</title>\n        \n        <meta name=\"HandheldFriendly\" content=\"True\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin=\"\">\n        \n            <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap\">\n        \n\n        \n        \n    <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n</noscript>\n<link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n</noscript>\n\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js\"></script>\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js\"></script>\n\n\n\n        \n        <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"/news/assets/css/global-26e2f3cde9.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/screen-926fddfac2.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/search-bar-124f5f949c.css\">\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js\"></script>\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js\"></script>\n\n        \n        \n            <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js\"></script>\n        \n\n        \n        <script>let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));</script>\n\n        \n        \n    \n        \n            <script data-ad-client=\"ca-pub-9482786369113753\" src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\" crossorigin=\"anonymous\" async=\"\"></script>\n        \n    \n\n\n        \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n\n\n        \n        \n        \n\n        \n        \n\n        <link rel=\"icon\" href=\"https://cdn.freecodecamp.org/universal/favicons/favicon.ico\" type=\"image/png\">\n        \n        \n            <link rel=\"canonical\" href=\"https://www.freecodecamp.org/news/word-embeddings-for-sentiment-analysis/\">\n        \n        <meta name=\"referrer\" content=\"no-referrer-when-downgrade\">\n\n        \n\n        \n    <meta name=\"description\" content=\"When applying one-hot encoding to words, we end up with sparse (containing many zeros) vectors of high dimensionality. On large data sets, this could cause performance issues.  Additionally, one-hot encoding does not take into account the semantics of the words. So words like airplane and aircraft are considered to\">\n\n    \n    <meta property=\"og:site_name\" content=\"freeCodeCamp.org\">\n    <meta property=\"og:type\" content=\"article\">\n    <meta property=\"og:title\" content=\"A Deep Dive into Word Embeddings for Sentiment Analysis\">\n    \n        <meta property=\"og:description\" content=\"When applying one-hot encoding to words, we end up with sparse (containing many zeros) vectors of high dimensionality. On large data sets, this could cause performance issues.  Additionally, one-hot encoding does not take into account the semantics of the words. So words like airplane and aircraft are considered to\">\n    \n    <meta property=\"og:url\" content=\"https://www.freecodecamp.org/news/word-embeddings-for-sentiment-analysis/\">\n    <meta property=\"og:image\" content=\"https://www.freecodecamp.org/news/content/images/2020/01/1_u9pwb9JShvDIU7j1G9iszQ.jpeg\">\n    <meta property=\"article:published_time\" content=\"2020-01-05T14:27:33.000Z\">\n    <meta property=\"article:modified_time\" content=\"2020-01-09T15:58:38.000Z\">\n    \n        <meta property=\"article:tag\" content=\"NLP\">\n    \n        <meta property=\"article:tag\" content=\"Text Mining\">\n    \n        <meta property=\"article:tag\" content=\"Machine Learning\">\n    \n        <meta property=\"article:tag\" content=\"Python\">\n    \n        <meta property=\"article:tag\" content=\"Sentiment Analysis\">\n    \n        <meta property=\"article:tag\" content=\"Keras\">\n    \n    <meta property=\"article:publisher\" content=\"https://www.facebook.com/freecodecamp\">\n    \n\n    \n    <meta name=\"twitter:card\" content=\"summary_large_image\">\n    <meta name=\"twitter:title\" content=\"A Deep Dive into Word Embeddings for Sentiment Analysis\">\n    \n        <meta name=\"twitter:description\" content=\"When applying one-hot encoding to words, we end up with sparse (containing many zeros) vectors of high dimensionality. On large data sets, this could cause performance issues.  Additionally, one-hot encoding does not take into account the semantics of the words. So words like airplane and aircraft are considered to\">\n    \n    <meta name=\"twitter:url\" content=\"https://www.freecodecamp.org/news/word-embeddings-for-sentiment-analysis/\">\n    <meta name=\"twitter:image\" content=\"https://www.freecodecamp.org/news/content/images/2020/01/1_u9pwb9JShvDIU7j1G9iszQ.jpeg\">\n    <meta name=\"twitter:label1\" content=\"Written by\">\n    <meta name=\"twitter:data1\" content=\"Bert Carremans\">\n    <meta name=\"twitter:label2\" content=\"Filed under\">\n    <meta name=\"twitter:data2\" content=\"NLP, Text Mining, Machine Learning, Python, Sentiment Analysis, Keras\">\n    <meta name=\"twitter:site\" content=\"@freecodecamp\">\n    \n\n    <meta property=\"og:image:width\" content=\"2000\">\n    <meta property=\"og:image:height\" content=\"1200\">\n\n\n        \n    <script type=\"application/ld+json\">{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2020/01/1_u9pwb9JShvDIU7j1G9iszQ.jpeg\",\n\t\t\"width\": 2000,\n\t\t\"height\": 1200\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/word-embeddings-for-sentiment-analysis/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2020-01-05T14:27:33.000Z\",\n\t\"dateModified\": \"2020-01-09T15:58:38.000Z\",\n\t\"keywords\": \"NLP, Text Mining, Machine Learning, Python, Sentiment Analysis, Keras\",\n\t\"description\": \"When applying one-hot encoding to words, we end up with sparse (containing many\\nzeros) vectors of high dimensionality. On large data sets, this could cause\\nperformance issues. \\n\\nAdditionally, one-hot encoding does not take into account the semantics of the\\nwords. So words like airplane and aircraft are considered to be two different\\nfeatures while we know that they have a very similar meaning. Word embeddings\\naddress these two issues.\\n\\nWord embeddings are dense vectors with much lower dimensiona\",\n\t\"headline\": \"A Deep Dive into Word Embeddings for Sentiment Analysis\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}</script>\n\n\n        <meta name=\"generator\" content=\"Eleventy\">\n        <link rel=\"alternate\" type=\"application/rss+xml\" title=\"freeCodeCamp.org\" href=\"https://www.freecodecamp.org/news/rss/\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n\n<!-- dataLayer setup -->\n<script>\nwindow.dataLayer = window.dataLayer || [];\n</script>\n<!-- End dataLayer setup -->\n\n<!-- Google Tag Manager -->\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');</script>\n<!-- End Google Tag Manager -->\n\n\n<meta name=\"google-site-verification\" content=\"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E\">\n\n        \n        \n\n        \n  <meta name=\"x-fcc-source\" data-test-label=\"x-fcc-source\" content=\"Ghost\">\n\n    </head>\n\n    \n        <body class=\"home-template\">\n    \n        <div class=\"site-wrapper\">\n            <nav class=\"site-nav nav-padding\">\n    <div class=\"site-nav-left\">\n        \n<form id=\"search-form\" data-test-label=\"search-bar\">\n    <div role=\"search\" class=\"searchbox__wrapper\">\n        <label class=\"fcc_sr_only\" for=\"search-input\">\n            Search\n        </label>\n        <input type=\"search\" placeholder=\"\n    Search 11,200+ tutorials\n\" id=\"search-input\">\n        <button type=\"submit\" class=\"ais-SearchBox-submit\">\n            <svg class=\"ais-SearchBox-submitIcon\" xmlns=\"https://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 40 40\">\n    <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n</svg>\n\n            <span class=\"fcc_sr_only\">Submit your search query</span>\n        </button>\n        <div id=\"dropdown-container\"></div>\n    </div>\n</form>\n\n    </div>\n    <div class=\"site-nav-middle\">\n        <a class=\"site-nav-logo\" href=\"https://www.freecodecamp.org/news/\" data-test-label=\"site-nav-logo\"><img src=\"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\" alt=\"freeCodeCamp.org\"></a>\n    </div>\n    <div class=\"site-nav-right\">\n        <div class=\"nav-group\">\n            <a class=\"nav-forum\" id=\"nav-forum\" rel=\"noopener noreferrer\" href=\"https://forum.freecodecamp.org/\" target=\"_blank\" data-test-label=\"forum-button\">Forum</a>\n            <a class=\"toggle-button-nav\" id=\"nav-donate\" rel=\"noopener noreferrer\" href=\"https://www.freecodecamp.org/donate/\" target=\"_blank\" data-test-label=\"donate-button\">Donate</a>\n        </div>\n    </div>\n</nav>\n\n\n            \n            <a class=\"banner\" id=\"banner\" data-test-label=\"banner\" rel=\"noopener noreferrer\" target=\"_blank\">\n    <p id=\"banner-text\"></p>\n</a>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const e=document.getElementById(\"banner\"),t=document.getElementById(\"banner-text\");isAuthenticated?(t.innerHTML=\"Support our charity and our mission. <span>Donate to freeCodeCamp.org</span>.\",e.href=\"https://www.freecodecamp.org/donate\",e.setAttribute(\"text-variation\",\"authenticated\")):isDonor?(t.innerHTML=\"Thank you for supporting freeCodeCamp through <span>your donations</span>.\",e.href=\"https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp/\",e.setAttribute(\"text-variation\",\"donor\")):(t.innerHTML=\"Learn to code — <span>free 3,000-hour curriculum</span>\",e.href=\"https://www.freecodecamp.org/\",e.setAttribute(\"text-variation\",\"default\"))}));</script>\n\n\n            <div id=\"error-message\"></div>\n\n            \n    <main id=\"site-main\" class=\"post-template site-main outer\">\n        <div class=\"inner ad-layout\">\n            <article class=\"post-full post\">\n                <header class=\"post-full-header\">\n                    <section class=\"post-full-meta\">\n                        <time class=\"post-full-meta-date\" data-test-label=\"post-full-meta-date\" datetime=\"Sun Jan 05 2020 14:27:33 GMT+0000 (Coordinated Universal Time)\">\n                            January 5, 2020\n                        </time>\n                        \n                            <span class=\"date-divider\">/</span>\n                            <a dir=\"ltr\" href=\"/news/tag/nlp/\">\n                                #NLP\n                            </a>\n                        \n                    </section>\n                    <h1 class=\"post-full-title\" data-test-label=\"post-full-title\">A Deep Dive into Word Embeddings for Sentiment Analysis</h1>\n                </header>\n                <div class=\"post-full-author-header\" data-test-label=\"author-header-no-bio\">\n                    \n                        \n                            \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content author-card-content-no-bio\">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n        </section>\n    </section>\n\n                        \n                    \n                </div>\n                <figure class=\"post-full-image\">\n                    \n    <picture>\n      <source media=\"(max-width: 700px)\" sizes=\"1px\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w\">\n      <source media=\"(min-width: 701px)\" sizes=\"(max-width: 800px) 400px, (max-width: 1170px) 700px, 1400px\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w300/2020/01/1_u9pwb9JShvDIU7j1G9iszQ.jpeg 300w, https://www.freecodecamp.org/news/content/images/size/w600/2020/01/1_u9pwb9JShvDIU7j1G9iszQ.jpeg 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2020/01/1_u9pwb9JShvDIU7j1G9iszQ.jpeg 1000w, https://www.freecodecamp.org/news/content/images/size/w2000/2020/01/1_u9pwb9JShvDIU7j1G9iszQ.jpeg 2000w\">\n      <img onerror=\"this.style.display='none'\" src=\"https://www.freecodecamp.org/news/content/images/size/w2000/2020/01/1_u9pwb9JShvDIU7j1G9iszQ.jpeg\" alt=\"A Deep Dive into Word Embeddings for Sentiment Analysis\" ,=\"\" width=\"2000\" height=\"1200\" data-test-label=\"feature-image\">\n    </picture>\n  \n                </figure>\n                <section class=\"post-full-content\">\n                    <div class=\"post-and-sidebar\">\n                        <section class=\"post-content \" data-test-label=\"post-content\">\n                            \n<p>When applying one-hot encoding to words, we end up with sparse (containing many zeros) vectors of high dimensionality. On large data sets, this could cause performance issues. </p><p>Additionally, one-hot encoding does not take into account the semantics of the words. So words like <em><em>airplane</em></em> and <em><em>aircraft</em></em> are considered to be two different features while we know that they have a very similar meaning. Word embeddings address these two issues.</p><p>Word embeddings are dense vectors with much lower dimensionality. Secondly, the semantic relationships between words are reflected in the distance and direction of the vectors.</p><p>We will work with the <a href=\"https://www.kaggle.com/crowdflower/twitter-airline-sentiment\" rel=\"noopener nofollow\">TwitterAirlineSentiment data set on Kaggle</a>. This data set contains roughly 15K tweets with 3 possible classes for the sentiment (positive, negative and neutral). In my previous post, we tried to <a href=\"https://www.freecodecamp.org/news/sentiment-analysis-with-text-mining/\">classify the tweets </a>by tokenizing the words and applying two classifiers. Let’s see if word embeddings can outperform that.</p><p>After reading this tutorial you will know how to compute task-specific word embeddings with the Embedding layer of <strong><strong>Keras</strong></strong>. Secondly, we will investigate whether word embeddings trained on a larger corpus can improve the accuracy of our model.</p><p>The structure of this tutorial is:</p><ul><li>Intuition behind word embeddings</li><li>Project set-up</li><li>Data preparation</li><li>Keras and its Embedding layer</li><li>Pre-trained word embeddings — GloVe</li><li>Training word embeddings with more dimensions</li></ul><h1 id=\"intuition-behind-word-embeddings\">Intuition behind word embeddings</h1><p>Before we can use words in a classifier, we need to convert them into numbers. One way to do that is to simply map words to integers. Another way is to one-hot encode words. Each tweet could then be represented as a vector with a dimension equal to (a limited set of) the words in the corpus. The words occurring in the tweet have a value of 1 in the vector. All other vector values equal zero.</p><p>Word embeddings are computed differently. Each word is positioned into a <strong><strong><em><em>multi-dimensional space</em></em></strong></strong>. The number of dimensions in this space is chosen by the data scientist. You can experiment with different dimensions and see what provides the best result.</p><p>The <strong><strong><em><em>vector values for a word represent its position</em></em></strong></strong> in this embedding space. Synonyms are found close to each other while words with opposite meanings have a large distance between them. You can also apply mathematical operations on the vectors which should produce semantically correct results. A typical example is that the sum of the word embeddings of <em><em>king</em></em> and <em><em>female</em></em> produces the word embedding of <em><em>queen</em></em>.</p><h1 id=\"project-set-up\">Project set-up</h1><p>Let’s start by importing all packages for this project.</p><pre><code class=\"language-python\">import pandas as pd\nimport numpy as np\nimport re\nimport collections\nimport matplotlib.pyplot as plt\nfrom pathlib import Path\nfrom sklearn.model_selection import train_test_split\nfrom nltk.corpus import stopwords\nfrom keras.preprocessing.text import Tokenizer\nfrom keras.preprocessing.sequence import pad_sequences\nfrom keras.utils.np_utils import to_categorical\nfrom sklearn.preprocessing import LabelEncoder\nfrom keras import models\nfrom keras import layers</code></pre><p>We define some parameters and paths used throughout the project. Most of them are self-explanatory. But others will be explained further in the code.</p><pre><code class=\"language-python\">NB_WORDS = 10000  # Parameter indicating the number of words we'll put in the dictionary\nVAL_SIZE = 1000  # Size of the validation set\nNB_START_EPOCHS = 10  # Number of epochs we usually start to train with\nBATCH_SIZE = 512  # Size of the batches used in the mini-batch gradient descent\nMAX_LEN = 24  # Maximum number of words in a sequence\nGLOVE_DIM = 100  # Number of dimensions of the GloVe word embeddings\nroot = Path('../')\ninput_path = root / 'input/'\nouput_path = root / 'output/'\nsource_path = root / 'source/'</code></pre><p>Throughout this code, we will also use some helper functions for data preparation, modeling and visualization. These function definitions are not shown here to keep the blog post clutter free. You can always refer to the<a href=\"https://github.com/bertcarremans/TwitterUSAirlineSentiment/blob/master/source/Using%20Word%20Embeddings%20for%20Sentiment%20Analysis.ipynb\" rel=\"noopener nofollow\"> notebook in Github</a> to look at the code.</p><h1 id=\"data-preparation\">Data preparation</h1><h2 id=\"reading-the-data-and-cleaning\">Reading the data and cleaning</h2><p>We read in the CSV file with the tweets and apply a random shuffle on its indexes. After that, we remove stop words and @ mentions. A test set of 10% is split off to evaluate the model on new data.</p><pre><code class=\"language-python\">df = pd.read_csv(input_path / 'Tweets.csv')\ndf = df.reindex(np.random.permutation(df.index))\ndf = df[['text', 'airline_sentiment']]\ndf.text = df.text.apply(remove_stopwords).apply(remove_mentions)\nX_train, X_test, y_train, y_test = train_test_split(df.text, df.airline_sentiment, test_size=0.1, random_state=37)</code></pre><h2 id=\"convert-words-into-integers\">Convert words into integers</h2><p>With the <strong><strong><em><em>Tokenizer</em></em></strong></strong> from Keras, we convert the tweets into sequences of integers. We limit the number of words to the <strong><strong><em><em>NB_WORDS</em></em></strong></strong> most frequent words. Additionally, the tweets are cleaned with some filters, set to lowercase and split on spaces.</p><pre><code class=\"language-python\">tk = Tokenizer(num_words=NB_WORDS,\nfilters='!\"#$%&amp;()*+,-./:;&lt;=&gt;?@[\\]^_`{\"}~\\t\\n',lower=True, split=\" \")\ntk.fit_on_texts(X_train)\nX_train_seq = tk.texts_to_sequences(X_train)\nX_test_seq = tk.texts_to_sequences(X_test)</code></pre><h2 id=\"equal-length-of-sequences\">Equal length of sequences</h2><p>Each batch needs to provide sequences of equal length. We achieve this with the <strong><strong><em><em>pad_sequences</em></em></strong></strong> method. By specifying <strong><strong><em><em>maxlen</em></em></strong></strong>, the sequences or padded with zeros or truncated.</p><pre><code class=\"language-python\">X_train_seq_trunc = pad_sequences(X_train_seq, maxlen=MAX_LEN)\nX_test_seq_trunc = pad_sequences(X_test_seq, maxlen=MAX_LEN)</code></pre><h2 id=\"encoding-the-target-variable\">Encoding the target variable</h2><p>The target classes are strings which need to be converted into numeric vectors. This is done with the <strong><strong><em><em>LabelEncoder</em></em></strong></strong> from Sklearn and the <strong><strong><em><em>to_categorical</em></em></strong></strong> method from Keras.</p><pre><code class=\"language-python\">le = LabelEncoder()\ny_train_le = le.fit_transform(y_train)\ny_test_le = le.transform(y_test)\ny_train_oh = to_categorical(y_train_le)\ny_test_oh = to_categorical(y_test_le)</code></pre><h2 id=\"splitting-off-the-validation-set\">Splitting off the validation set</h2><p>From the training data, we split off a validation set of 10% to use during training.</p><pre><code class=\"language-python\">X_train_emb, X_valid_emb, y_train_emb, y_valid_emb = train_test_split(X_train_seq_trunc, y_train_oh, test_size=0.1, random_state=37)</code></pre><h1 id=\"modeling\">Modeling</h1><h2 id=\"keras-and-the-embedding-layer\">Keras and the Embedding layer</h2><p>Keras provides a convenient way to convert each word into a multi-dimensional vector. This can be done with the <strong><strong><em><em>Embedding</em></em></strong></strong> layer. It will compute the word embeddings (or use pre-trained embeddings) and look up each word in a dictionary to find its vector representation. Here we will train word embeddings with 8 dimensions.</p><pre><code class=\"language-python\">emb_model = models.Sequential()\nemb_model.add(layers.Embedding(NB_WORDS, 8, input_length=MAX_LEN))\nemb_model.add(layers.Flatten())\nemb_model.add(layers.Dense(3, activation='softmax'))\nemb_history = deep_model(emb_model, X_train_emb, y_train_emb, X_valid_emb, y_valid_emb)</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/0_-XjJ4DTQ5RQ8jZOF.png\" class=\"kg-image\" alt=\"0_-XjJ4DTQ5RQ8jZOF\" width=\"375\" height=\"252\" loading=\"lazy\"></figure><p>We have a validation accuracy of about 74%. The number of words in the tweets is rather low, so this result is quite good. By comparing the training and validation loss, we see that the model starts <strong><strong>overfitting</strong></strong> from epoch 6.</p><p>In a previous article, I discussed how we can <a href=\"https://www.freecodecamp.org/news/handling-overfitting-in-deep-learning-models/\">avoid overfitting</a>. You might want to read that if you want to deep dive on that topic.</p><p>When we train the model on all data (including the validation data, but excluding the test data) and set the number of epochs to 6, we get a test accuracy of 78%. This test result is OK, but let’s see if we can improve with pre-trained word embeddings.</p><pre><code class=\"language-python\">emb_results = test_model(emb_model, X_train_seq_trunc, y_train_oh, X_test_seq_trunc, y_test_oh, 6)\nprint('/n')\nprint('Test accuracy of word embeddings model: {0:.2f}%'.format(emb_results[1]*100))</code></pre><h2 id=\"pre-trained-word-embeddings-glove\">Pre-trained word embeddings — Glove</h2><p>Because the training data is not so large, the model might not be able to learn good embeddings for the sentiment analysis. Alternatively, we can load pre-trained word embeddings built on a much larger training data.</p><p>The <a href=\"https://nlp.stanford.edu/projects/glove/\" rel=\"noopener nofollow\">GloVe database</a> contains multiple pre-trained word embeddings, and more specific <strong><strong><em><em>embeddings trained on tweets</em></em></strong></strong>. So this might be useful for the task at hand.</p><p>First, we put the word embeddings in a dictionary where the keys are the words and the values the word embeddings.</p><pre><code class=\"language-python\">glove_file = 'glove.twitter.27B.' + str(GLOVE_DIM) + 'd.txt'\nemb_dict = {}\nglove = open(input_path / glove_file)\nfor line in glove:\n    values = line.split()\n    word = values[0]\n    vector = np.asarray(values[1:], dtype='float32')\n    emb_dict[word] = vector\nglove.close()</code></pre><p>With the GloVe embeddings loaded in a dictionary, we can look up the embedding for each word in the corpus of the airline tweets. These will be stored in a matrix with a shape of <strong><strong><em><em>NB_WORDS</em></em></strong></strong> and <strong><strong><em><em>GLOVE_DIM</em></em></strong></strong>. If a word is not found in the GloVe dictionary, the word embedding values for the word are zero.</p><pre><code class=\"language-python\">emb_matrix = np.zeros((NB_WORDS, GLOVE_DIM))\nfor w, i in tk.word_index.items():\n    if i &lt; NB_WORDS:\n        vect = emb_dict.get(w)\n        if vect is not None:\n        emb_matrix[i] = vect\n    else:\n        break</code></pre><p>Then we specify the model just like we did with the model above.</p><pre><code class=\"language-python\">glove_model = models.Sequential()\nglove_model.add(layers.Embedding(NB_WORDS, GLOVE_DIM, input_length=MAX_LEN))\nglove_model.add(layers.Flatten())\nglove_model.add(layers.Dense(3, activation='softmax'))</code></pre><p>In the Embedding layer (which is layer 0 here) we <strong><strong><em><em>set the weights</em></em></strong></strong> for the words to those found in the GloVe word embeddings. By setting <strong><strong><em><em>trainable</em></em></strong></strong> to False we make sure that the GloVe word embeddings cannot be changed. After that, we run the model.</p><pre><code class=\"language-python\">glove_model.layers[0].set_weights([emb_matrix])\nglove_model.layers[0].trainable = False\nglove_history = deep_model(glove_model, X_train_emb, y_train_emb, X_valid_emb, y_valid_emb)</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/0_uhsGcl8UG_JYUycb.png\" class=\"kg-image\" alt=\"0_uhsGcl8UG_JYUycb\" width=\"382\" height=\"252\" loading=\"lazy\"></figure><p>The model overfits fast after 3 epochs. Furthermore, the validation accuracy is lower compared to the embeddings trained on the training data.</p><pre><code class=\"language-python\">glove_results = test_model(glove_model, X_train_seq_trunc, y_train_oh, X_test_seq_trunc, y_test_oh, 3)\nprint('/n')\nprint('Test accuracy of word glove model: {0:.2f}%'.format(glove_results[1]*100))</code></pre><p>As a final exercise, let’s see what results we get when we train the embeddings with the same number of dimensions as the GloVe data.</p><h2 id=\"training-word-embeddings-with-more-dimensions\">Training word embeddings with more dimensions</h2><p>We will train the word embeddings with the same number of dimensions as the GloVe embeddings (i.e. GLOVE_DIM).</p><pre><code class=\"language-python\">emb_model2 = models.Sequential()\nemb_model2.add(layers.Embedding(NB_WORDS, GLOVE_DIM, input_length=MAX_LEN))\nemb_model2.add(layers.Flatten())\nemb_model2.add(layers.Dense(3, activation='softmax'))\nemb_history2 = deep_model(emb_model2, X_train_emb, y_train_emb, X_valid_emb, y_valid_emb)</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/0_boJxTu7msbxWzexm.png\" class=\"kg-image\" alt=\"0_boJxTu7msbxWzexm\" width=\"375\" height=\"252\" loading=\"lazy\"></figure><pre><code class=\"language-python\">emb_results2 = test_model(emb_model2, X_train_seq_trunc, y_train_oh, X_test_seq_trunc, y_test_oh, 3)\nprint('/n')\nprint('Test accuracy of word embedding model 2: {0:.2f}%'.format(emb_results2[1]*100))</code></pre><p>On the test data we get good results, but we do not outperform the LogisticRegression with the CountVectorizer. So there is still room for improvement.</p><h1 id=\"conclusion\">Conclusion</h1><p>The best result is achieved with 100-dimensional word embeddings that are trained on the available data. This even outperforms the use of word embeddings that were trained on a much larger Twitter corpus.</p><p>Until now we have just put a Dense layer on the flattened embeddings. By doing this, <strong><strong><em><em>we do not take into account the relationships between the words</em></em></strong></strong> in the tweet. This can be achieved with a recurrent neural network or a 1D convolutional network. But that’s something for a future post :)</p>\n\n                        </section>\n                        \n                            <div class=\"sidebar\">\n                                \n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                \n                            </div>\n                        \n                    </div>\n                    <hr>\n                    \n                        <div class=\"post-full-author-header\" data-test-label=\"author-header-with-bio\">\n                            \n                                \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" loading=\"lazy\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content \">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n                \n                    <p data-test-label=\"author-bio\">Data Scientist</p>\n                \n            \n        </section>\n    </section>\n\n                            \n                        </div>\n                        <hr>\n                    \n\n                    \n                    \n                        \n    \n\n\n<p data-test-label=\"social-row-cta\" class=\"social-row\">\n    If this article was helpful, <button id=\"tweet-btn\" class=\"cta-button\" data-test-label=\"tweet-button\">share it</button>.\n</p>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const t=document.getElementById(\"tweet-btn\"),e=window.location,n=\"A%20Deep%20Dive%20into%20Word%20Embeddings%20for%20Sentiment%20Analysis\".replace(/&#39;/g,\"%27\"),o=\"\",i=\"\",r=Boolean(\"\");let s;if(r&&(o||i)){const t={originalPostAuthor:\"\",currentPostAuthor:\"Bert Carremans\"};s=encodeURIComponent(`Thank you ${o||t.originalPostAuthor} for writing this helpful article, and ${i||t.currentPostAuthor} for translating it.`)}else!r&&i&&(s=encodeURIComponent(`Thank you ${i} for writing this helpful article.`));const a=`window.open(\\n    '${s?`https://twitter.com/intent/tweet?text=${s}%0A%0A${n}%0A%0A${e}`:`https://twitter.com/intent/tweet?text=${n}%0A%0A${e}`}',\\n    'share-twitter',\\n    'width=550, height=235'\\n  ); return false;`;t.setAttribute(\"onclick\",a)}));</script>\n\n\n                        \n\n<div class=\"learn-cta-row\" data-test-label=\"learn-cta-row\">\n    <p>\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href=\"https://www.freecodecamp.org/learn/\" class=\"cta-button\" id=\"learn-to-code-cta\" rel=\"noopener noreferrer\" target=\"_blank\">Get started</a>\n    </p>\n</div>\n\n                    \n                </section>\n                \n                    <div class=\"banner-ad bottom\">\n                        \n                            <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                        \n                    </div>\n                \n            </article>\n        </div>\n    </main>\n\n\n            \n\n\n<footer class=\"site-footer\">\n    <div class=\"footer-top\">\n        <div class=\"footer-desc-col\">\n            <p data-test-label=\"tax-exempt-status\">freeCodeCamp is a donor-supported tax-exempt 501(c)(3) charity organization (United States Federal Tax Identification Number: 82-0779546)</p>\n            <p data-test-label=\"mission-statement\">Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public.</p>\n            <p data-test-label=\"donation-initiatives\">Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.</p>\n            <p class=\"footer-donation\" data-test-label=\"donate-text\">\n                You can <a href=\"https://www.freecodecamp.org/donate/\" class=\"inline\" rel=\"noopener noreferrer\" target=\"_blank\">make a tax-deductible donation here</a>.\n            </p>\n        </div>\n        <div class=\"trending-guides\" data-test-label=\"trending-guides\">\n            <h2 id=\"trending-guides\" class=\"col-header\">Trending Guides</h2>\n            <ul class=\"trending-guides-articles\" aria-labelledby=\"trending-guides\">\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-transform-functions-and-properties/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Transform\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-create-a-static-blog-with-lume/\" rel=\"noopener noreferrer\" target=\"_blank\">Build a Static Blog\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-build-an-ai-chatbot-with-redis-python-and-gpt/\" rel=\"noopener noreferrer\" target=\"_blank\">Build an AI Chatbot\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/what-is-programming-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">What is Programming?\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Python Code Examples\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/a-practical-guide-to-start-opensource-contributions/\" rel=\"noopener noreferrer\" target=\"_blank\">Open Source for Devs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/http-full-course/\" rel=\"noopener noreferrer\" target=\"_blank\">HTTP Networking in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-unit-tests-in-react-redux/\" rel=\"noopener noreferrer\" target=\"_blank\">Write React Unit Tests\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/introduction-to-algorithms-with-javascript-examples/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Algorithms in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-clean-code/\" rel=\"noopener noreferrer\" target=\"_blank\">How to Write Clean Code\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-php-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn PHP\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-java-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Java\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-swift-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Swift\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-golang-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Golang\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/get-started-with-nodejs/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Node.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-grid/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Grid\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-solidity-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Solidity\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-express-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Express.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/javascript-es-modules-and-module-bundlers/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn JS Modules\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/apache-kafka-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Apache Kafka\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/rest-api-design-best-practices-build-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">REST API Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/front-end-javascript-development-react-angular-vue-compared/\" rel=\"noopener noreferrer\" target=\"_blank\">Front-End JS Development\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-consume-and-document-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build REST APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-strongly-typed-polymorphic-components-with-react-and-typescript/\" rel=\"noopener noreferrer\" target=\"_blank\">Intermediate TS and React\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/command-line-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Command Line for Beginners\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-operating-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Intro to Operating Systems\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/building-consuming-and-documenting-a-graphql-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build GraphQL APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/oss-security-best-practices/\" rel=\"noopener noreferrer\" target=\"_blank\">OSS Security Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/design-patterns-for-distributed-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Distributed Systems Patterns\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-software-architecture-patterns/\" rel=\"noopener noreferrer\" target=\"_blank\">Software Architecture Patterns\n                    </a>\n                </li>\n            </ul>\n            <div class=\"spacer\" style=\"padding: 15px 0;\"></div>\n            <div>\n                <h2 id=\"mobile-app\" class=\"col-header\">\n                    Mobile App\n                </h2>\n                <div class=\"min-h-[1px] px-[15px] md:w-2/3 md:ml-[16.6%]\">\n                    <ul aria-labelledby=\"mobile-app\" class=\"mobile-app-container\">\n                        <li>\n                            <a href=\"https://apps.apple.com/us/app/freecodecamp/id6446908151?itsct=apps_box_link&itscg=30200\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/apple-store-badge.svg\" lang=\"en\" alt=\"Download on the App Store\">\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"https://play.google.com/store/apps/details?id=org.freecodecamp\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/google-play-badge.svg\" lang=\"en\" alt=\"Get it on Google Play\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer-bottom\">\n        <h2 class=\"col-header\" data-test-label=\"our-nonprofit\">Our Charity</h2>\n        <div class=\"our-nonprofit\">\n            <a href=\"https://www.freecodecamp.org/news/about/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"about\">\n                About\n            </a>\n            <a href=\"https://www.linkedin.com/school/free-code-camp/people/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"alumni\">\n                Alumni Network\n            </a>\n            <a href=\"https://github.com/freeCodeCamp/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"open-source\">\n                Open Source\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/shop/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"shop\">\n                Shop\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/support/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"support\">\n                Support\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/sponsors/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"sponsors\">\n                Sponsors\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/academic-honesty-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"honesty\">\n                Academic Honesty\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/code-of-conduct/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"coc\">\n                Code of Conduct\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/privacy-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"privacy\">\n                Privacy Policy\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/terms-of-service/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"tos\">\n                Terms of Service\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/copyright-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"copyright\">\n                Copyright Policy\n            </a>\n        </div>\n    </div>\n</footer>\n\n        </div>\n\n        \n        \n        \n\n        <!-- Google Tag Manager (noscript) -->\n<noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n<!-- End Google Tag Manager (noscript) -->\n\n        \n    <script defer src=\"https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015\" integrity=\"sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==\" data-cf-beacon='{\"rayId\":\"8ab69fe24ca48348\",\"serverTiming\":{\"name\":{\"cfL4\":true}},\"version\":\"2024.7.0\",\"token\":\"bdb993c6dde44e178aabd9555e75e4f4\"}' crossorigin=\"anonymous\"></script>\n</body>\n</html>\n"},"/news/scrape-the-web-for-top-rated-movies-on-tv/":{"metadata":[{"tagName":"meta","attributes":{"charset":"utf-8"}},{"tagName":"meta","attributes":{"http-equiv":"X-UA-Compatible","content":"IE=edge"}},{"tagName":"title","attributes":{}},{"tagName":"meta","attributes":{"name":"HandheldFriendly","content":"True"}},{"tagName":"meta","attributes":{"name":"viewport","content":"width=device-width, initial-scale=1.0"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.googleapis.com"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com","crossorigin":""}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"/news/assets/css/global-26e2f3cde9.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/screen-926fddfac2.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/search-bar-124f5f949c.css"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js"}},{"tagName":"script","attributes":{},"scriptContent":"let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));"},{"tagName":"script","attributes":{"data-ad-client":"ca-pub-9482786369113753","src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js","crossorigin":"anonymous","async":""}},{"tagName":"link","attributes":{"rel":"icon","href":"https://cdn.freecodecamp.org/universal/favicons/favicon.ico","type":"image/png"}},{"tagName":"link","attributes":{"rel":"canonical","href":"https://www.freecodecamp.org/news/scrape-the-web-for-top-rated-movies-on-tv/"}},{"tagName":"meta","attributes":{"name":"referrer","content":"no-referrer-when-downgrade"}},{"tagName":"meta","attributes":{"name":"description","content":"In this article, I will show how to scrape the internet for top-rated films with the Scrapy framework [http://scrapy.org/]. The goal of this web scraper is to find films that have a high user rating on The Movie Database [https://www.themoviedb.org/]. The list with these films will be stored in an"}},{"tagName":"meta","attributes":{"property":"og:site_name","content":"freeCodeCamp.org"}},{"tagName":"meta","attributes":{"property":"og:type","content":"article"}},{"tagName":"meta","attributes":{"property":"og:title","content":"The Complete Guide to Scraping the Web for Top Rated Movies on TV"}},{"tagName":"meta","attributes":{"property":"og:description","content":"In this article, I will show how to scrape the internet for top-rated films with the Scrapy framework [http://scrapy.org/]. The goal of this web scraper is to find films that have a high user rating on The Movie Database [https://www.themoviedb.org/]. The list with these films will be stored in an"}},{"tagName":"meta","attributes":{"property":"og:url","content":"https://www.freecodecamp.org/news/scrape-the-web-for-top-rated-movies-on-tv/"}},{"tagName":"meta","attributes":{"property":"og:image","content":"https://www.freecodecamp.org/news/content/images/2020/01/0_D52CsZmqCYvifA3M.jpeg"}},{"tagName":"meta","attributes":{"property":"article:published_time","content":"2020-01-03T22:30:01.000Z"}},{"tagName":"meta","attributes":{"property":"article:modified_time","content":"2020-01-04T06:43:41.000Z"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Web Scraping"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Scrapy"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Python"}},{"tagName":"meta","attributes":{"property":"article:publisher","content":"https://www.facebook.com/freecodecamp"}},{"tagName":"meta","attributes":{"name":"twitter:card","content":"summary_large_image"}},{"tagName":"meta","attributes":{"name":"twitter:title","content":"The Complete Guide to Scraping the Web for Top Rated Movies on TV"}},{"tagName":"meta","attributes":{"name":"twitter:description","content":"In this article, I will show how to scrape the internet for top-rated films with the Scrapy framework [http://scrapy.org/]. The goal of this web scraper is to find films that have a high user rating on The Movie Database [https://www.themoviedb.org/]. The list with these films will be stored in an"}},{"tagName":"meta","attributes":{"name":"twitter:url","content":"https://www.freecodecamp.org/news/scrape-the-web-for-top-rated-movies-on-tv/"}},{"tagName":"meta","attributes":{"name":"twitter:image","content":"https://www.freecodecamp.org/news/content/images/2020/01/0_D52CsZmqCYvifA3M.jpeg"}},{"tagName":"meta","attributes":{"name":"twitter:label1","content":"Written by"}},{"tagName":"meta","attributes":{"name":"twitter:data1","content":"Bert Carremans"}},{"tagName":"meta","attributes":{"name":"twitter:label2","content":"Filed under"}},{"tagName":"meta","attributes":{"name":"twitter:data2","content":"Web Scraping, Scrapy, Python"}},{"tagName":"meta","attributes":{"name":"twitter:site","content":"@freecodecamp"}},{"tagName":"meta","attributes":{"property":"og:image:width","content":"2000"}},{"tagName":"meta","attributes":{"property":"og:image:height","content":"1333"}},{"tagName":"script","attributes":{"type":"application/ld+json"},"scriptContent":"{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2020/01/0_D52CsZmqCYvifA3M.jpeg\",\n\t\t\"width\": 2000,\n\t\t\"height\": 1333\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/scrape-the-web-for-top-rated-movies-on-tv/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2020-01-03T22:30:01.000Z\",\n\t\"dateModified\": \"2020-01-04T06:43:41.000Z\",\n\t\"keywords\": \"Web Scraping, Scrapy, Python\",\n\t\"description\": \"In this article, I will show how to scrape the internet for top-rated films with\\nthe Scrapy framework [http://scrapy.org/]. The goal of this web scraper is to\\nfind films that have a high user rating on The Movie Database\\n[https://www.themoviedb.org/]. The list with these films will be stored in an \\nSQLite database and emailed. This way you know you’ll never miss a blockbuster\\non TV again.\\n\\nFinding a good web page to scrape\\nI start with an online TV guide to find films on Belgian TV channels. But\",\n\t\"headline\": \"The Complete Guide to Scraping the Web for Top Rated Movies on TV\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}"},{"tagName":"meta","attributes":{"name":"generator","content":"Eleventy"}},{"tagName":"link","attributes":{"rel":"alternate","type":"application/rss+xml","title":"freeCodeCamp.org","href":"https://www.freecodecamp.org/news/rss/"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com"}},{"tagName":"script","attributes":{},"scriptContent":"\nwindow.dataLayer = window.dataLayer || [];\n"},{"tagName":"script","attributes":{},"scriptContent":"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');"},{"tagName":"meta","attributes":{"name":"google-site-verification","content":"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E"}},{"tagName":"meta","attributes":{"name":"x-fcc-source","data-test-label":"x-fcc-source","content":"Ghost"}}],"html":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        \n        \n            <title>The Complete Guide to Scraping the Web for Top Rated Movies on TV</title>\n        \n        <meta name=\"HandheldFriendly\" content=\"True\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin=\"\">\n        \n            <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap\">\n        \n\n        \n        \n    <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n</noscript>\n<link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n</noscript>\n\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js\"></script>\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js\"></script>\n\n\n\n        \n        <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"/news/assets/css/global-26e2f3cde9.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/screen-926fddfac2.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/search-bar-124f5f949c.css\">\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js\"></script>\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js\"></script>\n\n        \n        \n            <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js\"></script>\n        \n\n        \n        <script>let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));</script>\n\n        \n        \n    \n        \n            <script data-ad-client=\"ca-pub-9482786369113753\" src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\" crossorigin=\"anonymous\" async=\"\"></script>\n        \n    \n\n\n        \n        \n    \n        \n    \n        \n    \n        \n    \n\n\n        \n        \n        \n\n        \n        \n\n        <link rel=\"icon\" href=\"https://cdn.freecodecamp.org/universal/favicons/favicon.ico\" type=\"image/png\">\n        \n        \n            <link rel=\"canonical\" href=\"https://www.freecodecamp.org/news/scrape-the-web-for-top-rated-movies-on-tv/\">\n        \n        <meta name=\"referrer\" content=\"no-referrer-when-downgrade\">\n\n        \n\n        \n    <meta name=\"description\" content=\"In this article, I will show how to scrape the internet for top-rated films with the Scrapy framework [http://scrapy.org/]. The goal of this web scraper is to find films that have a high user rating on The Movie Database [https://www.themoviedb.org/]. The list with these films will be stored in an\">\n\n    \n    <meta property=\"og:site_name\" content=\"freeCodeCamp.org\">\n    <meta property=\"og:type\" content=\"article\">\n    <meta property=\"og:title\" content=\"The Complete Guide to Scraping the Web for Top Rated Movies on TV\">\n    \n        <meta property=\"og:description\" content=\"In this article, I will show how to scrape the internet for top-rated films with the Scrapy framework [http://scrapy.org/]. The goal of this web scraper is to find films that have a high user rating on The Movie Database [https://www.themoviedb.org/]. The list with these films will be stored in an\">\n    \n    <meta property=\"og:url\" content=\"https://www.freecodecamp.org/news/scrape-the-web-for-top-rated-movies-on-tv/\">\n    <meta property=\"og:image\" content=\"https://www.freecodecamp.org/news/content/images/2020/01/0_D52CsZmqCYvifA3M.jpeg\">\n    <meta property=\"article:published_time\" content=\"2020-01-03T22:30:01.000Z\">\n    <meta property=\"article:modified_time\" content=\"2020-01-04T06:43:41.000Z\">\n    \n        <meta property=\"article:tag\" content=\"Web Scraping\">\n    \n        <meta property=\"article:tag\" content=\"Scrapy\">\n    \n        <meta property=\"article:tag\" content=\"Python\">\n    \n    <meta property=\"article:publisher\" content=\"https://www.facebook.com/freecodecamp\">\n    \n\n    \n    <meta name=\"twitter:card\" content=\"summary_large_image\">\n    <meta name=\"twitter:title\" content=\"The Complete Guide to Scraping the Web for Top Rated Movies on TV\">\n    \n        <meta name=\"twitter:description\" content=\"In this article, I will show how to scrape the internet for top-rated films with the Scrapy framework [http://scrapy.org/]. The goal of this web scraper is to find films that have a high user rating on The Movie Database [https://www.themoviedb.org/]. The list with these films will be stored in an\">\n    \n    <meta name=\"twitter:url\" content=\"https://www.freecodecamp.org/news/scrape-the-web-for-top-rated-movies-on-tv/\">\n    <meta name=\"twitter:image\" content=\"https://www.freecodecamp.org/news/content/images/2020/01/0_D52CsZmqCYvifA3M.jpeg\">\n    <meta name=\"twitter:label1\" content=\"Written by\">\n    <meta name=\"twitter:data1\" content=\"Bert Carremans\">\n    <meta name=\"twitter:label2\" content=\"Filed under\">\n    <meta name=\"twitter:data2\" content=\"Web Scraping, Scrapy, Python\">\n    <meta name=\"twitter:site\" content=\"@freecodecamp\">\n    \n\n    <meta property=\"og:image:width\" content=\"2000\">\n    <meta property=\"og:image:height\" content=\"1333\">\n\n\n        \n    <script type=\"application/ld+json\">{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2020/01/0_D52CsZmqCYvifA3M.jpeg\",\n\t\t\"width\": 2000,\n\t\t\"height\": 1333\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/scrape-the-web-for-top-rated-movies-on-tv/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2020-01-03T22:30:01.000Z\",\n\t\"dateModified\": \"2020-01-04T06:43:41.000Z\",\n\t\"keywords\": \"Web Scraping, Scrapy, Python\",\n\t\"description\": \"In this article, I will show how to scrape the internet for top-rated films with\\nthe Scrapy framework [http://scrapy.org/]. The goal of this web scraper is to\\nfind films that have a high user rating on The Movie Database\\n[https://www.themoviedb.org/]. The list with these films will be stored in an \\nSQLite database and emailed. This way you know you’ll never miss a blockbuster\\non TV again.\\n\\nFinding a good web page to scrape\\nI start with an online TV guide to find films on Belgian TV channels. But\",\n\t\"headline\": \"The Complete Guide to Scraping the Web for Top Rated Movies on TV\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}</script>\n\n\n        <meta name=\"generator\" content=\"Eleventy\">\n        <link rel=\"alternate\" type=\"application/rss+xml\" title=\"freeCodeCamp.org\" href=\"https://www.freecodecamp.org/news/rss/\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n\n<!-- dataLayer setup -->\n<script>\nwindow.dataLayer = window.dataLayer || [];\n</script>\n<!-- End dataLayer setup -->\n\n<!-- Google Tag Manager -->\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');</script>\n<!-- End Google Tag Manager -->\n\n\n<meta name=\"google-site-verification\" content=\"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E\">\n\n        \n        \n\n        \n  <meta name=\"x-fcc-source\" data-test-label=\"x-fcc-source\" content=\"Ghost\">\n\n    </head>\n\n    \n        <body class=\"home-template\">\n    \n        <div class=\"site-wrapper\">\n            <nav class=\"site-nav nav-padding\">\n    <div class=\"site-nav-left\">\n        \n<form id=\"search-form\" data-test-label=\"search-bar\">\n    <div role=\"search\" class=\"searchbox__wrapper\">\n        <label class=\"fcc_sr_only\" for=\"search-input\">\n            Search\n        </label>\n        <input type=\"search\" placeholder=\"\n    Search 11,200+ tutorials\n\" id=\"search-input\">\n        <button type=\"submit\" class=\"ais-SearchBox-submit\">\n            <svg class=\"ais-SearchBox-submitIcon\" xmlns=\"https://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 40 40\">\n    <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n</svg>\n\n            <span class=\"fcc_sr_only\">Submit your search query</span>\n        </button>\n        <div id=\"dropdown-container\"></div>\n    </div>\n</form>\n\n    </div>\n    <div class=\"site-nav-middle\">\n        <a class=\"site-nav-logo\" href=\"https://www.freecodecamp.org/news/\" data-test-label=\"site-nav-logo\"><img src=\"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\" alt=\"freeCodeCamp.org\"></a>\n    </div>\n    <div class=\"site-nav-right\">\n        <div class=\"nav-group\">\n            <a class=\"nav-forum\" id=\"nav-forum\" rel=\"noopener noreferrer\" href=\"https://forum.freecodecamp.org/\" target=\"_blank\" data-test-label=\"forum-button\">Forum</a>\n            <a class=\"toggle-button-nav\" id=\"nav-donate\" rel=\"noopener noreferrer\" href=\"https://www.freecodecamp.org/donate/\" target=\"_blank\" data-test-label=\"donate-button\">Donate</a>\n        </div>\n    </div>\n</nav>\n\n\n            \n            <a class=\"banner\" id=\"banner\" data-test-label=\"banner\" rel=\"noopener noreferrer\" target=\"_blank\">\n    <p id=\"banner-text\"></p>\n</a>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const e=document.getElementById(\"banner\"),t=document.getElementById(\"banner-text\");isAuthenticated?(t.innerHTML=\"Support our charity and our mission. <span>Donate to freeCodeCamp.org</span>.\",e.href=\"https://www.freecodecamp.org/donate\",e.setAttribute(\"text-variation\",\"authenticated\")):isDonor?(t.innerHTML=\"Thank you for supporting freeCodeCamp through <span>your donations</span>.\",e.href=\"https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp/\",e.setAttribute(\"text-variation\",\"donor\")):(t.innerHTML=\"Learn to code — <span>free 3,000-hour curriculum</span>\",e.href=\"https://www.freecodecamp.org/\",e.setAttribute(\"text-variation\",\"default\"))}));</script>\n\n\n            <div id=\"error-message\"></div>\n\n            \n    <main id=\"site-main\" class=\"post-template site-main outer\">\n        <div class=\"inner ad-layout\">\n            <article class=\"post-full post\">\n                <header class=\"post-full-header\">\n                    <section class=\"post-full-meta\">\n                        <time class=\"post-full-meta-date\" data-test-label=\"post-full-meta-date\" datetime=\"Fri Jan 03 2020 22:30:01 GMT+0000 (Coordinated Universal Time)\">\n                            January 3, 2020\n                        </time>\n                        \n                            <span class=\"date-divider\">/</span>\n                            <a dir=\"ltr\" href=\"/news/tag/web-scraping/\">\n                                #Web Scraping\n                            </a>\n                        \n                    </section>\n                    <h1 class=\"post-full-title\" data-test-label=\"post-full-title\">The Complete Guide to Scraping the Web for Top Rated Movies on TV</h1>\n                </header>\n                <div class=\"post-full-author-header\" data-test-label=\"author-header-no-bio\">\n                    \n                        \n                            \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content author-card-content-no-bio\">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n        </section>\n    </section>\n\n                        \n                    \n                </div>\n                <figure class=\"post-full-image\">\n                    \n    <picture>\n      <source media=\"(max-width: 700px)\" sizes=\"1px\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w\">\n      <source media=\"(min-width: 701px)\" sizes=\"(max-width: 800px) 400px, (max-width: 1170px) 700px, 1400px\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w300/2020/01/0_D52CsZmqCYvifA3M.jpeg 300w, https://www.freecodecamp.org/news/content/images/size/w600/2020/01/0_D52CsZmqCYvifA3M.jpeg 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2020/01/0_D52CsZmqCYvifA3M.jpeg 1000w, https://www.freecodecamp.org/news/content/images/size/w2000/2020/01/0_D52CsZmqCYvifA3M.jpeg 2000w\">\n      <img onerror=\"this.style.display='none'\" src=\"https://www.freecodecamp.org/news/content/images/size/w2000/2020/01/0_D52CsZmqCYvifA3M.jpeg\" alt=\"The Complete Guide to Scraping the Web for Top Rated Movies on TV\" ,=\"\" width=\"2000\" height=\"1333\" data-test-label=\"feature-image\">\n    </picture>\n  \n                </figure>\n                <section class=\"post-full-content\">\n                    <div class=\"post-and-sidebar\">\n                        <section class=\"post-content \" data-test-label=\"post-content\">\n                            \n<p>In this article, I will show how to scrape the internet for top-rated films with the <a href=\"http://scrapy.org/\" rel=\"noopener nofollow\"><strong><strong><em><em>Scrapy framework</em></em></strong></strong></a>. The <strong><strong><em><em>goal</em></em></strong></strong> of this web scraper is to find films that have a high user rating on <a href=\"https://www.themoviedb.org/\" rel=\"noopener nofollow\">The Movie Database</a>. The list with these films will be stored in an <strong><strong><em><em>SQLite database</em></em></strong></strong> and <strong><strong><em><em>emailed</em></em></strong></strong>. This way you know you’ll never miss a blockbuster on TV again.</p><h1 id=\"finding-a-good-web-page-to-scrape\">Finding a good web page to scrape</h1><p>I start with an online TV guide to find films on Belgian TV channels. But you could easily adapt my code to use it for any other website. To make your life easier when scraping for films, make sure the website you want to scrape:</p><ul><li>has HTML tags with a <strong><strong><em><em>comprehensible class or id</em></em></strong></strong></li><li>uses classes and ids in a <strong><strong><em><em>consistent</em></em></strong></strong> way</li><li>has <strong><strong><em><em>well-structured URLs</em></em></strong></strong></li><li>contains all relevant <strong><strong><em><em>TV channels on one page</em></em></strong></strong></li><li>has a <strong><strong><em><em>separate page per weekday</em></em></strong></strong></li><li><em><em><strong><strong>lists only films</strong></strong></em></em> and no other program types like live shows, news, reportage, and so on. Unless you can easily distinguish the films from the other program types.</li></ul><p>With the results found we will scrape <a href=\"https://www.themoviedb.org/\" rel=\"noopener nofollow\"><strong><strong><em><em>The Movie Database</em></em></strong></strong></a> (TMDB) for the film rating and some other information.</p><h1 id=\"deciding-on-what-information-to-store\">Deciding on what information to store</h1><p>I will scrape the following information about the films:</p><ul><li>film title</li><li>TV channel</li><li>the time that the film starts</li><li>the date the film is on TV</li><li>genre</li><li>plot</li><li>release date</li><li>link to the details page on TMDB</li><li>TMDB rating</li></ul><p>You could complement this list with all actors, the director, interesting film facts, and so on – all the information you’d like to know more about.</p><p>In Scrapy this information will be stored in the fields of an <strong><strong><em><em>Item</em></em></strong></strong>.</p><h1 id=\"create-the-scrapy-project\">Create the Scrapy project</h1><p>I am going to assume that you have Scrapy installed. If not, you can follow the excellent <a href=\"http://doc.scrapy.org/en/latest/intro/install.html\">Scrapy installation guide</a>.</p><p>When Scrapy is installed, open the command line and go to the directory where you want to store the Scrapy project. Then run:</p><pre><code>scrapy startproject topfilms</code></pre><p>This will create a folder structure for the top films project as shown below. You can ignore the topfilms.db file for now. This is the SQLite database that we will create in the next blog post on Pipelines.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/0_dZ6phochXc8Dq1L6.png\" class=\"kg-image\" alt=\"0_dZ6phochXc8Dq1L6\" width=\"525\" height=\"173\" loading=\"lazy\"></figure><h1 id=\"defining-scrapy-items\">Defining Scrapy Items</h1><p>We’ll be working with the file <strong><strong><em><em>items.py</em></em>. </strong></strong>Items.py is created by default when creating your Scrapy project.</p><p>An <code>scrapy.Item</code> is a container that will be filled during the web scraping. It will hold all the fields that we want to extract from the web page(s). The contents of the Item can be accessed in the same way as a <strong><strong><em><em>Python dict</em></em></strong></strong>.</p><p>Open items.py and add a <code>Scrapy.Item class</code> with the following fields:</p><pre><code class=\"language-python\">import scrapy\nclass TVGuideItem(scrapy.Item):\n    title = scrapy.Field()\n    channel = scrapy.Field()\n    start_ts = scrapy.Field()\n    film_date_long = scrapy.Field()\n    film_date_short = scrapy.Field()\n    genre = scrapy.Field()\n    plot = scrapy.Field()\n    rating = scrapy.Field()\n    tmdb_link = scrapy.Field()\n    release_date = scrapy.Field()\n    nb_votes = scrapy.Field()</code></pre><h1 id=\"processing-items-with-pipelines\">Processing Items with Pipelines</h1><p>After starting a new Scrapy project, you’ll have a file called <strong><strong>pipelines.py</strong></strong>. Open this file and copy-paste the code shown below. Afterward, I’ll show you step-by-step what each part of the code does.</p><pre><code class=\"language-python\">import sqlite3 as lite\ncon = None  # db connection\nclass StoreInDBPipeline(object):\n    def __init__(self):\n        self.setupDBCon()\n        self.dropTopFilmsTable()\n        self.createTopFilmsTable()\ndef process_item(self, item, spider):\n        self.storeInDb(item)\n        return item\ndef storeInDb(self, item):\n        self.cur.execute(\"INSERT INTO topfilms(\\\n        title, \\\n        channel, \\\n        start_ts, \\\n        film_date_long, \\\n        film_date_short, \\\n        rating, \\\n        genre, \\\n        plot, \\\n        tmdb_link, \\\n        release_date, \\\n        nb_votes \\\n        ) \\\n        VALUES( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )\",\n        (\n        item['title'],\n        item['channel'],\n        item['start_ts'],\n        item['film_date_long'],\n        item['film_date_short'],\n        float(item['rating']),\n        item['genre'],\n        item['plot'],\n        item['tmdb_link'],\n        item['release_date'],\n        item['nb_votes']\n        ))\n        self.con.commit()\ndef setupDBCon(self):\n        self.con = lite.connect('topfilms.db')\n        self.cur = self.con.cursor()\ndef __del__(self):\n        self.closeDB()\ndef createTopFilmsTable(self):\n        self.cur.execute(\"CREATE TABLE IF NOT EXISTS topfilms(id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, \\\n        title TEXT, \\\n        channel TEXT, \\\n        start_ts TEXT, \\\n        film_date_long TEXT, \\\n        film_date_short TEXT, \\\n        rating TEXT, \\\n        genre TEXT, \\\n        plot TEXT, \\\n        tmdb_link TEXT, \\\n        release_date TEXT, \\\n        nb_votes \\\n        )\")\ndef dropTopFilmsTable(self):\n        self.cur.execute(\"DROP TABLE IF EXISTS topfilms\")\n        \n    def closeDB(self):\n        self.con.close()</code></pre><p>First, we start by importing the <a href=\"https://docs.python.org/2/library/sqlite3.html\" rel=\"noopener nofollow\">SQLite package</a> and give it the alias <code>lite</code>. We also initialize a variable <code>con</code> which is used for the database connection.</p><h2 id=\"creating-a-class-to-store-items-in-the-database\">Creating a class to store Items in the database</h2><p>Next, you create a <a href=\"https://docs.python.org/2/tutorial/classes.html\" rel=\"noopener nofollow\"><strong><strong><em><em>class</em></em></strong></strong></a> with a logical name. After enabling the pipeline in the settings file (more on that later), this class will be called.</p><pre><code class=\"language-python\">class StoreInDBPipeline(object):</code></pre><h2 id=\"defining-the-constructor-method\">Defining the constructor method</h2><p>The constructor method is the method with the name <code>__init__</code>. This method is automatically run when creating an instance of the <code>StoreInDBPipeline</code> class.</p><pre><code class=\"language-python\">def __init__(self):\n    self.setupDBCon()\n    self.dropTopFilmsTable()\n    self.createTopFilmsTable()</code></pre><p>In the constructor method, we launch three other methods which are defined below the constructor method.</p><h2 id=\"setupdbcon-method\">SetupDBCon Method</h2><p>With the method <code>setupDBCon</code>, we create the <code>topfilms</code> database (if it didn’t exist yet) and make a connection to it with the <code>connect</code> function.</p><pre><code class=\"language-python\">def setupDBCon(self):\n    self.con = lite.connect('topfilms.db')\n\tself.cur = self.con.cursor()</code></pre><p>Here we use the alias lite for the SQLite package. Secondly, we create a Cursor object with the <code>cursor</code> function. With this Cursor object, we can execute SQL statements in the database.</p><h2 id=\"droptopfilmstable-method\">DropTopFilmsTable Method</h2><p>The second method that is called in the constructor is <code>dropTopFilmsTable</code>. As the name says, it drops the table in the SQLite database.</p><p>Each time the web scraper is run the database will be completely removed. It is up to you if you want to do that as well. If you want to do some querying or analysis of the films’ data, you could keep the scraping results of each run.</p><p>I just want to see the top rated films of the coming days and nothing more. Therefore I decided to delete the database in each run.</p><pre><code class=\"language-python\">def dropTopFilmsTable(self):\n    self.cur.execute(\"DROP TABLE IF EXISTS topfilms\")</code></pre><p>With the Cursor object <code>cur</code> we execute the <code>DROP</code> statement.</p><h2 id=\"createtopfilmstable-method\">CreateTopFilmsTable Method</h2><p>After dropping the top films table, we need to create it. This is done by the last method call in the constructor method.</p><pre><code class=\"language-python\">def createTopFilmsTable(self):\n    self.cur.execute(\"CREATE TABLE IF NOT EXISTS topfilms(id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, \\\n    title TEXT, \\\n    channel TEXT, \\\n    start_ts TEXT, \\\n    film_date_long TEXT, \\\n    film_date_short TEXT, \\\n    rating TEXT, \\\n    genre TEXT, \\\n    plot TEXT, \\\n    tmdb_link TEXT, \\\n    release_date TEXT, \\\n    nb_votes \\\n    )\")</code></pre><p>Again we use the Cursor object <code>cur</code> to execute the <code>CREATE TABLE</code> statement. The fields that are added to the table top films are the same as in the Scrapy Item we created before. To keep things easy, I use exactly the same names in the SQLite table as in the Item. Only the <code>id</code> field is extra.</p><p><em><em><strong><strong>Sidenote</strong></strong>: a good application to look at your SQLite databases is the <a href=\"https://addons.mozilla.org/nl/firefox/addon/sqlite-manager/\" rel=\"noopener nofollow\">SQLite Manager plugin in Firefox</a>. You can watch this <a href=\"https://youtu.be/y-yA7YT-7gw\" rel=\"noopener nofollow\">SQLite Manager tutorial on Youtube</a> to learn how to use this plugin.</em></em></p><h2 id=\"process_item-method\">Process_item Method</h2><p>This method must be implemented in the Pipeline class and it must return a dict, an Item or DropItem exception. In our web scraper, we will return the item.</p><pre><code class=\"language-python\">def process_item(self, item, spider):\n    self.storeInDb(item)\n\treturn item</code></pre><p>In contrast with the other methods explained, it has two extra arguments. The <code>item</code> that was scraped and the <code>spider</code> that scraped the item. From this method, we launch the <code>storeInDb</code> method and afterward return the item.</p><h2 id=\"storeindb-method\">StoreInDb Method</h2><p>This method executes an <code>INSERT</code> statement to insert the scraped item into the SQLite database.</p><pre><code class=\"language-python\">def storeInDb(self, item):\n    self.cur.execute(\"INSERT INTO topfilms(\\\n    title, \\\n    channel, \\\n    start_ts, \\\n    film_date_long, \\\n    film_date_short, \\\n    rating, \\\n    genre, \\\n    plot, \\\n    tmdb_link, \\\n    release_date, \\\n    nb_votes \\\n    ) \\\n    VALUES( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )\",\n                     (\n                         item['title'],\n                         item['channel'],\n                         item['start_ts'],\n                         item['film_date_long'],\n                         item['film_date_short'],\n                         float(item['rating']),\n                         item['genre'],\n                         item['plot'],\n                         item['tmdb_link'],\n                         item['release_date'],\n                         item['nb_votes']\n                     ))\n    self.con.commit()</code></pre><p>The values for the table fields come from the item, which is an argument for this method. These values are simply called as a dict value (remember that an Item is nothing more than a dict?).</p><h2 id=\"every-constructor-has-a-destructor\">Every constructor has a... destructor</h2><p>The counterpart of the constructor method is the destructor method with the name <code>__del__</code>. In the destructor method for this pipelines class, we close the connection to the database.</p><pre><code class=\"language-python\">def __del__(self):\n    self.closeDB()</code></pre><h2 id=\"closedb-method\">CloseDB Method</h2><pre><code class=\"language-python\">def closeDB(self):\n    self.con.close()</code></pre><p>In this last method, we close the database connection with the <code>close</code> function. So now we have written a fully functional pipeline. There is still one last step left to enable the pipeline.</p><h2 id=\"enabling-the-pipeline-in-settings-py\">Enabling the pipeline in settings.py</h2><p>Open the <strong><strong><em><em>settings.py</em></em></strong></strong> file and add the following code:</p><pre><code class=\"language-python\">ITEM_PIPELINES = {\n    'topfilms.pipelines.StoreInDBPipeline':1\n}</code></pre><p>The <strong><strong><em><em>integer value</em></em></strong></strong> indicates the order in which the pipelines are run. As we have only one pipeline, we assign it the value 1.</p><h1 id=\"creating-a-spider-in-scrapy\">Creating a Spider in Scrapy</h1><p>Now we’ll be looking at the core of Scrapy, the <strong><strong><em><em>Spider</em></em></strong></strong>. This is where the heavy lifting of your web scraper will be done. I’ll show you step-by-step how to create one.</p><h2 id=\"importing-the-necessary-packages\">Importing the necessary packages</h2><p>First of all, we’ll import the necessary packages and modules. We use the <code>CrawlSpider</code> module to follow links throughout the online TV guide.</p><p><code>Rule</code> and <code>LinkExtractor</code> are used to determine which links we want to follow.</p><p>The <code>config</code> module contains some constants like <code>DOM_1, DOM_2</code> and <code>START_URL</code> that are used in the Spider. The config module is found one directory up to the current directory. That’s why you see two dots before the config module.</p><p>And lastly, we import the <code>TVGuideItem</code>. This TVGuideItem will be used to contain the information during the scraping.</p><pre><code class=\"language-python\">import scrapy\nfrom scrapy.spiders import CrawlSpider, Rule\nfrom scrapy.linkextractors import LinkExtractor\nfrom fuzzywuzzy import fuzz\nfrom ..config import *\nfrom topfilms.items import TVGuideItem</code></pre><h2 id=\"telling-the-spider-where-to-go\">Telling the Spider where to go</h2><p>Secondly we subclass the CrawlSpider class. This is done by inserting CrawlSpider as an argument for the <code>TVGuideSpider</code> class.</p><p>We give the Spider a <code>name</code>, provide the <code>allowed_domains</code> (e.g. themoviedb.org) and the <code>start_urls</code>. The start_urls is in my case the web page of the TV guide, so you should change this by your own preferred website.</p><p>With <code>rules</code> and the <code>deny </code>argument we tell the Spider which URLs (not) to follow on the start URL. The URL not to follow is specified with a regular expression.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/0_r0r11AyaIBEC7ODH.png\" class=\"kg-image\" alt=\"0_r0r11AyaIBEC7ODH\" width=\"525\" height=\"47\" loading=\"lazy\"></figure><p>I am not interested in the films that were shown yesterday, don't allow the Spider to follow URLs ending with “<em><em>gisteren</em></em>“.</p><p>OK, but which URLs should the Spider follow? For that, I use the <code>restrict_xpaths</code> argument. It says to follow all URLs with the <code>class=”button button–beta”</code>. These are in fact URLs with films for the coming week.</p><p>Finally, with the <code>callback</code> argument we let the Spider know what to do when it is following one of the URLs. It will execute the function <code>parse_by_day</code>. I’ll explain that in the next part.</p><pre><code class=\"language-python\">class TVGuideSpider(CrawlSpider):\n    name = \"tvguide\"\n    allowed_domains = [DOM_1, DOM_2]\n    start_urls = [START_URL]\n# Extract the links from the navigation per day\n    # We will not crawl the films for yesterday\n    rules = (\n        Rule(LinkExtractor(allow=(), deny=(r'\\/gisteren'), restrict_xpaths=('//a[@class=\"button button--beta\"]',)), callback=\"parse_by_day\", follow= True),\n    )</code></pre><h2 id=\"parsing-the-followed-urls\">Parsing the followed urls</h2><p>The <code>parse_by_day</code> function, part of the TVGuideScraper, scrapes the web pages with the overview of all films per channel per day. The <code>response</code> argument comes from the <code>Request</code> that has been launched when running the web scraping program.</p><p>On the web page being scraped you need to find the HTML elements that are used to show the information we are interested in. Two good tools for this are the <a href=\"https://developers.google.com/web/tools/chrome-devtools/\" rel=\"noopener nofollow\">Chrome Developer Tools</a> and the <a href=\"https://addons.mozilla.org/nl/firefox/addon/firebug/\" rel=\"noopener nofollow\">Firebug plugin in Firefox</a>.</p><p>One thing we want to store is the <code>date</code> for the films we are scraping. This date can be found in the paragraph (p) in the div with <code>class=\"grid__col__inner\"</code>. Clearly, this is something you should modify for the page you are scraping.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/0_-EML6UFd2TbqVCmY.png\" class=\"kg-image\" alt=\"0_-EML6UFd2TbqVCmY\" width=\"405\" height=\"123\" loading=\"lazy\"></figure><p>With the <code>xpath method</code> of the Response object, we extract the text in the paragraph. I learned a lot of this in the <a href=\"http://zvon.org/comp/r/tut-XPath_1.html\" rel=\"noopener nofollow\">tutorial on how to use the xpath function</a>.</p><p>By using <code>extract_first</code>, we make sure that we do not store this date as a list. Otherwise, this will give us issues when storing the date in the SQLite database.</p><p>Afterwards, I perform some data cleaning on film_date_long and create <code>film_date_short</code> with the format YYYYMMDD. I created this YYYYMMDD format to sort the films chronologically later on.</p><p>Next, the TV channel is scraped. If it is in the list of <code>ALLOWED_CHANNELS</code> (defined in the config module), we continue to scrape the title and starting time. This information is stored in the item, which is initiated by <code>TVGuideItem()</code>.</p><p>After this, we want to continue scraping on The Movie Database. We will use the URL <a href=\"https://www.themoviedb.org/search?query=\" rel=\"noopener nofollow\"><strong><strong>https://www.themoviedb.org/search?query=</strong></strong></a> to show search results for the film being scraped. To this URL, we want to add the film title (<code>url_part</code> in the code). We simply re-use the URL part that is found in the link on the TV guide web page.</p><p>With that URL, we create a new request and continue on TMDB. With <code>request.meta['item'] = item</code> we add the already scraped data to the request. This way we can continue to fill up our current TVGuideItem.</p><p><code>Yield request</code> actually launches the request.</p><pre><code class=\"language-python\">def parse_by_day(self, response):\n    film_date_long = response.xpath('//div[@class=\"grid__col__inner\"]/p/text()').extract_first()\n    film_date_long = film_date_long.rsplit(',',1)[-1].strip()  # Remove day name and white spaces\n    # Create a film date with a short format like YYYYMMDD to sort the results chronologically\n    film_day_parts = film_date_long.split()\n    months_list = ['januari', 'februari', 'maart',\n                  'april', 'mei', 'juni', 'juli',\n                  'augustus', 'september', 'oktober',\n                  'november', 'december' ]\n    year = str(film_day_parts[2])\n    month = str(months_list.index(film_day_parts[1]) + 1).zfill(2)\n    day = str(film_day_parts[0]).zfill(2)\n    film_date_short = year + month + day\n    for col_inner in response.xpath('//div[@class=\"grid__col__inner\"]'):\n        chnl = col_inner.xpath('.//div[@class=\"tv-guide__channel\"]/h6/a/text()').extract_first()\n        if chnl in ALLOWED_CHANNELS:\n            for program in col_inner.xpath('.//div[@class=\"program\"]'):\n                item = TVGuideItem()\n                item['channel'] = chnl\n                item['title'] = program.xpath('.//div[@class=\"title\"]/a/text()').extract_first()\n                item['start_ts'] = program.xpath('.//div[@class=\"time\"]/text()').extract_first()\n                item['film_date_long'] = film_date_long\n                item['film_date_short'] = film_date_short\n                detail_link = program.xpath('.//div[@class=\"title\"]/a/@href').extract_first()\n                url_part = detail_link.rsplit('/',1)[-1]\n                # Extract information from the Movie Database www.themoviedb.org\n                request = scrapy.Request(\"https://www.themoviedb.org/search?query=\"+url_part,callback=self.parse_tmdb)\n                request.meta['item'] = item  # Pass the item with the request to the detail page\n    yield request</code></pre><h2 id=\"scraping-additional-information-on-the-movie-database\">Scraping additional information on The Movie DataBase</h2><p>As you can see in the request created in the function <code>parse_by_day</code>, we use the callback function <code>parse_tmdb</code>. This function is used during the request to scrape the TMDB website.</p><p>In the first step, we get the item information that was passed by the <code>parse_by_day</code> function.</p><p>The page with search results on TMDB can possibly list multiple search results for the same film title (url_part passed in the query). We also check whether there are results with <code>if tmddb_titles</code>.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/0_ncBMqbk9fzZ-Szi0.png\" class=\"kg-image\" alt=\"0_ncBMqbk9fzZ-Szi0\" width=\"525\" height=\"203\" loading=\"lazy\"></figure><p>We use the <a href=\"https://pypi.python.org/pypi/fuzzywuzzy\" rel=\"noopener nofollow\">fuzzywuzzy</a> package to perform fuzzy matching on the film titles. In order to use the fuzzywuzzy package we need to add the <code>import</code> statement together with the previous import statements.</p><pre><code class=\"language-python\">from fuzzywuzzy import fuzz</code></pre><p>If we find a 90% match we use that search result to do the rest of the scraping. We do not look at the other search results anymore. To do that we use the <code>break</code> statement.</p><p>Next, we gather <code>genre</code>, <code>rating</code> and <code>release_date</code> from the search results page in a similar way we used the xpath function before. To get a YYYYMMDD format for the release date, we execute some data processing with the <code>split</code> and <code>join</code> functions.</p><p>Again we want to launch a new request to the details page on TMDB. This request will call the <code>parse_tmdb_detail</code> function to extract the film plot and number of votes on TMDB. This is explained in the next section.</p><pre><code class=\"language-python\">def parse_tmdb(self, response):\n    item = response.meta['item']  # Use the passed item\n\n\n    tmdb_titles = response.xpath('//a[@class=\"title result\"]/text()').extract()\n    if tmdb_titles:  # Check if there are results on TMDB\n        for tmdb_title in tmdb_titles:\n            match_ratio = fuzz.ratio(item['title'], tmdb_title)\n            if match_ratio &gt; 90:\n                item['genre'] = response.xpath('.//span[@class=\"genres\"]/text()').extract_first()\n                item['rating'] = response.xpath('//span[@class=\"vote_average\"]/text()').extract_first()\n                release_date = response.xpath('.//span[@class=\"release_date\"]/text()').extract_first()\n                release_date_parts = release_date.split('/')\n                item['release_date'] = \"/\".join(\n                    [release_date_parts[1].strip(), release_date_parts[0].strip(), release_date_parts[2].strip()])\n                tmdb_link = \"https://www.themoviedb.org\" + response.xpath(\n                    '//a[@class=\"title result\"]/@href').extract_first()\n                item['tmdb_link'] = tmdb_link\n                # Extract more info from the detail page\n                request = scrapy.Request(tmdb_link, callback=self.parse_tmdb_detail)\n                request.meta['item'] = item  # Pass the item with the request to the detail page\n    yield request\n    break  # We only consider the first match\n    else:\n        return</code></pre><h2 id=\"scraping-the-film-plot-from-the-details-page\">Scraping the film plot from the details page</h2><p>The last function we’ll discuss is a short one. As before we get the item passed by the parse_tmdb function and scrape the details page for the <code>plot</code> and <code>number of votes</code>.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/0_C-Tj8dZ8yxfx_3gV.png\" class=\"kg-image\" alt=\"0_C-Tj8dZ8yxfx_3gV\" width=\"525\" height=\"139\" loading=\"lazy\"></figure><p>At this stage, we are finished scraping the information for the film. In other words, the item for the film is completely filled up. Scrapy will then use the code written in the pipelines to process these data and put it in the database.</p><pre><code class=\"language-python\">def parse_tmdb_detail(self, response):\n    item = response.meta['item']  # Use the passed item\n    item['nb_votes'] = response.xpath('//span[@itemprop=\"ratingCount\"]/text()').extract_first()\n    item['plot'] = response.xpath('.//p[@id=\"overview\"]/text()').extract_first()\n    yield item</code></pre><h1 id=\"using-extensions-in-scrapy\">Using Extensions in Scrapy</h1><p>In the section about Pipelines, we already saw how we store the scraping results in an SQLite database. Now I will show you how you can <strong><strong><em><em>send the scraping results via email.</em></em></strong></strong> This way you get a nice overview of the top rated films for the coming week in your mailbox.</p><h2 id=\"importing-the-necessary-packages-1\">Importing the necessary packages</h2><p>We will be working with the file <strong><strong><em><em>extensions.py</em></em></strong></strong>. This file is automatically created in the root directory when you created the Scrapy project. We start by importing the packages which we’ll use later in this file.</p><pre><code class=\"language-python\">import logging\nfrom scrapy import signals\nfrom scrapy.exceptions import NotConfigured\nimport smtplib\nimport sqlite3 as lite\nfrom config import *</code></pre><p>The <code>logging</code> package is not really required. But this package can be useful for debugging your program or just to write some information to the log.<br>The <code>signals</code> module will help us to know when the spider has been opened and closed. We will send the email with the films after the spider has done its job.</p><p>From the <code>scrapy.exceptions</code> module we import the method <code>NotConfigured</code>. This will be raised when the extension is not configured in the <strong><strong><em><em>settings.py</em></em></strong></strong> file. Concretely the parameter <code>MYEXT_ENABLED</code> must be set to <code>True</code>. We’ll see this later in the code.</p><p>The <code>smtplib</code> package is imported to be able to send the email. I use my Gmail address to send the email, but you could adapt the code in config.py to use another email service.</p><p>Lastly, we import the <code>sqlite3</code> package to extract the top-rated films from the database and import <code>config</code> to get our constants.</p><h2 id=\"creating-the-sendemail-class-in-the-extensions\">Creating the SendEmail class in the extensions</h2><p>First, we define the <code>logger</code> object. With this object we can write messages to the log at certain events. Then we create the <code>SendEmail</code> class with the constructor method. In the constructor, we assign <code>FROMADDR</code> and <code>TOADDR</code> to the corresponding attributes of the class. These constants are set in the <strong><strong><em><em>config.py</em></em></strong></strong> file. I used my Gmail address for both attributes.</p><pre><code class=\"language-python\">logger = logging.getLogger(__name__)\nclass SendEmail(object):\n    def __init__(self):\n        self.fromaddr = FROMADDR\n        self.toaddr  = TOADDR</code></pre><h2 id=\"instantiating-the-extension-object\">Instantiating the extension object</h2><p>The first method of the <code>SendEmail</code> object is <code>from_crawler</code>. The first check we do is whether <code>MYEXT_ENABLED</code> is enabled in the settings.py file. If this is not the case, we raise a <code>NotConfigured</code> exception. When this happens, the rest of the code in the extension is not executed.</p><p>In the <strong><strong><em><em>settings.py</em></em></strong></strong> file we need to add the following code to enable this extension.</p><pre><code class=\"language-python\">MYEXT_ENABLED = True\nEXTENSIONS = {\n    'topfilms.extensions.SendEmail': 500,\n    'scrapy.telnet.TelnetConsole': None\n}</code></pre><p>So we set the Boolean flag <code>MYEXT_ENABLED</code> to <code>True</code>. Then we add our own extension <code>SendEmail</code> to the <code>EXTENSIONS</code> dictionary. The integer value of 500 specifies the order in which the extension must be executed. I also had to disable the <code>TelnetConsole</code>. Otherwise sending the email did not work. This extension is disabled by putting <code>None</code>instead of an integer order value.</p><p>Next, we instantiate the extension object with the <code>cls()</code> function. To this extension object we connect some <code>signals</code>. We are interested in the <code>spider_opened</code> and <code>spider_closed</code>signals. And lastly we return the <code>ext</code> object.</p><pre><code>@classmethod\ndef from_crawler(cls, crawler):\n    # first check if the extension should be enabled and raise\n    # NotConfigured otherwise\n    if not crawler.settings.getbool('MYEXT_ENABLED'):\n        raise NotConfigured\n    # instantiate the extension object\n    ext = cls()\n    # connect the extension object to signals\n    crawler.signals.connect(ext.spider_opened, signal=signals.spider_opened)\n    crawler.signals.connect(ext.spider_closed, signal=signals.spider_closed)\n    # return the extension object\n    return ext</code></pre><h2 id=\"define-the-actions-in-the-spider_opened-event\">Define the actions in the spider_opened event</h2><p>When the spider has been opened we simply want to write this to the log. Therefore we use the <code>logger</code> object which we created at the top of the code. With the <code>info</code> method we write a message to the log. <code>Spider.name</code> is replaced by the name we defined in the TVGuideSpider.py file.</p><pre><code class=\"language-python\">def spider_opened(self, spider):\n    logger.info(\"opened spider %s\", spider.name)</code></pre><h2 id=\"sending-the-email-after-the-spider_closed-event\">Sending the email after the spider_closed event</h2><p>In the last method of the <code>SendEmail</code> class we send the email containing the overview with top rated films.</p><p>Again we send a notification to the log that the spider has been closed. Secondly, we create a connection to the SQLite database containing all the films of the coming week for the <strong><strong><em><em>ALLOWED_CHANNELS.</em></em></strong></strong> We select the films with a <code>rating &gt;= 6.5</code>. You can change the rating to a higher or lower threshold as you wish. The resulting films are then sorted by <code>film_date_short</code>, which has the YYYYMMDD format and by the starting time <code>start_ts</code>.</p><p>We fetch all rows in the cursor <code>cur</code> and check whether we have some results with the <code>len</code> function. It is possible to have no results when you set the threshold rating too high, for example.</p><p>With <code>for row in data</code> we go through each resulting film. We extract all the interesting information from the <code>row</code>. For some data we apply some encoding with <code>encode('ascii','ignore')</code>. This is to ignore some of the special characters like é, à, è, and so on. Otherwise we get errors when sending the email.</p><p>When all data about the film is gathered, we compose a string variable <code>topfilm</code>. Each <code>topfilm</code> is then concatenated to the variable <code>topfilms_overview</code>, which will be the message of the email we send. If we have no film in our query result, we mention this in a short message.</p><p>At the end, we send the message with the Gmail address, thanks to the <code>smtplib</code> package.</p><pre><code class=\"language-python\">def spider_closed(self, spider):\n    logger.info(\"closed spider %s\", spider.name)\n    # Getting films with a rating above a threshold\n    topfilms_overview = \"\"\n    con = lite.connect('topfilms.db')\n    cur = con.execute(\n        \"SELECT title, channel, start_ts, film_date_long, plot, genre, release_date, rating, tmdb_link, nb_votes \"\n        \"FROM topfilms \"\n        \"WHERE rating &gt;= 6.5 \"\n        \"ORDER BY film_date_short, start_ts\")\n\n\n    data = cur.fetchall()\n    if len(data) &gt; 0:  # Check if we have records in the query result\n        for row in data:\n            title = row[0].encode('ascii', 'ignore')\n            channel = row[1]\n            start_ts = row[2]\n            film_date_long = row[3]\n            plot = row[4].encode('ascii', 'ignore')\n            genre = row[5]\n            release_date = row[6].rstrip()\n            rating = row[7]\n            tmdb_link = row[8]\n            nb_votes = row[9]\n            topfilm = ' - '.join([title, channel, film_date_long, start_ts])\n            topfilm = topfilm + \"\\r\\n\" + \"Release date: \" + release_date\n            topfilm = topfilm + \"\\r\\n\" + \"Genre: \" + str(genre)\n            topfilm = topfilm + \"\\r\\n\" + \"TMDB rating: \" + rating + \" from \" + nb_votes + \" votes\"\n            topfilm = topfilm + \"\\r\\n\" + plot\n            topfilm = topfilm + \"\\r\\n\" + \"More info on: \" + tmdb_link\n            topfilms_overview = \"\\r\\n\\r\\n\".join([topfilms_overview, topfilm])\n    con.close()\n    if len(topfilms_overview) &gt; 0:\n        message = topfilms_overview\n    else:\n        message = \"There are no top rated films for the coming week.\"\n    msg = \"\\r\\n\".join([\n        \"From: \" + self.fromaddr,\n        \"To: \" + self.toaddr,\n        \"Subject: Top Films Overview\",\n        message\n    ])\n    username = UNAME\n    password = PW\n    server = smtplib.SMTP(GMAIL)\n    server.ehlo()\n    server.starttls()\n    server.login(username, password)\n    server.sendmail(self.fromaddr, self.toaddr, msg)\n    server.quit()</code></pre><h2 id=\"result-of-sending-emails-via-extensions\">Result of sending emails via Extensions</h2><p>The final result of this piece of code is an overview with top rated films in your mailbox. Great! Now you don’t have to look this up anymore on the online TV guide.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/0_SuRZuKi2RIkRJD3y.png\" class=\"kg-image\" alt=\"0_SuRZuKi2RIkRJD3y\" width=\"525\" height=\"247\" loading=\"lazy\"></figure><h1 id=\"tricks-to-avoid-ip-banning\">Tricks to avoid IP banning</h1><p>When you make many requests in a short period of time, you risk being banned by the server. In this final section, I’ll show you some tricks to avoid IP banning.</p><h2 id=\"delaying-your-requests\">Delaying your requests</h2><p>One simple way to avoid IP banning is to <strong><strong><em><em>pause between each request</em></em></strong></strong>. In Scrapy this can be done by simply setting a parameter in the <strong><strong><em><em>settings.py</em></em></strong></strong> file. As you probably noticed, the settings.py file has a lot of parameters commented out.</p><p>Search for the parameter <code>DOWNLOAD_DELAY</code> and uncomment it. I set the <strong><strong><em><em>pause length to 2 seconds</em></em></strong></strong>. Depending on how many requests you have to make, you can change this. But I would set it to at least 1 second.</p><pre><code class=\"language-python\">DOWNLOAD_DELAY=2</code></pre><h2 id=\"more-advanced-way-for-avoiding-ip-banning\">More advanced way for avoiding IP banning</h2><p>By default, each time you make a request, you do this with the <strong><strong><em><em>same user agent</em></em></strong></strong>. Thanks to the package <code>fake_useragent</code> we can easily change the user agent for each request.</p><p>All credits for this piece of code go to <a href=\"https://github.com/alecxe/scrapy-fake-useragent\" rel=\"noopener nofollow\">Alecxe</a> who wrote a nice Python script to make use of the fake_useragent package.</p><p>First, we create a folder <strong><strong><em><em>scrapy_fake_useragent</em></em></strong></strong> in the root directory of our web scraper project. In this folder we add two files:</p><ul><li><strong><strong><em><em>__init__.py</em></em></strong></strong> which is an empty file</li><li><strong><strong><em><em>middleware.py</em></em></strong></strong></li></ul><p>To use this <a href=\"http://doc.scrapy.org/en/latest/topics/spider-middleware.html\" rel=\"noopener nofollow\">middleware</a> we need to enable it in the <strong><strong><em><em>settings.py</em></em></strong></strong> file. This is done with the code:</p><pre><code class=\"language-python\">DOWNLOADER_MIDDLEWARES = {\n    'scrapy.downloadermiddleware.useragent.UserAgentMiddleware': None,\n    'scrapy_fake_useragent.middleware.RandomUserAgentMiddleware': 400,\n}</code></pre><p>First, we disable the default <code>UserAgentMiddleware</code> of Scrapy by specifying <em><em>None </em></em>instead of an integer value. Then we enable our own middleware <code>RandomUserAgentMiddleware</code>. Intuitively, middleware is a piece of code that is executed <strong><strong><em><em>during a request</em></em></strong></strong>.</p><p>In the file <strong><strong><em><em>middleware.py</em></em></strong></strong> we add the code to <strong><strong><em><em>randomize the user agent</em></em></strong></strong><em><em> </em></em>for each request. Make sure you have the fake_useragent package installed. From the <a href=\"https://pypi.python.org/pypi/fake-useragent\" rel=\"noopener nofollow\">fake_usergent package</a> we import the <code>UserAgent</code> module. This contains <strong><strong><em><em>a list of different user agents</em></em></strong></strong>. In the constructor of the RandomUserAgentMiddleware class, we instantiate the UserAgent object. In the method <strong><strong><em><em>process_request </em></em></strong></strong>we set the user agent to a random user agent from the <code>ua</code> object in the header of the request.</p><pre><code class=\"language-python\">from fake_useragent import UserAgent\nclass RandomUserAgentMiddleware(object):\n    def __init__(self):\n        super(RandomUserAgentMiddleware, self).__init__()\n        self.ua = UserAgent()\n    def process_request(self, request, spider):\n        request.headers.setdefault('User-Agent', self.ua.random)</code></pre><h1 id=\"conclusion\">Conclusion</h1><p>That was it! I hope you now have a clear view on how to use Scrapy for your web scraping projects.</p>\n\n                        </section>\n                        \n                            <div class=\"sidebar\">\n                                \n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                \n                            </div>\n                        \n                    </div>\n                    <hr>\n                    \n                        <div class=\"post-full-author-header\" data-test-label=\"author-header-with-bio\">\n                            \n                                \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" loading=\"lazy\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content \">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n                \n                    <p data-test-label=\"author-bio\">Data Scientist</p>\n                \n            \n        </section>\n    </section>\n\n                            \n                        </div>\n                        <hr>\n                    \n\n                    \n                    \n                        \n    \n\n\n<p data-test-label=\"social-row-cta\" class=\"social-row\">\n    If this article was helpful, <button id=\"tweet-btn\" class=\"cta-button\" data-test-label=\"tweet-button\">share it</button>.\n</p>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const t=document.getElementById(\"tweet-btn\"),e=window.location,n=\"The%20Complete%20Guide%20to%20Scraping%20the%20Web%20for%20Top%20Rated%20Movies%20on%20TV\".replace(/&#39;/g,\"%27\"),o=\"\",r=\"\",i=Boolean(\"\");let a;if(i&&(o||r)){const t={originalPostAuthor:\"\",currentPostAuthor:\"Bert Carremans\"};a=encodeURIComponent(`Thank you ${o||t.originalPostAuthor} for writing this helpful article, and ${r||t.currentPostAuthor} for translating it.`)}else!i&&r&&(a=encodeURIComponent(`Thank you ${r} for writing this helpful article.`));const s=`window.open(\\n    '${a?`https://twitter.com/intent/tweet?text=${a}%0A%0A${n}%0A%0A${e}`:`https://twitter.com/intent/tweet?text=${n}%0A%0A${e}`}',\\n    'share-twitter',\\n    'width=550, height=235'\\n  ); return false;`;t.setAttribute(\"onclick\",s)}));</script>\n\n\n                        \n\n<div class=\"learn-cta-row\" data-test-label=\"learn-cta-row\">\n    <p>\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href=\"https://www.freecodecamp.org/learn/\" class=\"cta-button\" id=\"learn-to-code-cta\" rel=\"noopener noreferrer\" target=\"_blank\">Get started</a>\n    </p>\n</div>\n\n                    \n                </section>\n                \n                    <div class=\"banner-ad bottom\">\n                        \n                            <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                        \n                    </div>\n                \n            </article>\n        </div>\n    </main>\n\n\n            \n\n\n<footer class=\"site-footer\">\n    <div class=\"footer-top\">\n        <div class=\"footer-desc-col\">\n            <p data-test-label=\"tax-exempt-status\">freeCodeCamp is a donor-supported tax-exempt 501(c)(3) charity organization (United States Federal Tax Identification Number: 82-0779546)</p>\n            <p data-test-label=\"mission-statement\">Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public.</p>\n            <p data-test-label=\"donation-initiatives\">Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.</p>\n            <p class=\"footer-donation\" data-test-label=\"donate-text\">\n                You can <a href=\"https://www.freecodecamp.org/donate/\" class=\"inline\" rel=\"noopener noreferrer\" target=\"_blank\">make a tax-deductible donation here</a>.\n            </p>\n        </div>\n        <div class=\"trending-guides\" data-test-label=\"trending-guides\">\n            <h2 id=\"trending-guides\" class=\"col-header\">Trending Guides</h2>\n            <ul class=\"trending-guides-articles\" aria-labelledby=\"trending-guides\">\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-transform-functions-and-properties/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Transform\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-create-a-static-blog-with-lume/\" rel=\"noopener noreferrer\" target=\"_blank\">Build a Static Blog\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-build-an-ai-chatbot-with-redis-python-and-gpt/\" rel=\"noopener noreferrer\" target=\"_blank\">Build an AI Chatbot\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/what-is-programming-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">What is Programming?\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Python Code Examples\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/a-practical-guide-to-start-opensource-contributions/\" rel=\"noopener noreferrer\" target=\"_blank\">Open Source for Devs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/http-full-course/\" rel=\"noopener noreferrer\" target=\"_blank\">HTTP Networking in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-unit-tests-in-react-redux/\" rel=\"noopener noreferrer\" target=\"_blank\">Write React Unit Tests\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/introduction-to-algorithms-with-javascript-examples/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Algorithms in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-clean-code/\" rel=\"noopener noreferrer\" target=\"_blank\">How to Write Clean Code\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-php-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn PHP\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-java-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Java\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-swift-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Swift\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-golang-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Golang\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/get-started-with-nodejs/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Node.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-grid/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Grid\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-solidity-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Solidity\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-express-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Express.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/javascript-es-modules-and-module-bundlers/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn JS Modules\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/apache-kafka-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Apache Kafka\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/rest-api-design-best-practices-build-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">REST API Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/front-end-javascript-development-react-angular-vue-compared/\" rel=\"noopener noreferrer\" target=\"_blank\">Front-End JS Development\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-consume-and-document-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build REST APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-strongly-typed-polymorphic-components-with-react-and-typescript/\" rel=\"noopener noreferrer\" target=\"_blank\">Intermediate TS and React\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/command-line-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Command Line for Beginners\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-operating-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Intro to Operating Systems\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/building-consuming-and-documenting-a-graphql-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build GraphQL APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/oss-security-best-practices/\" rel=\"noopener noreferrer\" target=\"_blank\">OSS Security Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/design-patterns-for-distributed-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Distributed Systems Patterns\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-software-architecture-patterns/\" rel=\"noopener noreferrer\" target=\"_blank\">Software Architecture Patterns\n                    </a>\n                </li>\n            </ul>\n            <div class=\"spacer\" style=\"padding: 15px 0;\"></div>\n            <div>\n                <h2 id=\"mobile-app\" class=\"col-header\">\n                    Mobile App\n                </h2>\n                <div class=\"min-h-[1px] px-[15px] md:w-2/3 md:ml-[16.6%]\">\n                    <ul aria-labelledby=\"mobile-app\" class=\"mobile-app-container\">\n                        <li>\n                            <a href=\"https://apps.apple.com/us/app/freecodecamp/id6446908151?itsct=apps_box_link&itscg=30200\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/apple-store-badge.svg\" lang=\"en\" alt=\"Download on the App Store\">\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"https://play.google.com/store/apps/details?id=org.freecodecamp\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/google-play-badge.svg\" lang=\"en\" alt=\"Get it on Google Play\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer-bottom\">\n        <h2 class=\"col-header\" data-test-label=\"our-nonprofit\">Our Charity</h2>\n        <div class=\"our-nonprofit\">\n            <a href=\"https://www.freecodecamp.org/news/about/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"about\">\n                About\n            </a>\n            <a href=\"https://www.linkedin.com/school/free-code-camp/people/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"alumni\">\n                Alumni Network\n            </a>\n            <a href=\"https://github.com/freeCodeCamp/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"open-source\">\n                Open Source\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/shop/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"shop\">\n                Shop\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/support/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"support\">\n                Support\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/sponsors/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"sponsors\">\n                Sponsors\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/academic-honesty-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"honesty\">\n                Academic Honesty\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/code-of-conduct/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"coc\">\n                Code of Conduct\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/privacy-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"privacy\">\n                Privacy Policy\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/terms-of-service/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"tos\">\n                Terms of Service\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/copyright-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"copyright\">\n                Copyright Policy\n            </a>\n        </div>\n    </div>\n</footer>\n\n        </div>\n\n        \n        \n        \n\n        <!-- Google Tag Manager (noscript) -->\n<noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n<!-- End Google Tag Manager (noscript) -->\n\n        \n    <script defer src=\"https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015\" integrity=\"sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==\" data-cf-beacon='{\"rayId\":\"8ab69fe24ca68348\",\"serverTiming\":{\"name\":{\"cfL4\":true}},\"version\":\"2024.7.0\",\"token\":\"bdb993c6dde44e178aabd9555e75e4f4\"}' crossorigin=\"anonymous\"></script>\n</body>\n</html>\n"},"/news/visualizing-air-pollution-folium-maps/":{"metadata":[{"tagName":"meta","attributes":{"charset":"utf-8"}},{"tagName":"meta","attributes":{"http-equiv":"X-UA-Compatible","content":"IE=edge"}},{"tagName":"title","attributes":{}},{"tagName":"meta","attributes":{"name":"HandheldFriendly","content":"True"}},{"tagName":"meta","attributes":{"name":"viewport","content":"width=device-width, initial-scale=1.0"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.googleapis.com"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com","crossorigin":""}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"/news/assets/css/global-26e2f3cde9.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/screen-926fddfac2.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/search-bar-124f5f949c.css"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js"}},{"tagName":"script","attributes":{},"scriptContent":"let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));"},{"tagName":"script","attributes":{"data-ad-client":"ca-pub-9482786369113753","src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js","crossorigin":"anonymous","async":""}},{"tagName":"link","attributes":{"rel":"icon","href":"https://cdn.freecodecamp.org/universal/favicons/favicon.ico","type":"image/png"}},{"tagName":"link","attributes":{"rel":"canonical","href":"https://www.freecodecamp.org/news/visualizing-air-pollution-folium-maps/"}},{"tagName":"meta","attributes":{"name":"referrer","content":"no-referrer-when-downgrade"}},{"tagName":"meta","attributes":{"name":"description","content":"In my previous story on forecasting air pollution [/news/forecasting-air-pollution-recurrent-neural-networks/], I looked into using recurrent neural networks (RNN and LSTM) to forecast air pollution in Belgium. As a small side project, I thought it would be interesting to plot the air pollution over time on a map. The Folium package [http://python-visualization.github.io/folium/]"}},{"tagName":"meta","attributes":{"property":"og:site_name","content":"freeCodeCamp.org"}},{"tagName":"meta","attributes":{"property":"og:type","content":"article"}},{"tagName":"meta","attributes":{"property":"og:title","content":"How to Visualize Air Pollution using Folium Maps - An In Depth Tutorial"}},{"tagName":"meta","attributes":{"property":"og:description","content":"In my previous story on forecasting air pollution [/news/forecasting-air-pollution-recurrent-neural-networks/], I looked into using recurrent neural networks (RNN and LSTM) to forecast air pollution in Belgium. As a small side project, I thought it would be interesting to plot the air pollution over time on a map. The Folium package [http://python-visualization.github.io/folium/]"}},{"tagName":"meta","attributes":{"property":"og:url","content":"https://www.freecodecamp.org/news/visualizing-air-pollution-folium-maps/"}},{"tagName":"meta","attributes":{"property":"og:image","content":"https://www.freecodecamp.org/news/content/images/2020/01/0_PlMoYJ9MPTjB_2Ju.jpeg"}},{"tagName":"meta","attributes":{"property":"article:published_time","content":"2020-01-03T21:59:44.000Z"}},{"tagName":"meta","attributes":{"property":"article:modified_time","content":"2020-01-18T20:57:19.000Z"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Data Visualization"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Folium"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Time Series"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Data Science"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"GeoJSON"}},{"tagName":"meta","attributes":{"property":"article:publisher","content":"https://www.facebook.com/freecodecamp"}},{"tagName":"meta","attributes":{"name":"twitter:card","content":"summary_large_image"}},{"tagName":"meta","attributes":{"name":"twitter:title","content":"How to Visualize Air Pollution using Folium Maps - An In Depth Tutorial"}},{"tagName":"meta","attributes":{"name":"twitter:description","content":"In my previous story on forecasting air pollution [/news/forecasting-air-pollution-recurrent-neural-networks/], I looked into using recurrent neural networks (RNN and LSTM) to forecast air pollution in Belgium. As a small side project, I thought it would be interesting to plot the air pollution over time on a map. The Folium package [http://python-visualization.github.io/folium/]"}},{"tagName":"meta","attributes":{"name":"twitter:url","content":"https://www.freecodecamp.org/news/visualizing-air-pollution-folium-maps/"}},{"tagName":"meta","attributes":{"name":"twitter:image","content":"https://www.freecodecamp.org/news/content/images/2020/01/0_PlMoYJ9MPTjB_2Ju.jpeg"}},{"tagName":"meta","attributes":{"name":"twitter:label1","content":"Written by"}},{"tagName":"meta","attributes":{"name":"twitter:data1","content":"Bert Carremans"}},{"tagName":"meta","attributes":{"name":"twitter:label2","content":"Filed under"}},{"tagName":"meta","attributes":{"name":"twitter:data2","content":"Data Visualization, Folium, Time Series, Data Science, GeoJSON"}},{"tagName":"meta","attributes":{"name":"twitter:site","content":"@freecodecamp"}},{"tagName":"meta","attributes":{"property":"og:image:width","content":"2000"}},{"tagName":"meta","attributes":{"property":"og:image:height","content":"1329"}},{"tagName":"script","attributes":{"type":"application/ld+json"},"scriptContent":"{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2020/01/0_PlMoYJ9MPTjB_2Ju.jpeg\",\n\t\t\"width\": 2000,\n\t\t\"height\": 1329\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/visualizing-air-pollution-folium-maps/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2020-01-03T21:59:44.000Z\",\n\t\"dateModified\": \"2020-01-18T20:57:19.000Z\",\n\t\"keywords\": \"Data Visualization, Folium, Time Series, Data Science, GeoJSON\",\n\t\"description\": \"In my previous story on forecasting air pollution\\n[/news/forecasting-air-pollution-recurrent-neural-networks/], I looked into\\nusing recurrent neural networks (RNN and LSTM) to forecast air pollution in\\nBelgium. As a small side project, I thought it would be interesting to plot the\\nair pollution over time on a map. The Folium package\\n[http://python-visualization.github.io/folium/] is a great tool for doing that.\\n\\nWe will plot the quantities of 6 air pollutants in Belgium:\\n\\n * Ozone (O3)\\n * Nitrog\",\n\t\"headline\": \"How to Visualize Air Pollution using Folium Maps - An In Depth Tutorial\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}"},{"tagName":"meta","attributes":{"name":"generator","content":"Eleventy"}},{"tagName":"link","attributes":{"rel":"alternate","type":"application/rss+xml","title":"freeCodeCamp.org","href":"https://www.freecodecamp.org/news/rss/"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com"}},{"tagName":"script","attributes":{},"scriptContent":"\nwindow.dataLayer = window.dataLayer || [];\n"},{"tagName":"script","attributes":{},"scriptContent":"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');"},{"tagName":"meta","attributes":{"name":"google-site-verification","content":"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E"}},{"tagName":"meta","attributes":{"name":"x-fcc-source","data-test-label":"x-fcc-source","content":"Ghost"}}],"html":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        \n        \n            <title>How to Visualize Air Pollution using Folium Maps - An In Depth Tutorial</title>\n        \n        <meta name=\"HandheldFriendly\" content=\"True\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin=\"\">\n        \n            <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap\">\n        \n\n        \n        \n    <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n</noscript>\n<link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n</noscript>\n\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js\"></script>\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js\"></script>\n\n\n\n        \n        <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"/news/assets/css/global-26e2f3cde9.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/screen-926fddfac2.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/search-bar-124f5f949c.css\">\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js\"></script>\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js\"></script>\n\n        \n        \n            <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js\"></script>\n        \n\n        \n        <script>let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));</script>\n\n        \n        \n    \n        \n            <script data-ad-client=\"ca-pub-9482786369113753\" src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\" crossorigin=\"anonymous\" async=\"\"></script>\n        \n    \n\n\n        \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n\n\n        \n        \n        \n\n        \n        \n\n        <link rel=\"icon\" href=\"https://cdn.freecodecamp.org/universal/favicons/favicon.ico\" type=\"image/png\">\n        \n        \n            <link rel=\"canonical\" href=\"https://www.freecodecamp.org/news/visualizing-air-pollution-folium-maps/\">\n        \n        <meta name=\"referrer\" content=\"no-referrer-when-downgrade\">\n\n        \n\n        \n    <meta name=\"description\" content=\"In my previous story on forecasting air pollution [/news/forecasting-air-pollution-recurrent-neural-networks/], I looked into using recurrent neural networks (RNN and LSTM) to forecast air pollution in Belgium. As a small side project, I thought it would be interesting to plot the air pollution over time on a map. The Folium package [http://python-visualization.github.io/folium/]\">\n\n    \n    <meta property=\"og:site_name\" content=\"freeCodeCamp.org\">\n    <meta property=\"og:type\" content=\"article\">\n    <meta property=\"og:title\" content=\"How to Visualize Air Pollution using Folium Maps - An In Depth Tutorial\">\n    \n        <meta property=\"og:description\" content=\"In my previous story on forecasting air pollution [/news/forecasting-air-pollution-recurrent-neural-networks/], I looked into using recurrent neural networks (RNN and LSTM) to forecast air pollution in Belgium. As a small side project, I thought it would be interesting to plot the air pollution over time on a map. The Folium package [http://python-visualization.github.io/folium/]\">\n    \n    <meta property=\"og:url\" content=\"https://www.freecodecamp.org/news/visualizing-air-pollution-folium-maps/\">\n    <meta property=\"og:image\" content=\"https://www.freecodecamp.org/news/content/images/2020/01/0_PlMoYJ9MPTjB_2Ju.jpeg\">\n    <meta property=\"article:published_time\" content=\"2020-01-03T21:59:44.000Z\">\n    <meta property=\"article:modified_time\" content=\"2020-01-18T20:57:19.000Z\">\n    \n        <meta property=\"article:tag\" content=\"Data Visualization\">\n    \n        <meta property=\"article:tag\" content=\"Folium\">\n    \n        <meta property=\"article:tag\" content=\"Time Series\">\n    \n        <meta property=\"article:tag\" content=\"Data Science\">\n    \n        <meta property=\"article:tag\" content=\"GeoJSON\">\n    \n    <meta property=\"article:publisher\" content=\"https://www.facebook.com/freecodecamp\">\n    \n\n    \n    <meta name=\"twitter:card\" content=\"summary_large_image\">\n    <meta name=\"twitter:title\" content=\"How to Visualize Air Pollution using Folium Maps - An In Depth Tutorial\">\n    \n        <meta name=\"twitter:description\" content=\"In my previous story on forecasting air pollution [/news/forecasting-air-pollution-recurrent-neural-networks/], I looked into using recurrent neural networks (RNN and LSTM) to forecast air pollution in Belgium. As a small side project, I thought it would be interesting to plot the air pollution over time on a map. The Folium package [http://python-visualization.github.io/folium/]\">\n    \n    <meta name=\"twitter:url\" content=\"https://www.freecodecamp.org/news/visualizing-air-pollution-folium-maps/\">\n    <meta name=\"twitter:image\" content=\"https://www.freecodecamp.org/news/content/images/2020/01/0_PlMoYJ9MPTjB_2Ju.jpeg\">\n    <meta name=\"twitter:label1\" content=\"Written by\">\n    <meta name=\"twitter:data1\" content=\"Bert Carremans\">\n    <meta name=\"twitter:label2\" content=\"Filed under\">\n    <meta name=\"twitter:data2\" content=\"Data Visualization, Folium, Time Series, Data Science, GeoJSON\">\n    <meta name=\"twitter:site\" content=\"@freecodecamp\">\n    \n\n    <meta property=\"og:image:width\" content=\"2000\">\n    <meta property=\"og:image:height\" content=\"1329\">\n\n\n        \n    <script type=\"application/ld+json\">{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2020/01/0_PlMoYJ9MPTjB_2Ju.jpeg\",\n\t\t\"width\": 2000,\n\t\t\"height\": 1329\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/visualizing-air-pollution-folium-maps/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2020-01-03T21:59:44.000Z\",\n\t\"dateModified\": \"2020-01-18T20:57:19.000Z\",\n\t\"keywords\": \"Data Visualization, Folium, Time Series, Data Science, GeoJSON\",\n\t\"description\": \"In my previous story on forecasting air pollution\\n[/news/forecasting-air-pollution-recurrent-neural-networks/], I looked into\\nusing recurrent neural networks (RNN and LSTM) to forecast air pollution in\\nBelgium. As a small side project, I thought it would be interesting to plot the\\nair pollution over time on a map. The Folium package\\n[http://python-visualization.github.io/folium/] is a great tool for doing that.\\n\\nWe will plot the quantities of 6 air pollutants in Belgium:\\n\\n * Ozone (O3)\\n * Nitrog\",\n\t\"headline\": \"How to Visualize Air Pollution using Folium Maps - An In Depth Tutorial\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}</script>\n\n\n        <meta name=\"generator\" content=\"Eleventy\">\n        <link rel=\"alternate\" type=\"application/rss+xml\" title=\"freeCodeCamp.org\" href=\"https://www.freecodecamp.org/news/rss/\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n\n<!-- dataLayer setup -->\n<script>\nwindow.dataLayer = window.dataLayer || [];\n</script>\n<!-- End dataLayer setup -->\n\n<!-- Google Tag Manager -->\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');</script>\n<!-- End Google Tag Manager -->\n\n\n<meta name=\"google-site-verification\" content=\"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E\">\n\n        \n        \n\n        \n  <meta name=\"x-fcc-source\" data-test-label=\"x-fcc-source\" content=\"Ghost\">\n\n    </head>\n\n    \n        <body class=\"home-template\">\n    \n        <div class=\"site-wrapper\">\n            <nav class=\"site-nav nav-padding\">\n    <div class=\"site-nav-left\">\n        \n<form id=\"search-form\" data-test-label=\"search-bar\">\n    <div role=\"search\" class=\"searchbox__wrapper\">\n        <label class=\"fcc_sr_only\" for=\"search-input\">\n            Search\n        </label>\n        <input type=\"search\" placeholder=\"\n    Search 11,200+ tutorials\n\" id=\"search-input\">\n        <button type=\"submit\" class=\"ais-SearchBox-submit\">\n            <svg class=\"ais-SearchBox-submitIcon\" xmlns=\"https://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 40 40\">\n    <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n</svg>\n\n            <span class=\"fcc_sr_only\">Submit your search query</span>\n        </button>\n        <div id=\"dropdown-container\"></div>\n    </div>\n</form>\n\n    </div>\n    <div class=\"site-nav-middle\">\n        <a class=\"site-nav-logo\" href=\"https://www.freecodecamp.org/news/\" data-test-label=\"site-nav-logo\"><img src=\"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\" alt=\"freeCodeCamp.org\"></a>\n    </div>\n    <div class=\"site-nav-right\">\n        <div class=\"nav-group\">\n            <a class=\"nav-forum\" id=\"nav-forum\" rel=\"noopener noreferrer\" href=\"https://forum.freecodecamp.org/\" target=\"_blank\" data-test-label=\"forum-button\">Forum</a>\n            <a class=\"toggle-button-nav\" id=\"nav-donate\" rel=\"noopener noreferrer\" href=\"https://www.freecodecamp.org/donate/\" target=\"_blank\" data-test-label=\"donate-button\">Donate</a>\n        </div>\n    </div>\n</nav>\n\n\n            \n            <a class=\"banner\" id=\"banner\" data-test-label=\"banner\" rel=\"noopener noreferrer\" target=\"_blank\">\n    <p id=\"banner-text\"></p>\n</a>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const e=document.getElementById(\"banner\"),t=document.getElementById(\"banner-text\");isAuthenticated?(t.innerHTML=\"Support our charity and our mission. <span>Donate to freeCodeCamp.org</span>.\",e.href=\"https://www.freecodecamp.org/donate\",e.setAttribute(\"text-variation\",\"authenticated\")):isDonor?(t.innerHTML=\"Thank you for supporting freeCodeCamp through <span>your donations</span>.\",e.href=\"https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp/\",e.setAttribute(\"text-variation\",\"donor\")):(t.innerHTML=\"Learn to code — <span>free 3,000-hour curriculum</span>\",e.href=\"https://www.freecodecamp.org/\",e.setAttribute(\"text-variation\",\"default\"))}));</script>\n\n\n            <div id=\"error-message\"></div>\n\n            \n    <main id=\"site-main\" class=\"post-template site-main outer\">\n        <div class=\"inner ad-layout\">\n            <article class=\"post-full post\">\n                <header class=\"post-full-header\">\n                    <section class=\"post-full-meta\">\n                        <time class=\"post-full-meta-date\" data-test-label=\"post-full-meta-date\" datetime=\"Fri Jan 03 2020 21:59:44 GMT+0000 (Coordinated Universal Time)\">\n                            January 3, 2020\n                        </time>\n                        \n                            <span class=\"date-divider\">/</span>\n                            <a dir=\"ltr\" href=\"/news/tag/data-visualization/\">\n                                #Data Visualization\n                            </a>\n                        \n                    </section>\n                    <h1 class=\"post-full-title\" data-test-label=\"post-full-title\">How to Visualize Air Pollution using Folium Maps - An In Depth Tutorial</h1>\n                </header>\n                <div class=\"post-full-author-header\" data-test-label=\"author-header-no-bio\">\n                    \n                        \n                            \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content author-card-content-no-bio\">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n        </section>\n    </section>\n\n                        \n                    \n                </div>\n                <figure class=\"post-full-image\">\n                    \n    <picture>\n      <source media=\"(max-width: 700px)\" sizes=\"1px\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w\">\n      <source media=\"(min-width: 701px)\" sizes=\"(max-width: 800px) 400px, (max-width: 1170px) 700px, 1400px\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w300/2020/01/0_PlMoYJ9MPTjB_2Ju.jpeg 300w, https://www.freecodecamp.org/news/content/images/size/w600/2020/01/0_PlMoYJ9MPTjB_2Ju.jpeg 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2020/01/0_PlMoYJ9MPTjB_2Ju.jpeg 1000w, https://www.freecodecamp.org/news/content/images/size/w2000/2020/01/0_PlMoYJ9MPTjB_2Ju.jpeg 2000w\">\n      <img onerror=\"this.style.display='none'\" src=\"https://www.freecodecamp.org/news/content/images/size/w2000/2020/01/0_PlMoYJ9MPTjB_2Ju.jpeg\" alt=\"How to Visualize Air Pollution using Folium Maps - An In Depth Tutorial\" ,=\"\" width=\"2000\" height=\"1329\" data-test-label=\"feature-image\">\n    </picture>\n  \n                </figure>\n                <section class=\"post-full-content\">\n                    <div class=\"post-and-sidebar\">\n                        <section class=\"post-content \" data-test-label=\"post-content\">\n                            \n<p>In my previous story on <a href=\"https://www.freecodecamp.org/news/forecasting-air-pollution-recurrent-neural-networks/\">forecasting air pollution</a>, I looked into using recurrent neural networks (RNN and LSTM) to forecast air pollution in Belgium. As a small side project, I thought it would be interesting to <strong><strong>plot the air pollution over time on a map</strong></strong>. The <a href=\"http://python-visualization.github.io/folium/\" rel=\"noopener nofollow\">Folium package</a> is a great tool for doing that.</p><p>We will plot the quantities of 6 air pollutants in Belgium:</p><ul><li><strong><strong>Ozone (O3)</strong></strong></li><li><strong><strong>Nitrogen Dioxide (NO2)</strong></strong></li><li><strong><strong>Carbon Monoxide (CO)</strong></strong></li><li><strong><strong>Sulphur Dioxide (SO2)</strong></strong></li><li><strong><strong>Particulate Matter (PM10)</strong></strong></li><li><strong><strong>Benzene (C6H6)</strong></strong></li></ul><p>The data is downloaded from the website of the <a href=\"https://www.eea.europa.eu/data-and-maps/data/aqereporting-2/be\" rel=\"noopener nofollow\">European Environment Agency (EEA)</a>. If you want to use data from other European countries, I encourage you to visit their website. It has datasets for many EU countries and is very well documented.</p><p>The datasets we will use are:</p><ul><li>BE_<em><em>&lt;pollutant_ID&gt;</em></em>_2013–2015_aggregated_timeseries.csv</li><li>BE_2013–2015_metadata.csv</li></ul><p>The pollutant IDs are described in the <a href=\"http://dd.eionet.europa.eu/vocabulary/aq/pollutant\" rel=\"noopener nofollow\">EEA’s vocabulary of air pollutants</a>.</p><ul><li>1 = Sulphur Dioxide</li><li>5 = Particulate Matter</li><li>7 = Ozone</li><li>8 = Nitrogen Dioxide</li><li>10 = Carbon Monoxide</li><li>20 = Benzene</li></ul><h1 id=\"project-set-up\">Project set-up</h1><h2 id=\"importing-packages\">Importing packages</h2><pre><code class=\"language-python\">from pathlib import Path\nimport pandas as pd\nimport numpy as np\n\nimport seaborn as sns\nimport folium\nfrom folium.plugins import TimestampedGeoJson\n\nproject_dir = Path('/Users/bertcarremans/Data Science/Projecten/air_pollution_forecasting')</code></pre><h2 id=\"air-pollutants\">Air pollutants</h2><p>We’ll make a dictionary of the air pollutants and their dataset number, scientific notation, name, and bin edges. The bin edges are based on the scale on this <a href=\"https://nl.wikipedia.org/wiki/Luchtvervuiling\" rel=\"noopener nofollow\">Wikipedia page</a>.</p><pre><code class=\"language-python\">pollutants = {\n    1: {\n        'notation' : 'SO2',\n        'name' :'Sulphur dioxide',\n        'bin_edges' : np.array([15,30,45,60,80,100,125,165,250])\n    },\n    5: {\n        'notation' : 'PM10',\n        'name' :'Particulate matter &lt; 10 µm',\n        'bin_edges' : np.array([10,20,30,40,50,70,100,150,200])\n    },\n    7: {'notation' : 'O3',\n        'name' :'Ozone',\n        'bin_edges' : np.array([30,50,70,90,110,145,180,240,360])\n    },\n    8: {'notation' : 'NO2',\n        'name' :'Nitrogen dioxide',\n        'bin_edges' : np.array([25,45,60,80,110,150,200,270,400])\n    },\n    10: {'notation' : 'CO',\n        'name' :'Carbon monoxide',\n         'bin_edges' : np.array([1.4,2.1,2.8,3.6,4.5,5.2,6.6,8.4,13.7])\n    },\n    20: {'notation' : 'C6H6',\n        'name' :'Benzene',\n         'bin_edges' : np.array([0.5,1.0,1.25,1.5,2.75,3.5,5.0,7.5,10.0])\n    }\n}</code></pre><h2 id=\"loading-the-metadata\">Loading the metadata</h2><p>In the metadata, we have the <strong><strong>coordinates</strong></strong> for every SamplingPoint. We’ll need that information to plot the SamplingPoints on the map.</p><pre><code class=\"language-python\">meta = pd.read_csv(project_dir / 'data/raw/BE_2013-2015_metadata.csv', sep='\\t')</code></pre><h2 id=\"color-scale\">Color scale</h2><p>There are 10 bin edges for which we will use a different color. These colors were created with <a href=\"http://colorbrewer2.org/#type=diverging&amp;scheme=RdBu&amp;n=10\" rel=\"noopener nofollow\">ColorBrewer</a>.</p><pre><code class=\"language-python\">color_scale = np.array(['#053061','#2166ac','#4393c3','#92c5de','#d1e5f0','#fddbc7','#f4a582','#d6604d','#b2182b','#67001f'])\nsns.palplot(sns.color_palette(color_scale))</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1_ymG4157cHZa4dIatJQldwg.png\" class=\"kg-image\" alt=\"1_ymG4157cHZa4dIatJQldwg\" width=\"579\" height=\"74\" loading=\"lazy\"></figure><h1 id=\"data-preparation\">Data Preparation</h1><h2 id=\"loading-the-time-series-data\">Loading the time series data</h2><p>We convert the date variables to datetime. That way we can easily use them later to slice the Pandas DataFrame.</p><pre><code class=\"language-python\">def load_data(pollutant_ID):\n    print('&gt; Loading data...')\n    date_vars = ['DatetimeBegin','DatetimeEnd']\n    filename = 'data/raw/BE_' + str(pollutant_ID) + '_2013-2015_aggregated_timeseries.csv'\n    agg_ts = pd.read_csv(project_dir / filename, sep='\\t', parse_dates=date_vars, date_parser=pd.to_datetime)\n    return agg_ts</code></pre><h2 id=\"data-cleaning\">Data cleaning</h2><p>We’ll do some basic cleaning of the data:</p><ul><li>Keep only records with DataAggregationProcss of P1D to have daily data</li><li>Remove records with UnitOfAirPollutionLevel of count</li><li>Remove variables redundant for the visualization</li><li>Remove SamplingPoints which have less than 1000 measurement days</li><li>Insert missing dates and imputing the AirpollutionLevel with the value of the next valid date</li></ul><pre><code class=\"language-python\">def clean_data(df):\n    print('&gt; Cleaning data...')\n    df = df.loc[df.DataAggregationProcess=='P1D', :] \n    df = df.loc[df.UnitOfAirPollutionLevel!='count', :]\n    ser_avail_days = df.groupby('SamplingPoint').nunique()['DatetimeBegin']\n    df = df.loc[df.SamplingPoint.isin(ser_avail_days[ser_avail_days.values &gt;= 1000].index), :]\n    vars_to_drop = ['AirPollutant','AirPollutantCode','Countrycode','Namespace','TimeCoverage','Validity','Verification','AirQualityStation',\n               'AirQualityStationEoICode','DataAggregationProcess','UnitOfAirPollutionLevel', 'DatetimeEnd', 'AirQualityNetwork',\n               'DataCapture', 'DataCoverage']\n    df.drop(columns=vars_to_drop, axis='columns', inplace=True)\n    \n    dates = list(pd.period_range(min(df.DatetimeBegin), max(df.DatetimeBegin), freq='D').values)\n    samplingpoints = list(df.SamplingPoint.unique())\n    new_idx = []\n    for sp in samplingpoints:\n        for d in dates:\n            new_idx.append((sp, np.datetime64(d)))\n\n    df.set_index(keys=['SamplingPoint', 'DatetimeBegin'], inplace=True)\n    df.sort_index(inplace=True)\n    df = df.reindex(new_idx)\n    df['AirPollutionLevel'] = df.groupby(level=0).AirPollutionLevel.bfill().fillna(0)\n    return df</code></pre><h2 id=\"plotting-air-pollution-over-time\">Plotting air pollution over time</h2><p>Loading all of the dates for all sampling points would be too heavy for the map. Therefore, we will <strong><strong>resample</strong></strong> the data by taking the last day of each month.</p><p><strong>Note</strong>: The bin edges that we use in this notebook should normally be applied on (semi-)hourly averages for O3, NO2 and CO. In the datasets we are using in this notebook, we have only daily averages. As this notebook is only to illustrate how to plot time series data on a map, we will continue with the daily averages. On the EEA website, you can, however, download hourly averages as well.</p><pre><code class=\"language-python\">def color_coding(poll, bin_edges):    \n    idx = np.digitize(poll, bin_edges, right=True)\n    return color_scale[idx]\n\ndef prepare_data(df, pollutant_ID):\n    print('&gt; Preparing data...')\n    df = df.reset_index().merge(meta, how='inner', on='SamplingPoint').set_index('DatetimeBegin')\n    df = df.loc[:, ['SamplingPoint','Latitude', 'Longitude', 'AirPollutionLevel']]\n    df = df.groupby('SamplingPoint', group_keys=False).resample(rule='M').last().reset_index()\n    df['color'] = df.AirPollutionLevel.apply(color_coding, bin_edges=pollutants[pollutant_ID]['bin_edges'])\n    return df</code></pre><p>To show the pollution evolving over time, we will use the <strong><strong>TimestampedGeoJson</strong> </strong><a href=\"https://python-visualization.github.io/folium/plugins.html\">Folium plugin</a>. This plugin requires GeoJSON input features. In order to convert the data of the dataframe, I created a small function <strong><strong>create_geojson_features</strong></strong> that does that.</p><pre><code class=\"language-python\">def create_geojson_features(df):\n    print('&gt; Creating GeoJSON features...')\n    features = []\n    for _, row in df.iterrows():\n        feature = {\n            'type': 'Feature',\n            'geometry': {\n                'type':'Point', \n                'coordinates':[row['Longitude'],row['Latitude']]\n            },\n            'properties': {\n                'time': row['DatetimeBegin'].date().__str__(),\n                'style': {'color' : row['color']},\n                'icon': 'circle',\n                'iconstyle':{\n                    'fillColor': row['color'],\n                    'fillOpacity': 0.8,\n                    'stroke': 'true',\n                    'radius': 7\n                }\n            }\n        }\n        features.append(feature)\n    return features</code></pre><p>After that, the input features are created and we can create a map to add them to. The TimestampedGeoJson plugin provides some neat options for the time slider, which are self-explanatory.</p><pre><code class=\"language-python\">def make_map(features):\n    print('&gt; Making map...')\n    coords_belgium=[50.5039, 4.4699]\n    pollution_map = folium.Map(location=coords_belgium, control_scale=True, zoom_start=8)\n\n    TimestampedGeoJson(\n        {'type': 'FeatureCollection',\n        'features': features}\n        , period='P1M'\n        , add_last_point=True\n        , auto_play=False\n        , loop=False\n        , max_speed=1\n        , loop_button=True\n        , date_options='YYYY/MM'\n        , time_slider_drag_update=True\n    ).add_to(pollution_map)\n    print('&gt; Done.')\n    return pollution_map\ndef plot_pollutant(pollutant_ID):\n    print('Mapping {} pollution in Belgium in 2013-2015'.format(pollutants[pollutant_ID]['name']))\n    df = load_data(pollutant_ID)\n    df = clean_data(df)\n    df = prepare_data(df, pollutant_ID)\n    features = create_geojson_features(df)\n    return make_map(features), df</code></pre><p>Below are the maps per air pollutant. You can click on the image to go to a web page with the interactive map. By clicking on the <em><em>play</em></em> button, you can see the evolution of the air pollutant over time.</p><h2 id=\"sulphur-dioxide\">Sulphur dioxide</h2><pre><code class=\"language-python\">pollution_map, df = plot_pollutant(1)\npollution_map.save('../output/pollution_so2.html')\npollution_map</code></pre><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1_BQ7PJfWRkH3Mud3CxMvKfQ.png\" class=\"kg-image\" alt=\"1_BQ7PJfWRkH3Mud3CxMvKfQ\" width=\"1580\" height=\"870\" loading=\"lazy\"><figcaption><a href=\"https://bertcarremans.github.io/air_pollution_viz/pollution_c6h6.html\">https://bertcarremans.github.io/air_pollution_viz/pollution_so2.html</a></figcaption></figure><h2 id=\"particulate-matter\">Particulate matter</h2><pre><code class=\"language-python\">pollution_map, df = plot_pollutant(5)\npollution_map.save('../output/pollution_pm.html')\npollution_map</code></pre><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1_BQ7PJfWRkH3Mud3CxMvKfQ-1.png\" class=\"kg-image\" alt=\"1_BQ7PJfWRkH3Mud3CxMvKfQ-1\" width=\"1580\" height=\"870\" loading=\"lazy\"><figcaption><a href=\"https://bertcarremans.github.io/air_pollution_viz/pollution_c6h6.html\">https://bertcarremans.github.io/air_pollution_viz/pollution_pm.html</a></figcaption></figure><p>The other visualizations can be found at:</p><ul><li><a href=\"https://bertcarremans.github.io/air_pollution_viz/pollution_c6h6.html\" rel=\"noopener\">https://bertcarremans.github.io/air_pollution_viz/pollution_c6h6.html</a></li><li><a href=\"https://bertcarremans.github.io/air_pollution_viz/pollution_co.html\" rel=\"noopener\">https://bertcarremans.github.io/air_pollution_viz/pollution_co.html</a></li><li><a href=\"https://bertcarremans.github.io/air_pollution_viz/pollution_no2.html\" rel=\"noopener\">https://bertcarremans.github.io/air_pollution_viz/pollution_no2.html</a></li><li><a href=\"https://bertcarremans.github.io/air_pollution_viz/pollution_o3.html\" rel=\"noopener\">https://bertcarremans.github.io/air_pollution_viz/pollution_o3.html</a></li></ul><h1 id=\"conclusion\">Conclusion</h1><p>With this story, I want to demonstrate how easy it is to visualize time series data on a map with Folium. The maps for all the pollutants and the Jupyter notebook can be found on <a href=\"https://github.com/bertcarremans/air_pollution_forecasting/blob/master/notebooks/Visualizing%20Air%20Pollution%20in%20Belgium.ipynb\" rel=\"noopener nofollow\">GitHub</a>. Feel free to re-use it to map the air pollution in your home country.</p>\n\n                        </section>\n                        \n                            <div class=\"sidebar\">\n                                \n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                \n                            </div>\n                        \n                    </div>\n                    <hr>\n                    \n                        <div class=\"post-full-author-header\" data-test-label=\"author-header-with-bio\">\n                            \n                                \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" loading=\"lazy\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content \">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n                \n                    <p data-test-label=\"author-bio\">Data Scientist</p>\n                \n            \n        </section>\n    </section>\n\n                            \n                        </div>\n                        <hr>\n                    \n\n                    \n                    \n                        \n    \n\n\n<p data-test-label=\"social-row-cta\" class=\"social-row\">\n    If this article was helpful, <button id=\"tweet-btn\" class=\"cta-button\" data-test-label=\"tweet-button\">share it</button>.\n</p>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const t=document.getElementById(\"tweet-btn\"),e=window.location,n=\"How%20to%20Visualize%20Air%20Pollution%20using%20Folium%20Maps%20-%20An%20In%20Depth%20Tutorial\".replace(/&#39;/g,\"%27\"),o=\"\",i=\"\",r=Boolean(\"\");let l;if(r&&(o||i)){const t={originalPostAuthor:\"\",currentPostAuthor:\"Bert Carremans\"};l=encodeURIComponent(`Thank you ${o||t.originalPostAuthor} for writing this helpful article, and ${i||t.currentPostAuthor} for translating it.`)}else!r&&i&&(l=encodeURIComponent(`Thank you ${i} for writing this helpful article.`));const a=`window.open(\\n    '${l?`https://twitter.com/intent/tweet?text=${l}%0A%0A${n}%0A%0A${e}`:`https://twitter.com/intent/tweet?text=${n}%0A%0A${e}`}',\\n    'share-twitter',\\n    'width=550, height=235'\\n  ); return false;`;t.setAttribute(\"onclick\",a)}));</script>\n\n\n                        \n\n<div class=\"learn-cta-row\" data-test-label=\"learn-cta-row\">\n    <p>\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href=\"https://www.freecodecamp.org/learn/\" class=\"cta-button\" id=\"learn-to-code-cta\" rel=\"noopener noreferrer\" target=\"_blank\">Get started</a>\n    </p>\n</div>\n\n                    \n                </section>\n                \n                    <div class=\"banner-ad bottom\">\n                        \n                            <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                        \n                    </div>\n                \n            </article>\n        </div>\n    </main>\n\n\n            \n\n\n<footer class=\"site-footer\">\n    <div class=\"footer-top\">\n        <div class=\"footer-desc-col\">\n            <p data-test-label=\"tax-exempt-status\">freeCodeCamp is a donor-supported tax-exempt 501(c)(3) charity organization (United States Federal Tax Identification Number: 82-0779546)</p>\n            <p data-test-label=\"mission-statement\">Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public.</p>\n            <p data-test-label=\"donation-initiatives\">Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.</p>\n            <p class=\"footer-donation\" data-test-label=\"donate-text\">\n                You can <a href=\"https://www.freecodecamp.org/donate/\" class=\"inline\" rel=\"noopener noreferrer\" target=\"_blank\">make a tax-deductible donation here</a>.\n            </p>\n        </div>\n        <div class=\"trending-guides\" data-test-label=\"trending-guides\">\n            <h2 id=\"trending-guides\" class=\"col-header\">Trending Guides</h2>\n            <ul class=\"trending-guides-articles\" aria-labelledby=\"trending-guides\">\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-transform-functions-and-properties/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Transform\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-create-a-static-blog-with-lume/\" rel=\"noopener noreferrer\" target=\"_blank\">Build a Static Blog\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-build-an-ai-chatbot-with-redis-python-and-gpt/\" rel=\"noopener noreferrer\" target=\"_blank\">Build an AI Chatbot\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/what-is-programming-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">What is Programming?\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Python Code Examples\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/a-practical-guide-to-start-opensource-contributions/\" rel=\"noopener noreferrer\" target=\"_blank\">Open Source for Devs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/http-full-course/\" rel=\"noopener noreferrer\" target=\"_blank\">HTTP Networking in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-unit-tests-in-react-redux/\" rel=\"noopener noreferrer\" target=\"_blank\">Write React Unit Tests\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/introduction-to-algorithms-with-javascript-examples/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Algorithms in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-clean-code/\" rel=\"noopener noreferrer\" target=\"_blank\">How to Write Clean Code\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-php-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn PHP\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-java-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Java\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-swift-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Swift\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-golang-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Golang\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/get-started-with-nodejs/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Node.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-grid/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Grid\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-solidity-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Solidity\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-express-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Express.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/javascript-es-modules-and-module-bundlers/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn JS Modules\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/apache-kafka-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Apache Kafka\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/rest-api-design-best-practices-build-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">REST API Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/front-end-javascript-development-react-angular-vue-compared/\" rel=\"noopener noreferrer\" target=\"_blank\">Front-End JS Development\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-consume-and-document-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build REST APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-strongly-typed-polymorphic-components-with-react-and-typescript/\" rel=\"noopener noreferrer\" target=\"_blank\">Intermediate TS and React\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/command-line-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Command Line for Beginners\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-operating-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Intro to Operating Systems\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/building-consuming-and-documenting-a-graphql-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build GraphQL APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/oss-security-best-practices/\" rel=\"noopener noreferrer\" target=\"_blank\">OSS Security Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/design-patterns-for-distributed-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Distributed Systems Patterns\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-software-architecture-patterns/\" rel=\"noopener noreferrer\" target=\"_blank\">Software Architecture Patterns\n                    </a>\n                </li>\n            </ul>\n            <div class=\"spacer\" style=\"padding: 15px 0;\"></div>\n            <div>\n                <h2 id=\"mobile-app\" class=\"col-header\">\n                    Mobile App\n                </h2>\n                <div class=\"min-h-[1px] px-[15px] md:w-2/3 md:ml-[16.6%]\">\n                    <ul aria-labelledby=\"mobile-app\" class=\"mobile-app-container\">\n                        <li>\n                            <a href=\"https://apps.apple.com/us/app/freecodecamp/id6446908151?itsct=apps_box_link&itscg=30200\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/apple-store-badge.svg\" lang=\"en\" alt=\"Download on the App Store\">\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"https://play.google.com/store/apps/details?id=org.freecodecamp\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/google-play-badge.svg\" lang=\"en\" alt=\"Get it on Google Play\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer-bottom\">\n        <h2 class=\"col-header\" data-test-label=\"our-nonprofit\">Our Charity</h2>\n        <div class=\"our-nonprofit\">\n            <a href=\"https://www.freecodecamp.org/news/about/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"about\">\n                About\n            </a>\n            <a href=\"https://www.linkedin.com/school/free-code-camp/people/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"alumni\">\n                Alumni Network\n            </a>\n            <a href=\"https://github.com/freeCodeCamp/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"open-source\">\n                Open Source\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/shop/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"shop\">\n                Shop\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/support/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"support\">\n                Support\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/sponsors/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"sponsors\">\n                Sponsors\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/academic-honesty-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"honesty\">\n                Academic Honesty\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/code-of-conduct/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"coc\">\n                Code of Conduct\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/privacy-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"privacy\">\n                Privacy Policy\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/terms-of-service/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"tos\">\n                Terms of Service\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/copyright-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"copyright\">\n                Copyright Policy\n            </a>\n        </div>\n    </div>\n</footer>\n\n        </div>\n\n        \n        \n        \n\n        <!-- Google Tag Manager (noscript) -->\n<noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n<!-- End Google Tag Manager (noscript) -->\n\n        \n    <script defer src=\"https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015\" integrity=\"sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==\" data-cf-beacon='{\"rayId\":\"8ab69fe24891468b\",\"version\":\"2024.7.0\",\"serverTiming\":{\"name\":{\"cfL4\":true}},\"token\":\"bdb993c6dde44e178aabd9555e75e4f4\",\"b\":1}' crossorigin=\"anonymous\"></script>\n</body>\n</html>\n"},"/news/forecasting-air-pollution-recurrent-neural-networks/":{"metadata":[{"tagName":"meta","attributes":{"charset":"utf-8"}},{"tagName":"meta","attributes":{"http-equiv":"X-UA-Compatible","content":"IE=edge"}},{"tagName":"title","attributes":{}},{"tagName":"meta","attributes":{"name":"HandheldFriendly","content":"True"}},{"tagName":"meta","attributes":{"name":"viewport","content":"width=device-width, initial-scale=1.0"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.googleapis.com"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com","crossorigin":""}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"/news/assets/css/global-26e2f3cde9.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/screen-926fddfac2.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/search-bar-124f5f949c.css"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js"}},{"tagName":"script","attributes":{},"scriptContent":"let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));"},{"tagName":"script","attributes":{"data-ad-client":"ca-pub-9482786369113753","src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js","crossorigin":"anonymous","async":""}},{"tagName":"link","attributes":{"rel":"icon","href":"https://cdn.freecodecamp.org/universal/favicons/favicon.ico","type":"image/png"}},{"tagName":"link","attributes":{"rel":"canonical","href":"https://www.freecodecamp.org/news/forecasting-air-pollution-recurrent-neural-networks/"}},{"tagName":"meta","attributes":{"name":"referrer","content":"no-referrer-when-downgrade"}},{"tagName":"meta","attributes":{"name":"description","content":"After the citizen science project of Curieuze Neuzen [https://curieuzeneuzen.be/], I wanted to learn more about air pollution to see if I could make a data science project out of it. On the website of the  European Environment Agency [https://www.eea.europa.eu/data-and-maps/data/aqereporting-8] , you can find a huge amount of data and"}},{"tagName":"meta","attributes":{"property":"og:site_name","content":"freeCodeCamp.org"}},{"tagName":"meta","attributes":{"property":"og:type","content":"article"}},{"tagName":"meta","attributes":{"property":"og:title","content":"How to Forecast Air Pollution with Recurrent Neural Networks"}},{"tagName":"meta","attributes":{"property":"og:description","content":"After the citizen science project of Curieuze Neuzen [https://curieuzeneuzen.be/], I wanted to learn more about air pollution to see if I could make a data science project out of it. On the website of the  European Environment Agency [https://www.eea.europa.eu/data-and-maps/data/aqereporting-8] , you can find a huge amount of data and"}},{"tagName":"meta","attributes":{"property":"og:url","content":"https://www.freecodecamp.org/news/forecasting-air-pollution-recurrent-neural-networks/"}},{"tagName":"meta","attributes":{"property":"og:image","content":"https://www.freecodecamp.org/news/content/images/2020/01/0_6XEYi4xnCQQGrEdC.jpeg"}},{"tagName":"meta","attributes":{"property":"article:published_time","content":"2020-01-02T21:52:42.000Z"}},{"tagName":"meta","attributes":{"property":"article:modified_time","content":"2020-01-03T21:59:39.000Z"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Neural Networks"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"RNN"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"LSTM"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Forecasting"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Deep Learning"}},{"tagName":"meta","attributes":{"property":"article:publisher","content":"https://www.facebook.com/freecodecamp"}},{"tagName":"meta","attributes":{"name":"twitter:card","content":"summary_large_image"}},{"tagName":"meta","attributes":{"name":"twitter:title","content":"How to Forecast Air Pollution with Recurrent Neural Networks"}},{"tagName":"meta","attributes":{"name":"twitter:description","content":"After the citizen science project of Curieuze Neuzen [https://curieuzeneuzen.be/], I wanted to learn more about air pollution to see if I could make a data science project out of it. On the website of the  European Environment Agency [https://www.eea.europa.eu/data-and-maps/data/aqereporting-8] , you can find a huge amount of data and"}},{"tagName":"meta","attributes":{"name":"twitter:url","content":"https://www.freecodecamp.org/news/forecasting-air-pollution-recurrent-neural-networks/"}},{"tagName":"meta","attributes":{"name":"twitter:image","content":"https://www.freecodecamp.org/news/content/images/2020/01/0_6XEYi4xnCQQGrEdC.jpeg"}},{"tagName":"meta","attributes":{"name":"twitter:label1","content":"Written by"}},{"tagName":"meta","attributes":{"name":"twitter:data1","content":"Bert Carremans"}},{"tagName":"meta","attributes":{"name":"twitter:label2","content":"Filed under"}},{"tagName":"meta","attributes":{"name":"twitter:data2","content":"Neural Networks, RNN, LSTM, Forecasting, Deep Learning"}},{"tagName":"meta","attributes":{"name":"twitter:site","content":"@freecodecamp"}},{"tagName":"meta","attributes":{"property":"og:image:width","content":"2000"}},{"tagName":"meta","attributes":{"property":"og:image:height","content":"1394"}},{"tagName":"script","attributes":{"type":"application/ld+json"},"scriptContent":"{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2020/01/0_6XEYi4xnCQQGrEdC.jpeg\",\n\t\t\"width\": 2000,\n\t\t\"height\": 1394\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/forecasting-air-pollution-recurrent-neural-networks/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2020-01-02T21:52:42.000Z\",\n\t\"dateModified\": \"2020-01-03T21:59:39.000Z\",\n\t\"keywords\": \"Neural Networks, RNN, LSTM, Forecasting, Deep Learning\",\n\t\"description\": \"After the citizen science project of Curieuze Neuzen\\n[https://curieuzeneuzen.be/], I wanted to learn more about air pollution to see\\nif I could make a data science project out of it. On the website of the \\nEuropean\\nEnvironment Agency [https://www.eea.europa.eu/data-and-maps/data/aqereporting-8]\\n, you can find a huge amount of data and information about air pollution.\\n\\nIn this notebook, we will focus on the air quality in Belgium, and more\\nspecifically on the pollution by sulphur dioxide (SO2). T\",\n\t\"headline\": \"How to Forecast Air Pollution with Recurrent Neural Networks\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}"},{"tagName":"meta","attributes":{"name":"generator","content":"Eleventy"}},{"tagName":"link","attributes":{"rel":"alternate","type":"application/rss+xml","title":"freeCodeCamp.org","href":"https://www.freecodecamp.org/news/rss/"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com"}},{"tagName":"script","attributes":{},"scriptContent":"\nwindow.dataLayer = window.dataLayer || [];\n"},{"tagName":"script","attributes":{},"scriptContent":"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');"},{"tagName":"meta","attributes":{"name":"google-site-verification","content":"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E"}},{"tagName":"meta","attributes":{"name":"x-fcc-source","data-test-label":"x-fcc-source","content":"Ghost"}}],"html":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        \n        \n            <title>How to Forecast Air Pollution with Recurrent Neural Networks</title>\n        \n        <meta name=\"HandheldFriendly\" content=\"True\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin=\"\">\n        \n            <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap\">\n        \n\n        \n        \n    <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n</noscript>\n<link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n</noscript>\n\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js\"></script>\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js\"></script>\n\n\n\n        \n        <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"/news/assets/css/global-26e2f3cde9.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/screen-926fddfac2.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/search-bar-124f5f949c.css\">\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js\"></script>\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js\"></script>\n\n        \n        \n            <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js\"></script>\n        \n\n        \n        <script>let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));</script>\n\n        \n        \n    \n        \n            <script data-ad-client=\"ca-pub-9482786369113753\" src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\" crossorigin=\"anonymous\" async=\"\"></script>\n        \n    \n\n\n        \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n\n\n        \n        \n        \n\n        \n        \n\n        <link rel=\"icon\" href=\"https://cdn.freecodecamp.org/universal/favicons/favicon.ico\" type=\"image/png\">\n        \n        \n            <link rel=\"canonical\" href=\"https://www.freecodecamp.org/news/forecasting-air-pollution-recurrent-neural-networks/\">\n        \n        <meta name=\"referrer\" content=\"no-referrer-when-downgrade\">\n\n        \n\n        \n    <meta name=\"description\" content=\"After the citizen science project of Curieuze Neuzen [https://curieuzeneuzen.be/], I wanted to learn more about air pollution to see if I could make a data science project out of it. On the website of the  European Environment Agency [https://www.eea.europa.eu/data-and-maps/data/aqereporting-8] , you can find a huge amount of data and\">\n\n    \n    <meta property=\"og:site_name\" content=\"freeCodeCamp.org\">\n    <meta property=\"og:type\" content=\"article\">\n    <meta property=\"og:title\" content=\"How to Forecast Air Pollution with Recurrent Neural Networks\">\n    \n        <meta property=\"og:description\" content=\"After the citizen science project of Curieuze Neuzen [https://curieuzeneuzen.be/], I wanted to learn more about air pollution to see if I could make a data science project out of it. On the website of the  European Environment Agency [https://www.eea.europa.eu/data-and-maps/data/aqereporting-8] , you can find a huge amount of data and\">\n    \n    <meta property=\"og:url\" content=\"https://www.freecodecamp.org/news/forecasting-air-pollution-recurrent-neural-networks/\">\n    <meta property=\"og:image\" content=\"https://www.freecodecamp.org/news/content/images/2020/01/0_6XEYi4xnCQQGrEdC.jpeg\">\n    <meta property=\"article:published_time\" content=\"2020-01-02T21:52:42.000Z\">\n    <meta property=\"article:modified_time\" content=\"2020-01-03T21:59:39.000Z\">\n    \n        <meta property=\"article:tag\" content=\"Neural Networks\">\n    \n        <meta property=\"article:tag\" content=\"RNN\">\n    \n        <meta property=\"article:tag\" content=\"LSTM\">\n    \n        <meta property=\"article:tag\" content=\"Forecasting\">\n    \n        <meta property=\"article:tag\" content=\"Deep Learning\">\n    \n    <meta property=\"article:publisher\" content=\"https://www.facebook.com/freecodecamp\">\n    \n\n    \n    <meta name=\"twitter:card\" content=\"summary_large_image\">\n    <meta name=\"twitter:title\" content=\"How to Forecast Air Pollution with Recurrent Neural Networks\">\n    \n        <meta name=\"twitter:description\" content=\"After the citizen science project of Curieuze Neuzen [https://curieuzeneuzen.be/], I wanted to learn more about air pollution to see if I could make a data science project out of it. On the website of the  European Environment Agency [https://www.eea.europa.eu/data-and-maps/data/aqereporting-8] , you can find a huge amount of data and\">\n    \n    <meta name=\"twitter:url\" content=\"https://www.freecodecamp.org/news/forecasting-air-pollution-recurrent-neural-networks/\">\n    <meta name=\"twitter:image\" content=\"https://www.freecodecamp.org/news/content/images/2020/01/0_6XEYi4xnCQQGrEdC.jpeg\">\n    <meta name=\"twitter:label1\" content=\"Written by\">\n    <meta name=\"twitter:data1\" content=\"Bert Carremans\">\n    <meta name=\"twitter:label2\" content=\"Filed under\">\n    <meta name=\"twitter:data2\" content=\"Neural Networks, RNN, LSTM, Forecasting, Deep Learning\">\n    <meta name=\"twitter:site\" content=\"@freecodecamp\">\n    \n\n    <meta property=\"og:image:width\" content=\"2000\">\n    <meta property=\"og:image:height\" content=\"1394\">\n\n\n        \n    <script type=\"application/ld+json\">{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2020/01/0_6XEYi4xnCQQGrEdC.jpeg\",\n\t\t\"width\": 2000,\n\t\t\"height\": 1394\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/forecasting-air-pollution-recurrent-neural-networks/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2020-01-02T21:52:42.000Z\",\n\t\"dateModified\": \"2020-01-03T21:59:39.000Z\",\n\t\"keywords\": \"Neural Networks, RNN, LSTM, Forecasting, Deep Learning\",\n\t\"description\": \"After the citizen science project of Curieuze Neuzen\\n[https://curieuzeneuzen.be/], I wanted to learn more about air pollution to see\\nif I could make a data science project out of it. On the website of the \\nEuropean\\nEnvironment Agency [https://www.eea.europa.eu/data-and-maps/data/aqereporting-8]\\n, you can find a huge amount of data and information about air pollution.\\n\\nIn this notebook, we will focus on the air quality in Belgium, and more\\nspecifically on the pollution by sulphur dioxide (SO2). T\",\n\t\"headline\": \"How to Forecast Air Pollution with Recurrent Neural Networks\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}</script>\n\n\n        <meta name=\"generator\" content=\"Eleventy\">\n        <link rel=\"alternate\" type=\"application/rss+xml\" title=\"freeCodeCamp.org\" href=\"https://www.freecodecamp.org/news/rss/\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n\n<!-- dataLayer setup -->\n<script>\nwindow.dataLayer = window.dataLayer || [];\n</script>\n<!-- End dataLayer setup -->\n\n<!-- Google Tag Manager -->\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');</script>\n<!-- End Google Tag Manager -->\n\n\n<meta name=\"google-site-verification\" content=\"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E\">\n\n        \n        \n\n        \n  <meta name=\"x-fcc-source\" data-test-label=\"x-fcc-source\" content=\"Ghost\">\n\n    </head>\n\n    \n        <body class=\"home-template\">\n    \n        <div class=\"site-wrapper\">\n            <nav class=\"site-nav nav-padding\">\n    <div class=\"site-nav-left\">\n        \n<form id=\"search-form\" data-test-label=\"search-bar\">\n    <div role=\"search\" class=\"searchbox__wrapper\">\n        <label class=\"fcc_sr_only\" for=\"search-input\">\n            Search\n        </label>\n        <input type=\"search\" placeholder=\"\n    Search 11,200+ tutorials\n\" id=\"search-input\">\n        <button type=\"submit\" class=\"ais-SearchBox-submit\">\n            <svg class=\"ais-SearchBox-submitIcon\" xmlns=\"https://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 40 40\">\n    <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n</svg>\n\n            <span class=\"fcc_sr_only\">Submit your search query</span>\n        </button>\n        <div id=\"dropdown-container\"></div>\n    </div>\n</form>\n\n    </div>\n    <div class=\"site-nav-middle\">\n        <a class=\"site-nav-logo\" href=\"https://www.freecodecamp.org/news/\" data-test-label=\"site-nav-logo\"><img src=\"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\" alt=\"freeCodeCamp.org\"></a>\n    </div>\n    <div class=\"site-nav-right\">\n        <div class=\"nav-group\">\n            <a class=\"nav-forum\" id=\"nav-forum\" rel=\"noopener noreferrer\" href=\"https://forum.freecodecamp.org/\" target=\"_blank\" data-test-label=\"forum-button\">Forum</a>\n            <a class=\"toggle-button-nav\" id=\"nav-donate\" rel=\"noopener noreferrer\" href=\"https://www.freecodecamp.org/donate/\" target=\"_blank\" data-test-label=\"donate-button\">Donate</a>\n        </div>\n    </div>\n</nav>\n\n\n            \n            <a class=\"banner\" id=\"banner\" data-test-label=\"banner\" rel=\"noopener noreferrer\" target=\"_blank\">\n    <p id=\"banner-text\"></p>\n</a>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const e=document.getElementById(\"banner\"),t=document.getElementById(\"banner-text\");isAuthenticated?(t.innerHTML=\"Support our charity and our mission. <span>Donate to freeCodeCamp.org</span>.\",e.href=\"https://www.freecodecamp.org/donate\",e.setAttribute(\"text-variation\",\"authenticated\")):isDonor?(t.innerHTML=\"Thank you for supporting freeCodeCamp through <span>your donations</span>.\",e.href=\"https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp/\",e.setAttribute(\"text-variation\",\"donor\")):(t.innerHTML=\"Learn to code — <span>free 3,000-hour curriculum</span>\",e.href=\"https://www.freecodecamp.org/\",e.setAttribute(\"text-variation\",\"default\"))}));</script>\n\n\n            <div id=\"error-message\"></div>\n\n            \n    <main id=\"site-main\" class=\"post-template site-main outer\">\n        <div class=\"inner ad-layout\">\n            <article class=\"post-full post\">\n                <header class=\"post-full-header\">\n                    <section class=\"post-full-meta\">\n                        <time class=\"post-full-meta-date\" data-test-label=\"post-full-meta-date\" datetime=\"Thu Jan 02 2020 21:52:42 GMT+0000 (Coordinated Universal Time)\">\n                            January 2, 2020\n                        </time>\n                        \n                            <span class=\"date-divider\">/</span>\n                            <a dir=\"ltr\" href=\"/news/tag/neural-networks/\">\n                                #Neural Networks\n                            </a>\n                        \n                    </section>\n                    <h1 class=\"post-full-title\" data-test-label=\"post-full-title\">How to Forecast Air Pollution with Recurrent Neural Networks</h1>\n                </header>\n                <div class=\"post-full-author-header\" data-test-label=\"author-header-no-bio\">\n                    \n                        \n                            \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content author-card-content-no-bio\">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n        </section>\n    </section>\n\n                        \n                    \n                </div>\n                <figure class=\"post-full-image\">\n                    \n    <picture>\n      <source media=\"(max-width: 700px)\" sizes=\"1px\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w\">\n      <source media=\"(min-width: 701px)\" sizes=\"(max-width: 800px) 400px, (max-width: 1170px) 700px, 1400px\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w300/2020/01/0_6XEYi4xnCQQGrEdC.jpeg 300w, https://www.freecodecamp.org/news/content/images/size/w600/2020/01/0_6XEYi4xnCQQGrEdC.jpeg 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2020/01/0_6XEYi4xnCQQGrEdC.jpeg 1000w, https://www.freecodecamp.org/news/content/images/size/w2000/2020/01/0_6XEYi4xnCQQGrEdC.jpeg 2000w\">\n      <img onerror=\"this.style.display='none'\" src=\"https://www.freecodecamp.org/news/content/images/size/w2000/2020/01/0_6XEYi4xnCQQGrEdC.jpeg\" alt=\"How to Forecast Air Pollution with Recurrent Neural Networks\" ,=\"\" width=\"2000\" height=\"1394\" data-test-label=\"feature-image\">\n    </picture>\n  \n                </figure>\n                <section class=\"post-full-content\">\n                    <div class=\"post-and-sidebar\">\n                        <section class=\"post-content \" data-test-label=\"post-content\">\n                            \n<p>After the citizen science project of <a href=\"https://curieuzeneuzen.be/\" rel=\"noopener nofollow\">Curieuze Neuzen</a>, I wanted to learn more about air pollution to see if I could make a data science project out of it. On the website of the <a href=\"https://www.eea.europa.eu/data-and-maps/data/aqereporting-8\" rel=\"noopener nofollow\">European Environment Agency</a>, you can find a huge amount of data and information about air pollution.</p><p>In this notebook, we will focus on the air quality in <strong><strong>Belgium</strong>,</strong> and more specifically on the pollution by <strong><strong>sulphur dioxide (SO2)</strong></strong>. The data can be downloaded via <a href=\"https://www.eea.europa.eu/data-and-maps/data/aqereporting-2/be\" rel=\"noopener nofollow\">https://www.eea.europa.eu/data-and-maps/data/aqereporting-2/be</a>. </p><p>The zip file contains separate files for different air pollutants and aggregation levels. The first digit represents the pollutant ID as described in the <a href=\"http://dd.eionet.europa.eu/vocabulary/aq/pollutant\" rel=\"noopener nofollow\">vocabulary</a>. The file used in this notebook is <strong><strong>BE_1_2013–2015_aggregated_timeseries.csv. </strong></strong>This is the SO2 pollution in Belgium, but you can also find similar data for other European countries.</p><p>Descriptions of the fields in the CSV files are available on the <a href=\"https://www.eea.europa.eu/data-and-maps/data/aqereporting-2/be.\" rel=\"noopener nofollow\">data download page</a>. More background information on air pollutants can be found on <a href=\"https://nl.wikipedia.org/wiki/Luchtvervuiling\" rel=\"noopener nofollow\">Wikipedia</a>.</p><h1 id=\"project-set-up\">Project Set-up</h1><pre><code class=\"language-python\"># Importing packages\nfrom pathlib import Path\nimport pandas as pd\nimport numpy as np\nimport pandas_profiling\n%matplotlib inline\nimport matplotlib.pyplot as plt\nimport warnings\nwarnings.simplefilter(action = 'ignore', category = FutureWarning)\nfrom sklearn.preprocessing import MinMaxScaler\n\nfrom keras.preprocessing.sequence import TimeseriesGenerator\nfrom keras.models import Sequential\nfrom keras.layers import Dense, LSTM, SimpleRNN\nfrom keras.optimizers import RMSprop\nfrom keras.callbacks import ModelCheckpoint, EarlyStopping\nfrom keras.models import model_from_json\n\n# Setting the project directory\nproject_dir = Path('/Users/bertcarremans/Data Science/Projecten/air_pollution_forecasting')</code></pre><h1 id=\"loading-the-data\">Loading the data</h1><pre><code class=\"language-python\">date_vars = ['DatetimeBegin','DatetimeEnd']\n\nagg_ts = pd.read_csv(project_dir / 'data/raw/BE_1_2013-2015_aggregated_timeseries.csv', sep='\\t', parse_dates=date_vars, date_parser=pd.to_datetime)\nmeta = pd.read_csv(project_dir / 'data/raw/BE_2013-2015_metadata.csv', sep='\\t')\n\nprint('aggregated timeseries shape:{}'.format(agg_ts.shape))\nprint('metadata shape:{}'.format(meta.shape))</code></pre><h1 id=\"data-exploration\">Data Exploration</h1><p>Let’s use <strong><strong>pandas_profiling</strong></strong> to inspect the data.</p><pre><code class=\"language-python\">pandas_profiling.ProfileReport(agg_ts)</code></pre><p>I won’t show the output of pandas_profiling in this story in order not to clutter it with charts. But you can find it in my <a href=\"https://github.com/bertcarremans/air_pollution_forecasting\" rel=\"noopener nofollow\">GitHub repo</a>.</p><p>The pandas_profiling report shows us the following:</p><ul><li>There are 6 constant variables. We can remove these from the data set.</li><li>No missing values exist, so probably we will not need to apply imputation.</li><li><strong><strong>AirPollutionLevel</strong></strong> has some zeroes, but this could be perfectly normal. On the other hand, these variables have some extreme values, which might be incorrect recordings of air pollution.</li><li>There are 53 <strong><strong>AirQualityStations</strong></strong>, which are probably the same as the <strong><strong>SamplingPoints</strong></strong>. <strong><strong>AirQualityStationEoICode</strong></strong> is simply a shorter code for the AirQualityStation, so that variable can also be removed.</li><li>There are 3 values for <strong><strong>AirQualityNetwork</strong></strong> (Brussels, Flanders and Wallonia). Most measurements come from Flanders.</li><li><strong><strong>DataAggregationProcess</strong></strong>: most rows contain data aggregated as the 24-hour mean of one day of measurements (P1D). More information on the other values can be found <a href=\"http://dd.eionet.europa.eu/vocabulary/aq/aggregationprocess\" rel=\"noopener nofollow\">here</a>. In this project, we will only consider P1D values.</li><li><strong><strong>DataCapture</strong></strong>: Proportion of valid measurement time relative to the total measured time (time coverage) in the averaging period, expressed as a percentage. Almost all rows have about 100% of valid measurement time. Some rows have a DataCapture that is slightly lower than 100%.</li><li><strong><strong>DataCoverage</strong></strong>: Proportion of valid measurement included in the aggregation process within the averaging period, expressed as a percentage. In this data set, we have a minimum of 75%. According to the <a href=\"https://www.eea.europa.eu/data-and-maps/data/aqereporting-2/be\" rel=\"noopener nofollow\">definition of this variable</a> values below 75% should not be included for air quality assessments, which explains why these rows are not present in the data set.</li><li><strong><strong>TimeCoverage</strong></strong>: highly correlated to DataCoverage and will be removed from the data.</li><li><strong><strong>UnitOfAirPollutionLevel</strong></strong>: 423 rows have a unit of <em><em>count</em></em>. To have a consistent target variable we will remove the records with this type of unit.</li><li><strong><strong>DateTimeBegin</strong></strong> and <strong><strong>DateTimeEnd</strong></strong>: the histogram does not provide enough detail here. This needs to be analyzed further.</li></ul><h1 id=\"datetimebegin-and-datetimeend\">DateTimeBegin and DateTimeEnd</h1><p>The histogram in the pandas_profiling combined multiple days per bin. Let’s look at a daily level how these variables behave.</p><h2 id=\"multiple-aggregation-levels-per-date\">Multiple aggregation levels per date</h2><ul><li><strong><strong>DatetimeBegin</strong></strong>: a large number of records on the 1st of January of 2013, 2014, 2015 and 1st of October of 2013 and 2014.</li><li><strong><strong>DatetimeEnd</strong></strong>: a large number of records on the 1st of January of 2014, 2015, 2016 and 1st of April of 2014 and 2015.</li></ul><pre><code class=\"language-python\">plt.figure(figsize=(20,6))\nplt.plot(agg_ts.groupby('DatetimeBegin').count(), 'o', color='skyblue')\nplt.title('Nb of measurements per DatetimeBegin')\nplt.ylabel('number of measurements')\nplt.xlabel('DatetimeBegin')\nplt.show()</code></pre><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1_nP33p0hVPjLpxTFAwDQJyQ.png\" class=\"kg-image\" alt=\"1_nP33p0hVPjLpxTFAwDQJyQ\" width=\"1173\" height=\"387\" loading=\"lazy\"><figcaption>Number of rows per date</figcaption></figure><p>The outliers in the number of records are related to the multiple aggregation levels (DataAggregationProcess). The values in DataAggregationProcess on these dates reflect the time period between DatetimeBegin and DatetimeEnd. For example, the 1st of January 2013 is the start date of a one-year measurement period until the 1st of January 2014.</p><p>As we are only interested in the daily aggregation level, <strong><strong>filtering out the other aggregation levels</strong></strong> will solve this issue. We can also remove DatetimeEnd for that reason.</p><h2 id=\"missing-timesteps-on-daily-aggregation-level\">Missing timesteps on daily aggregation level</h2><p>As we can see below, <strong><strong>not all SamplingPoints have data for all DatetimeBegin in the three-year period</strong></strong>. These are most likely days where the DataCoverage variable was below 75%. So on these days, we do not have sufficient valid measurements. Later in this notebook, we will use measurements on prior days to predict the pollution on the current day.</p><p>To have similarly sized timesteps, we will need to insert rows for the missing DatetimeBegin per SamplingPoint. We will <strong><strong>insert the measurement data of the next day with valid data</strong></strong>.</p><p>Secondly, we will <strong><strong>remove the SamplingPoints with too many missing timesteps</strong></strong>. Here we will take an arbitrary number of 1.000 timesteps as the minimum number of required timesteps.</p><pre><code class=\"language-python\">ser_avail_days = agg_ts.groupby('SamplingPoint').nunique()['DatetimeBegin']\nplt.figure(figsize=(8,4))\nplt.hist(ser_avail_days.sort_values(ascending=False))\nplt.ylabel('Nb SamplingPoints')\nplt.xlabel('Nb of Unique DatetimeBegin')\nplt.title('Distribution of Samplingpoints by the Nb of available measurement days')\nplt.show()</code></pre><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1_tcdKTqJJjjtBZ4QbNN2uzg.png\" class=\"kg-image\" alt=\"1_tcdKTqJJjjtBZ4QbNN2uzg\" width=\"497\" height=\"278\" loading=\"lazy\"><figcaption>Distribution of SamplingPoints by the number of available measurement days</figcaption></figure><h1 id=\"data-preparation\">Data Preparation</h1><h2 id=\"data-cleaning\">Data Cleaning</h2><p>Based on the data exploration, we will do the following to clean the data:</p><ul><li>Keeping only records with DataAggregationProcess of P1D</li><li>Removing records with UnitOfAirPollutionLevel of count</li><li>Removing unary variables and other redundant variables</li><li>Removing SamplingPoints which have less than 1000 measurement days</li></ul><pre><code class=\"language-python\">df = agg_ts.loc[agg_ts.DataAggregationProcess=='P1D', :] \ndf = df.loc[df.UnitOfAirPollutionLevel!='count', :]\ndf = df.loc[df.SamplingPoint.isin(ser_avail_days[ser_avail_days.values &gt;= 1000].index), :]\nvars_to_drop = ['AirPollutant','AirPollutantCode','Countrycode','Namespace','TimeCoverage','Validity','Verification','AirQualityStation',\n               'AirQualityStationEoICode','DataAggregationProcess','UnitOfAirPollutionLevel', 'DatetimeEnd', 'AirQualityNetwork',\n               'DataCapture', 'DataCoverage']\ndf.drop(columns=vars_to_drop, axis='columns', inplace=True)</code></pre><h2 id=\"inserting-rows-for-the-missing-timesteps\">Inserting rows for the missing timesteps</h2><p>For each SamplingPoint, we will first insert (empty) rows for which we do not have a DatetimeBegin. This can be done by creating a complete multi-index with all SamplingPoints and over the range between the minimum and maximum DatetimeBegin. Then, <strong><strong>reindex</strong></strong> will insert the missing rows but with NaN for the columns.</p><p>Secondly, we use <strong><strong>bfill</strong></strong> and specify to impute the missing values with the values of the next row with valid data. The bfill method is applied to a groupby object to limit the backfilling within the rows of each SamplingPoint. That way we do not use the values of another SamplingPoint to fill in the missing values.</p><p>A samplepoint to test whether this operation worked correctly is <em><em>SPO-BETR223_00001_100</em></em> for the date <em><em>2013–01–29</em></em>.</p><pre><code class=\"language-python\">dates = list(pd.period_range(min(df.DatetimeBegin), max(df.DatetimeBegin), freq='D').values)\nsamplingpoints = list(df.SamplingPoint.unique())\n\nnew_idx = []\nfor sp in samplingpoints:\n    for d in dates:\n        new_idx.append((sp, np.datetime64(d)))\n\ndf.set_index(keys=['SamplingPoint', 'DatetimeBegin'], inplace=True)\ndf.sort_index(inplace=True)\ndf = df.reindex(new_idx)\n#print(df.loc['SPO-BETR223_00001_100','2013-01-29'])  # should contain NaN for the columns\n\ndf['AirPollutionLevel'] = df.groupby(level=0).AirPollutionLevel.bfill().fillna(0)\n#print(df.loc['SPO-BETR223_00001_100','2013-01-29'])  # NaN are replaced by values of 2013-01-30\nprint('{} missing values'.format(df.isnull().sum().sum()))</code></pre><h2 id=\"handling-multiple-time-series\">Handling multiple time series</h2><p>Alright, now we have a data set that is cleaned and does not contain any missing values. One aspect that makes this data set particular is that we have data for <strong><strong>multiple samplingpoints</strong></strong>. So we have multiple time series.</p><p>One way to deal with that is to create <strong><strong>dummy variables for the samplingpoints</strong></strong> and use all records to train the model. Another way is to build a <strong><strong>separate model per samplingpoint</strong></strong>. </p><p>In this notebook, we will do the latter. We will, however, limit the notebook to do that for only one samplingpoint. But the same logic can be applied to every samplingpoint.</p><pre><code class=\"language-python\">df = df.loc['SPO-BETR223_00001_100',:]</code></pre><h2 id=\"split-train-test-and-validation-set\">Split train, test and validation set</h2><p>We split off a test set in order to evaluate the performance of the model. The test set will not be used during the training phase.</p><ul><li>train set: data until July 2014</li><li>validation set: 6 months between July 2014 and January 2015</li><li>test set: data of 2015</li></ul><pre><code class=\"language-python\">train = df.query('DatetimeBegin &lt; \"2014-07-01\"')\nvalid = df.query('DatetimeBegin &gt;= \"2014-07-01\" and DatetimeBegin &lt; \"2015-01-01\"')\ntest = df.query('DatetimeBegin &gt;= \"2015-01-01\"')</code></pre><h2 id=\"scaling\">Scaling</h2><pre><code class=\"language-python\"># Save column names and indices to use when storing as csv\ncols = train.columns\ntrain_idx = train.index\nvalid_idx = valid.index\ntest_idx = test.index\n\n# normalize the dataset\nscaler = MinMaxScaler(feature_range=(0, 1))\ntrain = scaler.fit_transform(train)\nvalid = scaler.transform(valid)\ntest = scaler.transform(test)</code></pre><h2 id=\"save-the-processed-datasets\">Save the processed datasets</h2><p>That way we don’t need to redo the preprocessing every time we rerun the notebook.</p><pre><code class=\"language-python\">train = pd.DataFrame(train, columns=cols, index=train_idx)\nvalid = pd.DataFrame(valid, columns=cols, index=valid_idx)\ntest = pd.DataFrame(test, columns=cols, index=test_idx)\n\ntrain.to_csv('../data/processed/train.csv')\nvalid.to_csv('../data/processed/valid.csv')\ntest.to_csv('../data/processed/test.csv')</code></pre><h1 id=\"modeling\">Modeling</h1><p>First, we read in the processed data sets. Secondly, we create a function to plot the training and validation loss for the different models we will build.</p><pre><code class=\"language-python\">train = pd.read_csv('../data/processed/train.csv', header=0, index_col=0).values.astype('float32')\nvalid = pd.read_csv('../data/processed/valid.csv', header=0, index_col=0).values.astype('float32')\ntest = pd.read_csv('../data/processed/test.csv', header=0, index_col=0).values.astype('float32')\n\ndef plot_loss(history, title):\n    plt.figure(figsize=(10,6))\n    plt.plot(history.history['loss'], label='Train')\n    plt.plot(history.history['val_loss'], label='Validation')\n    plt.title(title)\n    plt.xlabel('Nb Epochs')\n    plt.ylabel('Loss')\n    plt.legend()\n    plt.show()\n    \n    val_loss = history.history['val_loss']\n    min_idx = np.argmin(val_loss)\n    min_val_loss = val_loss[min_idx]\n    print('Minimum validation loss of {} reached at epoch {}'.format(min_val_loss, min_idx))</code></pre><h2 id=\"prepare-data-with-the-timeseriesgenerator\">Prepare data with the TimeseriesGenerator</h2><p>The <a href=\"https://keras.io/preprocessing/sequence/#timeseriesgenerator\" rel=\"noopener nofollow\">TimeseriesGenerator of Keras</a> helps us building the data in the correct format for modeling.</p><ul><li><strong><strong>length:</strong></strong> number of timesteps in the generated sequence. Here we want to look back an arbitrary number of <em><em>n_lag</em></em> timesteps. In reality, n_lag could depend on how the predictions will be used. Suppose the Belgian government can take some actions to reduce the SO2 pollution around a samplingpoint (for instance prohibit the entrance of diesel cars in a city for a certain period of time). And suppose the government needs 14 days before the corrective actions can go in effect. Then it would make sense to set n_lag to 14.</li><li><strong><strong>sampling_rate:</strong></strong> number of timesteps between successive timesteps in the generated sequence. We want to keep all timesteps, so we leave this to the default of 1.</li><li><strong><strong>stride:</strong></strong> this parameter influences how much the generated sequences will overlap. As we do not have much data, we leave it to the default of 1. This means that two sequences generated after one another overlap with all timesteps except one.</li><li><strong><strong>batch_size:</strong></strong> number of generated sequences in each batch</li></ul><pre><code class=\"language-python\">n_lag = 14\n\ntrain_data_gen = TimeseriesGenerator(train, train, length=n_lag, sampling_rate=1, stride=1, batch_size = 5)\nvalid_data_gen = TimeseriesGenerator(train, train, length=n_lag, sampling_rate=1, stride=1, batch_size = 1)\ntest_data_gen = TimeseriesGenerator(test, test, length=n_lag, sampling_rate=1, stride=1, batch_size = 1)</code></pre><h2 id=\"recurrent-neural-networks\">Recurrent Neural Networks</h2><p><strong><strong>Traditional neural networks have no memory</strong></strong>. Consequently, they do not take into account previous input when processing the current input. In sequential data sets, like time series, the information of previous time steps is typically relevant for predicting something in the current step. So a <strong><strong>state</strong></strong> about the previous time steps needs to be maintained.</p><p>In our case, the air pollution at time t might be influenced by air pollution in previous timesteps. So we need to take that into account. Recurrent Neural Networks or RNNs have an internal loop by which they maintain a state of previous timesteps. This state is then used for the prediction in the current timestep. The state is reset when a new sequence is being processed. </p><p>For an illustrated guide about RNNs, you should definitely read the <a href=\"https://towardsdatascience.com/illustrated-guide-to-recurrent-neural-networks-79e5eb8049c9\" rel=\"noopener\">article by Michael Nguyen</a>.</p><p>For our case, we use a <a href=\"https://keras.io/layers/recurrent/#simplernn\" rel=\"noopener nofollow\">SimpleRNN</a> of the Keras package. We also specify an <strong><strong>EarlyStopping</strong></strong> callback to stop the training when there were 10 epochs without any improvement in the validation loss. The <strong><strong>ModelCheckpoint</strong></strong> allows us to save the weights of the best model. The model architecture still needs to be saved separately.</p><pre><code class=\"language-python\">simple_rnn = Sequential()\nsimple_rnn.add(SimpleRNN(4, input_shape=(n_lag, 1)))\nsimple_rnn.add(Dense(1))\nsimple_rnn.compile(loss='mae', optimizer=RMSprop())\n\ncheckpointer = ModelCheckpoint(filepath='../model/simple_rnn_weights.hdf5'\n                               , verbose=0\n                               , save_best_only=True)\nearlystopper = EarlyStopping(monitor='val_loss'\n                             , patience=10\n                             , verbose=0)\nwith open(\"../model/simple_rnn.json\", \"w\") as m:\n    m.write(simple_rnn.to_json())\n\nsimple_rnn_history = simple_rnn.fit_generator(train_data_gen\n                                              , epochs=100\n                                              , validation_data=valid_data_gen\n                                              , verbose=0\n                                              , callbacks=[checkpointer, earlystopper])\nplot_loss(simple_rnn_history, 'SimpleRNN - Train &amp; Validation Loss')</code></pre><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1_5iUNaezYr3rlTqqmtVm_IA.png\" class=\"kg-image\" alt=\"1_5iUNaezYr3rlTqqmtVm_IA\" width=\"619\" height=\"387\" loading=\"lazy\"><figcaption>Training and validation loss for a SimpleRNN</figcaption></figure><h2 id=\"long-short-term-memory-networks\">Long Short Term Memory Networks</h2><p><strong><strong>An RNN has a short memory</strong></strong>. It has difficulty remembering information from many timesteps ago. This occurs when the sequences are very long. </p><p>In fact, it is due to the <strong><strong>vanishing gradient problem</strong></strong>. The gradients are values that update the weights of a neural network. When you have many timesteps in your RNN the gradient for the first layers becomes very tiny. As a result, the update of the weights of the first layers is negligible. This means that the RNN is not capable of learning what was in the early layers.</p><p>So we need a way to carry the information of the first layers to later layers. LSTMs are better suited to take into account long-term dependencies. Michael Nguyen wrote an excellent article with a <a href=\"https://towardsdatascience.com/illustrated-guide-to-lstms-and-gru-s-a-step-by-step-explanation-44e9eb85bf21\" rel=\"noopener\">visual description of LSTMs</a>.</p><h2 id=\"simple-lstm-model\">Simple LSTM model</h2><pre><code class=\"language-python\">simple_lstm = Sequential()\nsimple_lstm.add(LSTM(4, input_shape=(n_lag, 1)))\nsimple_lstm.add(Dense(1))\nsimple_lstm.compile(loss='mae', optimizer=RMSprop())\n\ncheckpointer = ModelCheckpoint(filepath='../model/simple_lstm_weights.hdf5'\n                               , verbose=0\n                               , save_best_only=True)\nearlystopper = EarlyStopping(monitor='val_loss'\n                             , patience=10\n                             , verbose=0)\nwith open(\"../model/simple_lstm.json\", \"w\") as m:\n    m.write(simple_lstm.to_json())\n\nsimple_lstm_history = simple_lstm.fit_generator(train_data_gen\n                                                , epochs=100\n                                                , validation_data=valid_data_gen\n                                                , verbose=0\n                                                , callbacks=[checkpointer, earlystopper])\nplot_loss(simple_lstm_history, 'Simple LSTM - Train &amp; Validation Loss')\n</code></pre><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1_5jE6sI6yxkGxQovhcaEC2A.png\" class=\"kg-image\" alt=\"1_5jE6sI6yxkGxQovhcaEC2A\" width=\"625\" height=\"387\" loading=\"lazy\"><figcaption>Training and validation loss for a simple LSTM</figcaption></figure><h2 id=\"stacked-lstm-model\">Stacked LSTM model</h2><p>In this model, we will be stacking multiple LSTM layers. That way the model will learn other abstractions of input data over time. In other words, <strong><strong>representing the input data at different time scales</strong></strong>.</p><p>To do that in Keras, we need to specify the parameter <strong><strong>return_sequences</strong></strong> in the LSTM layer preceding another LSTM layer.</p><pre><code class=\"language-python\">stacked_lstm = Sequential()\nstacked_lstm.add(LSTM(16, input_shape=(n_lag, 1), return_sequences=True))\nstacked_lstm.add(LSTM(8, return_sequences=True))\nstacked_lstm.add(LSTM(4))\nstacked_lstm.add(Dense(1))\nstacked_lstm.compile(loss='mae', optimizer=RMSprop())\n\ncheckpointer = ModelCheckpoint(filepath='../model/stacked_lstm_weights.hdf5'\n                               , verbose=0\n                               , save_best_only=True)\nearlystopper = EarlyStopping(monitor='val_loss'\n                             , patience=10\n                             , verbose=0)\nwith open(\"../model/stacked_lstm.json\", \"w\") as m:\n    m.write(stacked_lstm.to_json())\n\nstacked_lstm_history = stacked_lstm.fit_generator(train_data_gen\n                                                  , epochs=100\n                                                  , validation_data=valid_data_gen\n                                                  , verbose=0\n                                                  , callbacks=[checkpointer, earlystopper])\nplot_loss(stacked_lstm_history, 'Stacked LSTM - Train &amp; Validation Loss')</code></pre><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/01/1_0CBPciBeReSNz2FOfuZJuw.png\" class=\"kg-image\" alt=\"1_0CBPciBeReSNz2FOfuZJuw\" width=\"625\" height=\"387\" loading=\"lazy\"><figcaption>Training and validation loss for a stacked LSTM</figcaption></figure><h1 id=\"evaluating-performance\">Evaluating Performance</h1><p>Based on the minimum validation losses the SimpleRNN seems to outperform the LSTM models, although the metrics are close to each other. </p><p>With the <strong><strong>evaluate_generator</strong></strong> method, we can evaluate the models on the test data (generator). This will give us the loss on the test data. We will first load the model architecture from the JSON files and the best model’s weights.</p><pre><code class=\"language-python\">def eval_best_model(model):\n    # Load model architecture from JSON\n    model_architecture = open('../model/'+model+'.json', 'r')\n    best_model = model_from_json(model_architecture.read())\n    model_architecture.close()\n    # Load best model's weights\n    best_model.load_weights('../model/'+model+'_weights.hdf5')\n    # Compile the best model\n    best_model.compile(loss='mae', optimizer=RMSprop())\n    # Evaluate on test data\n    perf_best_model = best_model.evaluate_generator(test_data_gen)\n    print('Loss on test data for {} : {}'.format(model, perf_best_model))\n\neval_best_model('simple_rnn')\neval_best_model('simple_lstm')\neval_best_model('stacked_lstm')</code></pre><ul><li>Loss on test data for simple_rnn: 0.01638169982337905</li><li>Loss on test data for simple_lstm: 0.015934137431135205</li><li>Loss on test data for stacked_lstm: 0.015420083056716116</li></ul><h1 id=\"conclusion\">Conclusion</h1><p>In this story, we used a Recurrent Neural Network and two different architectures for an LSTM. The <strong><strong>best performance comes from the stacked LSTM</strong></strong> consisting of a few hidden layers.</p><p>There are definitely a number of things worth investigating further that could improve the model's performance.</p><ul><li>Use the hourly data (another CSV file available on the EEA website) and try out <strong><strong>other sampling strategies</strong></strong> than the daily data.</li><li>Use the data about the <strong><strong>other pollutants as features</strong></strong> to predict SO2 pollution. Perhaps other pollutants are correlated to the SO2 pollution.</li><li>Construct other <strong><strong>features based on the date</strong></strong>. A nice write-up can be found in the <a href=\"https://github.com/drivendataorg/power-laws-forecasting/blob/master/3rd%20Place/Model_Documentation_and_Write_up.pdf\" rel=\"noopener nofollow\">PDF of one of the winners</a> of the Power Laws Forecasting competition of <a href=\"https://www.drivendata.org/\" rel=\"noopener nofollow\">Driven Data</a>.</li></ul><p>I’ve learned a lot about recurrent neural networks by doing this project. I hope you’ve enjoyed it. Feel free to leave any comments!</p>\n\n                        </section>\n                        \n                            <div class=\"sidebar\">\n                                \n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                \n                            </div>\n                        \n                    </div>\n                    <hr>\n                    \n                        <div class=\"post-full-author-header\" data-test-label=\"author-header-with-bio\">\n                            \n                                \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" loading=\"lazy\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content \">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n                \n                    <p data-test-label=\"author-bio\">Data Scientist</p>\n                \n            \n        </section>\n    </section>\n\n                            \n                        </div>\n                        <hr>\n                    \n\n                    \n                    \n                        \n    \n\n\n<p data-test-label=\"social-row-cta\" class=\"social-row\">\n    If this article was helpful, <button id=\"tweet-btn\" class=\"cta-button\" data-test-label=\"tweet-button\">share it</button>.\n</p>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const t=document.getElementById(\"tweet-btn\"),e=window.location,n=\"How%20to%20Forecast%20Air%20Pollution%20with%20Recurrent%20Neural%20Networks\".replace(/&#39;/g,\"%27\"),o=\"\",r=\"\",i=Boolean(\"\");let a;if(i&&(o||r)){const t={originalPostAuthor:\"\",currentPostAuthor:\"Bert Carremans\"};a=encodeURIComponent(`Thank you ${o||t.originalPostAuthor} for writing this helpful article, and ${r||t.currentPostAuthor} for translating it.`)}else!i&&r&&(a=encodeURIComponent(`Thank you ${r} for writing this helpful article.`));const l=`window.open(\\n    '${a?`https://twitter.com/intent/tweet?text=${a}%0A%0A${n}%0A%0A${e}`:`https://twitter.com/intent/tweet?text=${n}%0A%0A${e}`}',\\n    'share-twitter',\\n    'width=550, height=235'\\n  ); return false;`;t.setAttribute(\"onclick\",l)}));</script>\n\n\n                        \n\n<div class=\"learn-cta-row\" data-test-label=\"learn-cta-row\">\n    <p>\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href=\"https://www.freecodecamp.org/learn/\" class=\"cta-button\" id=\"learn-to-code-cta\" rel=\"noopener noreferrer\" target=\"_blank\">Get started</a>\n    </p>\n</div>\n\n                    \n                </section>\n                \n                    <div class=\"banner-ad bottom\">\n                        \n                            <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                        \n                    </div>\n                \n            </article>\n        </div>\n    </main>\n\n\n            \n\n\n<footer class=\"site-footer\">\n    <div class=\"footer-top\">\n        <div class=\"footer-desc-col\">\n            <p data-test-label=\"tax-exempt-status\">freeCodeCamp is a donor-supported tax-exempt 501(c)(3) charity organization (United States Federal Tax Identification Number: 82-0779546)</p>\n            <p data-test-label=\"mission-statement\">Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public.</p>\n            <p data-test-label=\"donation-initiatives\">Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.</p>\n            <p class=\"footer-donation\" data-test-label=\"donate-text\">\n                You can <a href=\"https://www.freecodecamp.org/donate/\" class=\"inline\" rel=\"noopener noreferrer\" target=\"_blank\">make a tax-deductible donation here</a>.\n            </p>\n        </div>\n        <div class=\"trending-guides\" data-test-label=\"trending-guides\">\n            <h2 id=\"trending-guides\" class=\"col-header\">Trending Guides</h2>\n            <ul class=\"trending-guides-articles\" aria-labelledby=\"trending-guides\">\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-transform-functions-and-properties/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Transform\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-create-a-static-blog-with-lume/\" rel=\"noopener noreferrer\" target=\"_blank\">Build a Static Blog\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-build-an-ai-chatbot-with-redis-python-and-gpt/\" rel=\"noopener noreferrer\" target=\"_blank\">Build an AI Chatbot\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/what-is-programming-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">What is Programming?\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Python Code Examples\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/a-practical-guide-to-start-opensource-contributions/\" rel=\"noopener noreferrer\" target=\"_blank\">Open Source for Devs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/http-full-course/\" rel=\"noopener noreferrer\" target=\"_blank\">HTTP Networking in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-unit-tests-in-react-redux/\" rel=\"noopener noreferrer\" target=\"_blank\">Write React Unit Tests\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/introduction-to-algorithms-with-javascript-examples/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Algorithms in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-clean-code/\" rel=\"noopener noreferrer\" target=\"_blank\">How to Write Clean Code\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-php-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn PHP\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-java-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Java\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-swift-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Swift\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-golang-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Golang\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/get-started-with-nodejs/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Node.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-grid/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Grid\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-solidity-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Solidity\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-express-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Express.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/javascript-es-modules-and-module-bundlers/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn JS Modules\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/apache-kafka-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Apache Kafka\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/rest-api-design-best-practices-build-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">REST API Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/front-end-javascript-development-react-angular-vue-compared/\" rel=\"noopener noreferrer\" target=\"_blank\">Front-End JS Development\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-consume-and-document-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build REST APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-strongly-typed-polymorphic-components-with-react-and-typescript/\" rel=\"noopener noreferrer\" target=\"_blank\">Intermediate TS and React\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/command-line-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Command Line for Beginners\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-operating-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Intro to Operating Systems\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/building-consuming-and-documenting-a-graphql-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build GraphQL APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/oss-security-best-practices/\" rel=\"noopener noreferrer\" target=\"_blank\">OSS Security Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/design-patterns-for-distributed-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Distributed Systems Patterns\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-software-architecture-patterns/\" rel=\"noopener noreferrer\" target=\"_blank\">Software Architecture Patterns\n                    </a>\n                </li>\n            </ul>\n            <div class=\"spacer\" style=\"padding: 15px 0;\"></div>\n            <div>\n                <h2 id=\"mobile-app\" class=\"col-header\">\n                    Mobile App\n                </h2>\n                <div class=\"min-h-[1px] px-[15px] md:w-2/3 md:ml-[16.6%]\">\n                    <ul aria-labelledby=\"mobile-app\" class=\"mobile-app-container\">\n                        <li>\n                            <a href=\"https://apps.apple.com/us/app/freecodecamp/id6446908151?itsct=apps_box_link&itscg=30200\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/apple-store-badge.svg\" lang=\"en\" alt=\"Download on the App Store\">\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"https://play.google.com/store/apps/details?id=org.freecodecamp\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/google-play-badge.svg\" lang=\"en\" alt=\"Get it on Google Play\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer-bottom\">\n        <h2 class=\"col-header\" data-test-label=\"our-nonprofit\">Our Charity</h2>\n        <div class=\"our-nonprofit\">\n            <a href=\"https://www.freecodecamp.org/news/about/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"about\">\n                About\n            </a>\n            <a href=\"https://www.linkedin.com/school/free-code-camp/people/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"alumni\">\n                Alumni Network\n            </a>\n            <a href=\"https://github.com/freeCodeCamp/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"open-source\">\n                Open Source\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/shop/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"shop\">\n                Shop\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/support/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"support\">\n                Support\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/sponsors/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"sponsors\">\n                Sponsors\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/academic-honesty-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"honesty\">\n                Academic Honesty\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/code-of-conduct/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"coc\">\n                Code of Conduct\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/privacy-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"privacy\">\n                Privacy Policy\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/terms-of-service/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"tos\">\n                Terms of Service\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/copyright-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"copyright\">\n                Copyright Policy\n            </a>\n        </div>\n    </div>\n</footer>\n\n        </div>\n\n        \n        \n        \n\n        <!-- Google Tag Manager (noscript) -->\n<noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n<!-- End Google Tag Manager (noscript) -->\n\n        \n    <script defer src=\"https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015\" integrity=\"sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==\" data-cf-beacon='{\"rayId\":\"8ab69fe24caa8348\",\"version\":\"2024.7.0\",\"serverTiming\":{\"name\":{\"cfL4\":true}},\"token\":\"bdb993c6dde44e178aabd9555e75e4f4\",\"b\":1}' crossorigin=\"anonymous\"></script>\n</body>\n</html>\n"},"/news/classify-butterfly-images-deep-learning-keras/":{"metadata":[{"tagName":"meta","attributes":{"charset":"utf-8"}},{"tagName":"meta","attributes":{"http-equiv":"X-UA-Compatible","content":"IE=edge"}},{"tagName":"title","attributes":{}},{"tagName":"meta","attributes":{"name":"HandheldFriendly","content":"True"}},{"tagName":"meta","attributes":{"name":"viewport","content":"width=device-width, initial-scale=1.0"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.googleapis.com"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com","crossorigin":""}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"/news/assets/css/global-26e2f3cde9.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/screen-926fddfac2.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/search-bar-124f5f949c.css"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js"}},{"tagName":"script","attributes":{},"scriptContent":"let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));"},{"tagName":"script","attributes":{"data-ad-client":"ca-pub-9482786369113753","src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js","crossorigin":"anonymous","async":""}},{"tagName":"link","attributes":{"rel":"icon","href":"https://cdn.freecodecamp.org/universal/favicons/favicon.ico","type":"image/png"}},{"tagName":"link","attributes":{"rel":"canonical","href":"https://www.freecodecamp.org/news/classify-butterfly-images-deep-learning-keras/"}},{"tagName":"meta","attributes":{"name":"referrer","content":"no-referrer-when-downgrade"}},{"tagName":"meta","attributes":{"name":"description","content":"A while ago I read an interesting blog post on the website of the Dutch organization Vlinderstichting [https://www.vlinderstichting.nl/actueel/nieuws/nieuwsbericht/?bericht=1492]. Every year they organize a count of butterflies. Volunteers help in determining the different butterfly species in their garden. The Vlinderstichting gathers and analyses the results. As the determination of the butterfly"}},{"tagName":"meta","attributes":{"property":"og:site_name","content":"freeCodeCamp.org"}},{"tagName":"meta","attributes":{"property":"og:type","content":"article"}},{"tagName":"meta","attributes":{"property":"og:title","content":"How to classify butterflies with deep learning in Keras"}},{"tagName":"meta","attributes":{"property":"og:description","content":"A while ago I read an interesting blog post on the website of the Dutch organization Vlinderstichting [https://www.vlinderstichting.nl/actueel/nieuws/nieuwsbericht/?bericht=1492]. Every year they organize a count of butterflies. Volunteers help in determining the different butterfly species in their garden. The Vlinderstichting gathers and analyses the results. As the determination of the butterfly"}},{"tagName":"meta","attributes":{"property":"og:url","content":"https://www.freecodecamp.org/news/classify-butterfly-images-deep-learning-keras/"}},{"tagName":"meta","attributes":{"property":"og:image","content":"https://www.freecodecamp.org/news/content/images/2019/08/1_K4agkAxY1R6zPzK8s_CqbQ-1.jpeg"}},{"tagName":"meta","attributes":{"property":"article:published_time","content":"2019-08-08T18:59:32.000Z"}},{"tagName":"meta","attributes":{"property":"article:modified_time","content":"2019-08-09T18:10:59.000Z"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Deep Learning"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Image Classification"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Keras"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Python"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Data Science"}},{"tagName":"meta","attributes":{"property":"article:publisher","content":"https://www.facebook.com/freecodecamp"}},{"tagName":"meta","attributes":{"name":"twitter:card","content":"summary_large_image"}},{"tagName":"meta","attributes":{"name":"twitter:title","content":"How to classify butterflies with deep learning in Keras"}},{"tagName":"meta","attributes":{"name":"twitter:description","content":"A while ago I read an interesting blog post on the website of the Dutch organization Vlinderstichting [https://www.vlinderstichting.nl/actueel/nieuws/nieuwsbericht/?bericht=1492]. Every year they organize a count of butterflies. Volunteers help in determining the different butterfly species in their garden. The Vlinderstichting gathers and analyses the results. As the determination of the butterfly"}},{"tagName":"meta","attributes":{"name":"twitter:url","content":"https://www.freecodecamp.org/news/classify-butterfly-images-deep-learning-keras/"}},{"tagName":"meta","attributes":{"name":"twitter:image","content":"https://www.freecodecamp.org/news/content/images/2019/08/1_K4agkAxY1R6zPzK8s_CqbQ-1.jpeg"}},{"tagName":"meta","attributes":{"name":"twitter:label1","content":"Written by"}},{"tagName":"meta","attributes":{"name":"twitter:data1","content":"Bert Carremans"}},{"tagName":"meta","attributes":{"name":"twitter:label2","content":"Filed under"}},{"tagName":"meta","attributes":{"name":"twitter:data2","content":"Deep Learning, Image Classification, Keras, Python, Data Science"}},{"tagName":"meta","attributes":{"name":"twitter:site","content":"@freecodecamp"}},{"tagName":"meta","attributes":{"property":"og:image:width","content":"600"}},{"tagName":"meta","attributes":{"property":"og:image:height","content":"400"}},{"tagName":"script","attributes":{"type":"application/ld+json"},"scriptContent":"{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2019/08/1_K4agkAxY1R6zPzK8s_CqbQ-1.jpeg\",\n\t\t\"width\": 600,\n\t\t\"height\": 400\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/classify-butterfly-images-deep-learning-keras/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2019-08-08T18:59:32.000Z\",\n\t\"dateModified\": \"2019-08-09T18:10:59.000Z\",\n\t\"keywords\": \"Deep Learning, Image Classification, Keras, Python, Data Science\",\n\t\"description\": \"A while ago I read an interesting blog post on the website of the Dutch\\norganization Vlinderstichting\\n[https://www.vlinderstichting.nl/actueel/nieuws/nieuwsbericht/?bericht&#x3D;1492].\\nEvery year they organize a count of butterflies. Volunteers help in determining\\nthe different butterfly species in their garden. The Vlinderstichting gathers\\nand analyses the results.\\n\\nAs the determination of the butterfly species is done by the volunteers,\\ninevitably this process is prone to errors. As a result, the V\",\n\t\"headline\": \"How to classify butterflies with deep learning in Keras\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}"},{"tagName":"meta","attributes":{"name":"generator","content":"Eleventy"}},{"tagName":"link","attributes":{"rel":"alternate","type":"application/rss+xml","title":"freeCodeCamp.org","href":"https://www.freecodecamp.org/news/rss/"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com"}},{"tagName":"script","attributes":{},"scriptContent":"\nwindow.dataLayer = window.dataLayer || [];\n"},{"tagName":"script","attributes":{},"scriptContent":"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');"},{"tagName":"meta","attributes":{"name":"google-site-verification","content":"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E"}},{"tagName":"meta","attributes":{"name":"x-fcc-source","data-test-label":"x-fcc-source","content":"Ghost"}}],"html":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        \n        \n            <title>How to classify butterflies with deep learning in Keras</title>\n        \n        <meta name=\"HandheldFriendly\" content=\"True\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin=\"\">\n        \n            <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap\">\n        \n\n        \n        \n    <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n</noscript>\n<link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n</noscript>\n\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js\"></script>\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js\"></script>\n\n\n\n        \n        <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"/news/assets/css/global-26e2f3cde9.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/screen-926fddfac2.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/search-bar-124f5f949c.css\">\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js\"></script>\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js\"></script>\n\n        \n        \n            <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js\"></script>\n        \n\n        \n        <script>let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));</script>\n\n        \n        \n    \n        \n            <script data-ad-client=\"ca-pub-9482786369113753\" src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\" crossorigin=\"anonymous\" async=\"\"></script>\n        \n    \n\n\n        \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n\n\n        \n        \n        \n\n        \n        \n\n        <link rel=\"icon\" href=\"https://cdn.freecodecamp.org/universal/favicons/favicon.ico\" type=\"image/png\">\n        \n        \n            <link rel=\"canonical\" href=\"https://www.freecodecamp.org/news/classify-butterfly-images-deep-learning-keras/\">\n        \n        <meta name=\"referrer\" content=\"no-referrer-when-downgrade\">\n\n        \n\n        \n    <meta name=\"description\" content=\"A while ago I read an interesting blog post on the website of the Dutch organization Vlinderstichting [https://www.vlinderstichting.nl/actueel/nieuws/nieuwsbericht/?bericht=1492]. Every year they organize a count of butterflies. Volunteers help in determining the different butterfly species in their garden. The Vlinderstichting gathers and analyses the results. As the determination of the butterfly\">\n\n    \n    <meta property=\"og:site_name\" content=\"freeCodeCamp.org\">\n    <meta property=\"og:type\" content=\"article\">\n    <meta property=\"og:title\" content=\"How to classify butterflies with deep learning in Keras\">\n    \n        <meta property=\"og:description\" content=\"A while ago I read an interesting blog post on the website of the Dutch organization Vlinderstichting [https://www.vlinderstichting.nl/actueel/nieuws/nieuwsbericht/?bericht=1492]. Every year they organize a count of butterflies. Volunteers help in determining the different butterfly species in their garden. The Vlinderstichting gathers and analyses the results. As the determination of the butterfly\">\n    \n    <meta property=\"og:url\" content=\"https://www.freecodecamp.org/news/classify-butterfly-images-deep-learning-keras/\">\n    <meta property=\"og:image\" content=\"https://www.freecodecamp.org/news/content/images/2019/08/1_K4agkAxY1R6zPzK8s_CqbQ-1.jpeg\">\n    <meta property=\"article:published_time\" content=\"2019-08-08T18:59:32.000Z\">\n    <meta property=\"article:modified_time\" content=\"2019-08-09T18:10:59.000Z\">\n    \n        <meta property=\"article:tag\" content=\"Deep Learning\">\n    \n        <meta property=\"article:tag\" content=\"Image Classification\">\n    \n        <meta property=\"article:tag\" content=\"Keras\">\n    \n        <meta property=\"article:tag\" content=\"Python\">\n    \n        <meta property=\"article:tag\" content=\"Data Science\">\n    \n    <meta property=\"article:publisher\" content=\"https://www.facebook.com/freecodecamp\">\n    \n\n    \n    <meta name=\"twitter:card\" content=\"summary_large_image\">\n    <meta name=\"twitter:title\" content=\"How to classify butterflies with deep learning in Keras\">\n    \n        <meta name=\"twitter:description\" content=\"A while ago I read an interesting blog post on the website of the Dutch organization Vlinderstichting [https://www.vlinderstichting.nl/actueel/nieuws/nieuwsbericht/?bericht=1492]. Every year they organize a count of butterflies. Volunteers help in determining the different butterfly species in their garden. The Vlinderstichting gathers and analyses the results. As the determination of the butterfly\">\n    \n    <meta name=\"twitter:url\" content=\"https://www.freecodecamp.org/news/classify-butterfly-images-deep-learning-keras/\">\n    <meta name=\"twitter:image\" content=\"https://www.freecodecamp.org/news/content/images/2019/08/1_K4agkAxY1R6zPzK8s_CqbQ-1.jpeg\">\n    <meta name=\"twitter:label1\" content=\"Written by\">\n    <meta name=\"twitter:data1\" content=\"Bert Carremans\">\n    <meta name=\"twitter:label2\" content=\"Filed under\">\n    <meta name=\"twitter:data2\" content=\"Deep Learning, Image Classification, Keras, Python, Data Science\">\n    <meta name=\"twitter:site\" content=\"@freecodecamp\">\n    \n\n    <meta property=\"og:image:width\" content=\"600\">\n    <meta property=\"og:image:height\" content=\"400\">\n\n\n        \n    <script type=\"application/ld+json\">{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2019/08/1_K4agkAxY1R6zPzK8s_CqbQ-1.jpeg\",\n\t\t\"width\": 600,\n\t\t\"height\": 400\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/classify-butterfly-images-deep-learning-keras/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2019-08-08T18:59:32.000Z\",\n\t\"dateModified\": \"2019-08-09T18:10:59.000Z\",\n\t\"keywords\": \"Deep Learning, Image Classification, Keras, Python, Data Science\",\n\t\"description\": \"A while ago I read an interesting blog post on the website of the Dutch\\norganization Vlinderstichting\\n[https://www.vlinderstichting.nl/actueel/nieuws/nieuwsbericht/?bericht&#x3D;1492].\\nEvery year they organize a count of butterflies. Volunteers help in determining\\nthe different butterfly species in their garden. The Vlinderstichting gathers\\nand analyses the results.\\n\\nAs the determination of the butterfly species is done by the volunteers,\\ninevitably this process is prone to errors. As a result, the V\",\n\t\"headline\": \"How to classify butterflies with deep learning in Keras\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}</script>\n\n\n        <meta name=\"generator\" content=\"Eleventy\">\n        <link rel=\"alternate\" type=\"application/rss+xml\" title=\"freeCodeCamp.org\" href=\"https://www.freecodecamp.org/news/rss/\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n\n<!-- dataLayer setup -->\n<script>\nwindow.dataLayer = window.dataLayer || [];\n</script>\n<!-- End dataLayer setup -->\n\n<!-- Google Tag Manager -->\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');</script>\n<!-- End Google Tag Manager -->\n\n\n<meta name=\"google-site-verification\" content=\"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E\">\n\n        \n        \n\n        \n  <meta name=\"x-fcc-source\" data-test-label=\"x-fcc-source\" content=\"Ghost\">\n\n    </head>\n\n    \n        <body class=\"home-template\">\n    \n        <div class=\"site-wrapper\">\n            <nav class=\"site-nav nav-padding\">\n    <div class=\"site-nav-left\">\n        \n<form id=\"search-form\" data-test-label=\"search-bar\">\n    <div role=\"search\" class=\"searchbox__wrapper\">\n        <label class=\"fcc_sr_only\" for=\"search-input\">\n            Search\n        </label>\n        <input type=\"search\" placeholder=\"\n    Search 11,200+ tutorials\n\" id=\"search-input\">\n        <button type=\"submit\" class=\"ais-SearchBox-submit\">\n            <svg class=\"ais-SearchBox-submitIcon\" xmlns=\"https://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 40 40\">\n    <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n</svg>\n\n            <span class=\"fcc_sr_only\">Submit your search query</span>\n        </button>\n        <div id=\"dropdown-container\"></div>\n    </div>\n</form>\n\n    </div>\n    <div class=\"site-nav-middle\">\n        <a class=\"site-nav-logo\" href=\"https://www.freecodecamp.org/news/\" data-test-label=\"site-nav-logo\"><img src=\"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\" alt=\"freeCodeCamp.org\"></a>\n    </div>\n    <div class=\"site-nav-right\">\n        <div class=\"nav-group\">\n            <a class=\"nav-forum\" id=\"nav-forum\" rel=\"noopener noreferrer\" href=\"https://forum.freecodecamp.org/\" target=\"_blank\" data-test-label=\"forum-button\">Forum</a>\n            <a class=\"toggle-button-nav\" id=\"nav-donate\" rel=\"noopener noreferrer\" href=\"https://www.freecodecamp.org/donate/\" target=\"_blank\" data-test-label=\"donate-button\">Donate</a>\n        </div>\n    </div>\n</nav>\n\n\n            \n            <a class=\"banner\" id=\"banner\" data-test-label=\"banner\" rel=\"noopener noreferrer\" target=\"_blank\">\n    <p id=\"banner-text\"></p>\n</a>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const e=document.getElementById(\"banner\"),t=document.getElementById(\"banner-text\");isAuthenticated?(t.innerHTML=\"Support our charity and our mission. <span>Donate to freeCodeCamp.org</span>.\",e.href=\"https://www.freecodecamp.org/donate\",e.setAttribute(\"text-variation\",\"authenticated\")):isDonor?(t.innerHTML=\"Thank you for supporting freeCodeCamp through <span>your donations</span>.\",e.href=\"https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp/\",e.setAttribute(\"text-variation\",\"donor\")):(t.innerHTML=\"Learn to code — <span>free 3,000-hour curriculum</span>\",e.href=\"https://www.freecodecamp.org/\",e.setAttribute(\"text-variation\",\"default\"))}));</script>\n\n\n            <div id=\"error-message\"></div>\n\n            \n    <main id=\"site-main\" class=\"post-template site-main outer\">\n        <div class=\"inner ad-layout\">\n            <article class=\"post-full post\">\n                <header class=\"post-full-header\">\n                    <section class=\"post-full-meta\">\n                        <time class=\"post-full-meta-date\" data-test-label=\"post-full-meta-date\" datetime=\"Thu Aug 08 2019 18:59:32 GMT+0000 (Coordinated Universal Time)\">\n                            August 8, 2019\n                        </time>\n                        \n                            <span class=\"date-divider\">/</span>\n                            <a dir=\"ltr\" href=\"/news/tag/deep-learning/\">\n                                #Deep Learning\n                            </a>\n                        \n                    </section>\n                    <h1 class=\"post-full-title\" data-test-label=\"post-full-title\">How to classify butterflies with deep learning in Keras</h1>\n                </header>\n                <div class=\"post-full-author-header\" data-test-label=\"author-header-no-bio\">\n                    \n                        \n                            \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content author-card-content-no-bio\">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n        </section>\n    </section>\n\n                        \n                    \n                </div>\n                <figure class=\"post-full-image\">\n                    \n    <picture>\n      <source media=\"(max-width: 700px)\" sizes=\"1px\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w\">\n      <source media=\"(min-width: 701px)\" sizes=\"(max-width: 800px) 400px, (max-width: 1170px) 700px, 1400px\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w300/2019/08/1_K4agkAxY1R6zPzK8s_CqbQ-1.jpeg 300w, https://www.freecodecamp.org/news/content/images/size/w600/2019/08/1_K4agkAxY1R6zPzK8s_CqbQ-1.jpeg 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2019/08/1_K4agkAxY1R6zPzK8s_CqbQ-1.jpeg 1000w, https://www.freecodecamp.org/news/content/images/size/w2000/2019/08/1_K4agkAxY1R6zPzK8s_CqbQ-1.jpeg 2000w\">\n      <img onerror=\"this.style.display='none'\" src=\"https://www.freecodecamp.org/news/content/images/size/w2000/2019/08/1_K4agkAxY1R6zPzK8s_CqbQ-1.jpeg\" alt=\"How to classify butterflies with deep learning in Keras\" ,=\"\" width=\"600\" height=\"400\" data-test-label=\"feature-image\">\n    </picture>\n  \n                </figure>\n                <section class=\"post-full-content\">\n                    <div class=\"post-and-sidebar\">\n                        <section class=\"post-content \" data-test-label=\"post-content\">\n                            \n<p>A while ago I read an interesting blog post on the website of the Dutch organization <a href=\"https://www.vlinderstichting.nl/actueel/nieuws/nieuwsbericht/?bericht=1492\">Vlinderstichting</a>. Every year they organize a count of butterflies. Volunteers help in determining the different butterfly species in their garden. The Vlinderstichting gathers and analyses the results.</p><p>As the determination of the butterfly species is done by the volunteers, inevitably this process is prone to errors. As a result, the Vlinderstichting has<strong><strong><em><em> </em></em></strong></strong>to manually check &nbsp;the submissions, which is time-consuming.</p><p>Specifically, there are three butterflies for which the Vlinderstichting receives many wrong determinations. These are</p><ul><li><a href=\"https://en.wikipedia.org/wiki/Meadow_brown\">Meadow brown</a> or Maniola jurtina</li><li><a href=\"https://en.wikipedia.org/wiki/Gatekeeper_(butterfly)\">Gatekeeper</a> or Pyronia tithonus</li><li><a href=\"https://en.wikipedia.org/wiki/Small_heath_(butterfly)\">Small heath</a> or Coenonympha pamphilus</li></ul><p>In this article, I will describe the steps to fit a deep learning model that helps to make the distinction between the first two butterflies.</p><h1 id=\"downloading-images-with-the-flickr-api\">Downloading images with the Flickr API</h1><p>To train a convolutional neural network I need to find images of butterflies with the correct label. Surely I could take pictures myself of the butterflies that I want to classify. They sometimes fly around in my garden…</p><p>Just kidding, that would take ages. For this, I need an automated way to get the images. To do that I use the Flickr API via Python.</p><h2 id=\"setting-up-the-flickr-api\">Setting up the Flickr API</h2><p>Firstly, I install the <a href=\"https://pypi.python.org/pypi/flickrapi/2.3\">flickrapi package</a> with pip. Then I create the necessary <a href=\"https://www.flickr.com/services/api/misc.api_keys.html\">API keys on the Flickr website</a> to connect to the Flickr API.</p><p>Besides the flickrapi package, I import the os and urllib packages for downloading the images and setting up the directories.</p><pre><code class=\"language-python\">from flickrapi import FlickrAPI\nimport urllib\nimport os\nimport config</code></pre><p>In the config module, I define the public and secret keys for the Flickr API. So this is simply a Python script (config.py) with the code below:</p><pre><code class=\"language-python\">API_KEY = 'XXXXXXXXXXXXXXXXX'  // replace with your key\nAPI_SECRET = 'XXXXXXXXXXXXXXXXX'  // replace with your secret\nIMG_FOLDER = 'XXXXXXXXXXXXXXXXX'  // replace with your folder to store the images</code></pre><p>I keep these keys in a separate file for security reasons. As a result, you can save the code in a public repository like GitHub or BitBucket and putting the config.py in .gitignore. Consequently, you can share your code with others while not having to worry about someone having access to your credentials.</p><p>To extract images of different butterfly species, I wrote a function download_flickr_photos. I will explain this function step by step. In addition, I’ve made the full code available on <a href=\"https://github.com/bertcarremans/Vlindervinder/tree/master/flickr\">GitHub</a>.</p><h2 id=\"input-parameters\">Input parameters</h2><p>First of all, I check if the input parameters are of the correct type or values. If not, I raise an error. The explanation of the parameters can be found in the docstring of the function.</p><pre><code class=\"language-python\">if not (isinstance(keywords, str) or isinstance(keywords, list)):\n    raise AttributeError('keywords must be a string or a list of strings')\nif not (size in ['thumbnail', 'square', 'medium', 'original']):\n    raise AttributeError('size must be \"thumbnail\", \"square\", \"medium\" or \"original\"')\nif not (max_nb_img == -1 or (max_nb_img &gt; 0 and isinstance(max_nb_img, int))):\n    raise AttributeError('max_nb_img must be an integer greater than zero or equal to -1')</code></pre><p>Secondly, I define some of the parameters that will be used in the walk method later on. I create a list for the keywords and determine from which URL the images need to be downloaded.</p><pre><code class=\"language-python\">if isinstance(keywords, str):\n    keywords_list = []\n    keywords_list.append(keywords)\nelse:\n    keywords_list = keywords\nif size == 'thumbnail':\n    size_url = 'url_t'\nelif size == 'square':\n    size_url = 'url_q'\nelif size == 'medium':\n    size_url = 'url_c'\nelif size == 'original':\n    size_url = 'url_o'</code></pre><h2 id=\"connecting-to-the-flickr-api\">Connecting to the Flickr API</h2><p>Next, I connect to the Flickr API. In the FlickrAPI call I use the API keys defined in the config module.</p><pre><code class=\"language-python\">flickr = FlickrAPI(config.API_KEY, config.API_SECRET)</code></pre><h2 id=\"creating-subfolders-per-butterfly-species\">Creating subfolders per butterfly species</h2><p>I save the images of each butterfly species in a separate subfolder. The name of each subfolder is the butterfly species’ name, given by the keyword. If the subfolder does not exist yet, I create it.</p><pre><code class=\"language-python\">results_folder = config.IMG_FOLDER + keyword.replace(\" \", \"_\") + \"/\"\nif not os.path.exists(results_folder):\n    os.makedirs(results_folder)</code></pre><h2 id=\"walking-around-in-the-flickr-library\">Walking around in the Flickr library</h2><pre><code class=\"language-python\">photos = flickr.walk(\n    text=keyword,\n    extras='url_m',\n    license='1,2,4,5',\n    per_page=50)</code></pre><p>I use the walk method of the Flickr API to search for images for the specified keyword. This walk method has the same parameters as the <a href=\"http://www.flickr.com/services/api/flickr.photos.search.html\">search method</a> in the Flickr API.</p><p>In the text parameter<strong><strong><em><em>,</em></em></strong></strong><em><em> </em></em>I use the keyword to search for images related to this keyword. Secondly, in the extras parameter<strong><strong><em><em>,</em></em></strong></strong> I specify url_m for a small, medium size of the images. More explanation on the image sizes and their respective URL is given in this <a href=\"http://librdf.org/flickcurl/api/flickcurl-searching-search-extras.html\">Flickcurl C library</a>.</p><p>Thirdly, in the license parameter<strong><strong><em><em>,</em></em></strong></strong> I select images with a non-commercial license. More on the license codes and their meaning can be found on the Flickr <a href=\"https://www.flickr.com/services/api/flickr.photos.licenses.getInfo.html\">API platform</a>. Finally, the per_page parameter specifies how many images I allow per page.</p><p>As a result, I have a generator called photos to download the images.</p><h2 id=\"downloading-flickr-images\">Downloading Flickr images</h2><p>With the photos generator, I can download all the images found for the search query. First I get the specific URL at which I will download the image. Then I increment the count variable and use this counter to create the image filenames.</p><p>With the urlretrieve method, I download the image and save it in the folder for the butterfly species. If an error occurs I print out the error message.</p><pre><code class=\"language-python\">for photo in photos:\n    try:\n        url=photo.get('url_m')\n        print(url)\n        count += 1\n        urllib.request.urlretrieve(url,  results_folder + str(count) +\".jpg\")\n    except Exception as e:\n        print(e, 'Download failure')</code></pre><p>To download multiple butterfly species, I create a list and call the function download_flickr_photos in a for loop. For simplicity, I only download two butterfly species of the three mentioned above.</p><pre><code class=\"language-python\">butterflies = ['meadow brown butterfly', 'gatekeeper butterfly']\nfor butterfly in butterflies:\n    download_flickr_photos(butterfly)</code></pre><h1 id=\"data-augmentation-of-images\">Data augmentation of images</h1><p>Training a convnet on a small number of images will result in overfitting. Consequently, the model will make errors in classifying new, unseen images. Data augmentation can help to avoid this. Luckily Keras has some nice tools to transform images easily.</p><p>I’d like to compare it with how my son classifies cars on the road. At the moment he’s only 2 years old and hasn’t seen as many cars as an adult. So you could say his training set of images is rather small. Therefore he’s more likely to misclassify cars. For instance, he sometimes takes an ambulance mistakenly for a police van.</p><p>As he will grow older, he will see more ambulances and police vans, with the corresponding label that I will give him. So his training set will become larger and thus he will classify them more correctly.</p><p>For that reason, we need to provide the convnet with more butterfly images than we have at the moment. An easy solution for that is <em>data augmentation</em>. In short, this means applying a set of transformations to the Flickr images.</p><p>Keras provides a <a href=\"https://keras.io/preprocessing/image/\">wide range of image transformations</a>. But first, we’ll have to convert the images so that Keras can work with them.</p><h2 id=\"converting-an-image-to-numbers\">Converting an image to numbers</h2><p>We start by importing the Keras module. We will demonstrate the image transformations with one example image. For that purpose, we use the load_img method.</p><pre><code class=\"language-python\">from keras.preprocessing.image import ImageDataGenerator, array_to_img, img_to_array, load_img\ni = load_img('data/train/maniola_jurtina/1.jpg' )\nx = img_to_array(i)\nx = x.reshape((1,) + x.shape)</code></pre><p>The load_img method creates a Python Image Library file. We’ll need to convert this to a Numpy array to use it in the ImageDataGenerator method later on. That’s done with the handy img_to_array method. As a result, we have an array of shape 75x75x3. These dimensions reflect the width, height and RGB values.</p><p>In fact, each pixel of the image has 3 RGB values. These range between 0 and 255 and represent the intensity of Red, Green and Blue. A lower value stands for higher intensity and a higher value for lower intensity. For instance, one pixel can be represented as a list of these three values [ 78, 136, 60]. Black would represented as [0, 0, 0].</p><p>Finally, we need to add an extra dimension to avoid a ValueError when applying the transformations. This is done with the reshape function.</p><p>Alright, now we have something to work with. Let’s continue with the transformations.</p><h2 id=\"rotation\">Rotation</h2><p>By specifying a value between 0 and 180, Keras will randomly choose an angle to rotate the image. It will do this clockwise or counter-clockwise. In our example, the image will be rotated with maximum of 90 degrees.</p><p>ImageDataGenerator also has a parameter fill_mode. The default value is ‘nearest’. By rotating the image within the width and height of the original image we end up with “empty” pixels. The fill_mode then uses the nearest pixels to fill this empty space.</p><pre><code class=\"language-python\">imgGen = ImageDataGenerator(rotation_range = 90)\ni = 1\nfor batch in imgGen.flow(x, batch_size=1, save_to_dir='example_transformations', save_format='jpeg', save_prefix='trsf'):\n    i += 1\n    if i &amp;gt; 3:\n        break</code></pre><p>In the flow method, we specify where to save the transformed images. Make sure this directory exists! We also prefix the newly created images for convenience. The flow method would run infinitely, but for this example, we only generate three images. So when our counter reaches this value, we break the for loop. You can see the result below.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2019/08/image-102.png\" class=\"kg-image\" alt=\"image-102\" width=\"285\" height=\"108\" loading=\"lazy\"></figure><h2 id=\"width-shift\">Width shift</h2><p>In the width_shift_range parameter, you specify the ratio of the original width by which the image can be shifted to the left or right. Again, the fill_mode will fill up the newly created empty pixels. For the remaining examples, I will only show how to instantiate the ImageDataGenerator with the respective parameter. The code to generate the images is the same as in the rotation example.</p><pre><code class=\"language-python\">imgGen = ImageDataGenerator(width_shift_range = 90)</code></pre><p>In the transformed images we see that the image is shifted to the right. The empty pixels are filled which gives it a bit of a stretched look.</p><p>The same can be done for shifting up or down by specifying a value for the height_shift_range parameter.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2019/08/image-103.png\" class=\"kg-image\" alt=\"image-103\" width=\"285\" height=\"108\" loading=\"lazy\"></figure><h2 id=\"rescale\">Rescale</h2><p>Rescaling an image will multiply the RGB values of each pixel by a chosen value before any other preprocessing. In our example, we apply min-max scaling to the values. As a result, these values will range between 0 and 1. This makes the values smaller and easier for the model to process.</p><pre><code class=\"language-python\">imgGen = ImageDataGenerator(rescale = 1./255)</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2019/08/image-104.png\" class=\"kg-image\" alt=\"image-104\" width=\"285\" height=\"108\" loading=\"lazy\"></figure><h2 id=\"shear\">Shear</h2><p>With the shear_range parameter, we can specify how the shearing transformations must be applied. This transformation can produce rather weird images when the value is set too high. So don’t set it too high.</p><pre><code class=\"language-python\">imgGen = ImageDataGenerator(shear_range = 0.2)</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2019/08/image-106.png\" class=\"kg-image\" alt=\"image-106\" width=\"285\" height=\"108\" loading=\"lazy\"></figure><h2 id=\"zoom\">Zoom</h2><p>This transformation will zoom inside the picture. Just like the shearing parameter, this value should not be exaggerated to keep the images realistic.</p><pre><code class=\"language-python\">imgGen = ImageDataGenerator(zoom_range = 0.2)</code></pre><h2 id=\"horizontal-flip\">Horizontal flip</h2><p>This transformation flips an image horizontally. Life can be simple sometimes…</p><pre><code class=\"language-python\">imgGen = ImageDataGenerator(horizontal_flip = True)</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2019/08/image-107.png\" class=\"kg-image\" alt=\"image-107\" width=\"190\" height=\"108\" loading=\"lazy\"></figure><h2 id=\"all-transformations-combined\">All transformations combined</h2><p>Now that we have seen the effect of each transformation separately, we apply all the combinations together.</p><pre><code class=\"language-python\">imgGen = ImageDataGenerator(\n    rotation_range = 40,\n    width_shift_range = 0.2,\n    height_shift_range = 0.2,\n    rescale = 1./255,\n    shear_range = 0.2,\n    zoom_range = 0.2,\n    horizontal_flip = True)\ni = 1\nfor batch in imgGen.flow(x, batch_size=1, save_to_dir='example_transformations', save_format='jpeg', save_prefix='all'):\n    i += 1\n    if i &amp;gt; 3:\n        break</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2019/08/image-108.png\" class=\"kg-image\" alt=\"image-108\" width=\"285\" height=\"108\" loading=\"lazy\"></figure><h2 id=\"setting-up-the-folder-structure\">Setting up the folder structure</h2><p>We need to store these images in a specific folder structure. As such we can use the method flow_from_directory to augment the images and create the corresponding labels. This folder structure needs to look like this:</p><ul><li><strong><strong>train</strong></strong></li><li>maniola_jurtina</li><li>0.jpg</li><li>1.jpg</li><li>…</li><li>pyronia_tithonus</li><li>0.jpg</li><li>1.jpg</li><li>…</li><li><strong><strong>validation</strong></strong></li><li>maniola_jurtina</li><li>0.jpg</li><li>1.jpg</li><li>…</li><li>pyronia_tithonus</li><li>0.jpg</li><li>1.jpg</li><li>…</li></ul><p>To create this folder structure I created a gist <a href=\"https://gist.github.com/bertcarremans/679624f369ed9270472e37f8333244f5\">img_train_test_split.py</a>. Feel free to use it in your projects.</p><h2 id=\"creating-the-generators\">Creating the generators</h2><p>Just as before, we specify the configuration parameters for the training generator. The validation images will not be transformed as the training images. We only divide the RGB values to make them smaller.</p><p>The flow_from_directory method takes the images from the train or validation folder and generates batches of 32 transformed images. By setting the class_mode to ‘binary’ a one-dimensional label is created based on the image’s folder name.</p><pre><code class=\"language-python\">train_datagen = ImageDataGenerator(\n    rotation_range = 40,\n    width_shift_range = 0.2,\n    height_shift_range = 0.2,\n    rescale = 1./255,\n    shear_range = 0.2,\n    zoom_range = 0.2,\n    horizontal_flip = True)\nvalidation_datagen = ImageDataGenerator(rescale=1./255)\ntrain_generator = train_datagen.flow_from_directory(\n    'data/train',\n    batch_size=32,\n    class_mode='binary')\nvalidation_generator = validation_datagen.flow_from_directory(\n    'data/validation',\n    batch_size=32,\n    class_mode='binary')</code></pre><h2 id=\"what-about-different-image-sizes\">What about different image sizes?</h2><p>The Flickr API lets you download images of specific sizes. However, in real-world applications the image sizes are not always constant. If the aspect ratio of the images is the same, we can simply resize the images. Otherwise, we can crop the images. Unfortunately, it is difficult to crop the image while keeping the object we want to classify intact.</p><p>Keras can deal with different image sizes. When configuring the model you can specify None for the width and height in input_shape.</p><pre><code class=\"language-python\">input_shape=(3, None, None)  # Theano\ninput_shape=(None, None, 3)  # Tensorflow</code></pre><p>I wanted to show that it is possible to work with different image sizes, however, it has<strong><strong><em><em> </em></em></strong></strong>some drawbacks.</p><ul><li>not all layers (e.g. Flatten) will work with None as an input dimension</li><li>it can be computationally heavy to run</li></ul><h1 id=\"building-the-deep-learning-model\">Building the deep learning model</h1><p>For the remainder of this article, I will discuss the structure of a convolutional neural network, illustrated with some examples for our butterfly project. At the end of this article, we’ll have our first classification results.</p><h2 id=\"what-layers-does-a-convolutional-neural-network-consist-of\">What layers does a convolutional neural network consist of?</h2><p>Of course, you can choose how many layers and their type to add to your convolutional neural network (also called CNN or convnet). In this project we will start with the following structure:</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2019/08/image-111.png\" class=\"kg-image\" alt=\"image-111\" width=\"525\" height=\"191\" loading=\"lazy\"></figure><p>Let’s understand what each layer does and how we create them with Keras.</p><h2 id=\"input-layer\">Input layer</h2><p>These different versions of the images were modified via several transformations. Then, these images are converted into a numerical representation or a matrix.</p><p>The dimensions of this matrix will be width x height x number of (color) channels<em><em>.</em></em> For RGB images the number of channels will be three. For grayscale images, this is equal to one. Below you can see a numerical representation of a 7×7 RGB image.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2019/08/image-112.png\" class=\"kg-image\" alt=\"image-112\" width=\"525\" height=\"315\" loading=\"lazy\"></figure><p>As our images are of size 75×75, we need to specify that in the input_shape parameter when adding the first convolutional layer.</p><pre><code class=\"language-python\">cnn = Sequential()\ncnn.add(Conv2D(32,(3,3), input_shape = (3 ,75 ,75)))</code></pre><h2 id=\"convolutional-layer\">Convolutional layer</h2><p>In the first layers, the convolutional neural network will look for lower-level features, like horizontal or vertical edges. The further we go in the network it will look for higher-level features, such as a wing of a butterfly, for example. But how does it detect features when it gets only numbers as input? That’s where filters come in.</p><h2 id=\"filters-or-kernels-\">Filters (or kernels)</h2><p>You can think of a filter as a searchlight of a specific size that scans over the image. The filter example below has dimensions of 3x3x3 and contains weights that will detect a vertical edge. For a grayscale image, the dimensions would have been 3x3x1. Usually, a filter has smaller dimensions than the image we want to classify. 3×3, 5×5 or 7×7 are typically used. The third dimension should always be equal to the number of channels.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2019/08/image-113.png\" class=\"kg-image\" alt=\"image-113\" width=\"220\" height=\"191\" loading=\"lazy\"></figure><p>While scanning the image, the RGB values are transformed. It does this transformation by multiplying the RGB values with the filter’s weights. Finally, the multiplied values are then summed over all channels. In our 7x7x3 image example and the 3x3x3 filter, this would result in a 5x5x1 outcome.</p><p>The animation below illustrates this convolutional operation. For simplicity, we only look for a vertical edge in the Red channel. Thus, the weights for the Green and Blue channels are all equal to zero. But you should keep in mind that the multiplication results for these channels are added to the result of the Red channel.</p><p>As shown below the convolutional layer will produce numerical outcomes. When you have higher numbers, this means that the filter came across the feature it was looking for. In our example, a vertical edge.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2019/08/0_ykXVTApvty9Q0lAX-1.gif\" class=\"kg-image\" alt=\"0_ykXVTApvty9Q0lAX-1\" width=\"525\" height=\"177\" loading=\"lazy\"></figure><p>We can specify that we want more than one filter. These filters could have their own feature to look for in an image. Suppose we use 32 filters of size 3x3x3. The result of all filters is stacked and we end up with a 5x5x32 volume in our example. In the code snippet above we added 32 filters of size 3x3x3.</p><h2 id=\"stride\">Stride</h2><p>In the example above we saw that the filter moves up one pixel at a time. This is the so-called stride. We could increase the number of pixels the filter moves up. Increasing the stride will reduce the dimensions of the original image much faster. In the example below, you see how the filter moves around with a stride of 2, which would result in a 3x3x1 outcome for a 3x3x3 filter and a 7x7x3 image.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2019/08/0_Ds4PLixAjvOMPF9j-1.gif\" class=\"kg-image\" alt=\"0_Ds4PLixAjvOMPF9j-1\" width=\"321\" height=\"296\" loading=\"lazy\"></figure><h2 id=\"padding\">Padding</h2><p>By applying a filter, the dimensions of the original image are quickly reduced. Especially the pixels at the edges of the image are only used once in the convolutional operation. This results in a loss of information. If you want to avoid that, you can specify padding. Padding adds “extra pixels” around the image.</p><p>Suppose we add padding of one pixel around the 7x7x3 image. This results in a 9x9x3 image. If we apply a 3x3x3 filter and a stride of 1, we end up with a 7x7x1 outcome. So, in that case, we preserve the dimensions of the original image and the outer pixels are used more than once.</p><p>You can calculate the resulting outcome of the convolutional operation with specific padding and stride as follows:</p><p><strong><strong>1 + [(original dimension + padding x 2 — filter dimension) / stride size]</strong></strong></p><p>For example, suppose we have this set-up of our conv layer:</p><ul><li>7x7x3 image</li><li>3x3x3 filter</li><li>padding of 1 pixel</li><li>stride of 2 pixels</li></ul><p>That will give 1 + [(7 + 1 x 2–3) / 2] = 4</p><h2 id=\"why-do-we-need-convolutional-layers\">Why do we need convolutional layers?</h2><p>A benefit of using conv layers is that the number of parameters to estimate is much lower. Much lower compared to having a normal hidden layer. Suppose we continue with our example image of 7x7x3 and a filter of 3x3x3 with no padding and stride of 1. The convolutional layer would have 5x5x1 + 1 bias = 26 weights to estimate. In a neural network with 7x7x3 inputs and 5x5x1 neurons in the hidden layer, we would need to estimate 3.675 weights. Imagine what this number is when you have larger images…</p><h2 id=\"relu-layer\">ReLu layer</h2><p>Or Rectified Linear unit layer. This layer adds nonlinearity to the network. The convolutional layer is a linear layer as it sums up the multiplications of the filter weights and RGB values.</p><p>The outcome of a ReLu function is equal to zero for all values of x &lt;= 0. Otherwise, it is equal to the value of x. The code in Keras to add a ReLu layer is:</p><pre><code class=\"language-python\">cnn.add(Activation(‘relu’))</code></pre><h2 id=\"pooling\">Pooling</h2><p>Pooling aggregates the input volume in order to reduce the dimensions further. This speeds up computation time as the number of parameters to be estimated are reduced. Besides that, it helps to avoid overfitting by making the network more robust. Below we illustrate max pooling with a size of 2×2 and stride of 2.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2019/08/image-115.png\" class=\"kg-image\" alt=\"image-115\" width=\"524\" height=\"322\" loading=\"lazy\"></figure><p>The code in Keras to add pooling with a size of 2×2 is:</p><pre><code class=\"language-python\">cnn.add(MaxPooling2D(pool_size = (2 ,2)))</code></pre><h2 id=\"fully-connected-layer\">Fully connected layer</h2><p>At the end, the convnet is able to detect higher level features in the input images. This can then serve as an input for a fully connected layer. Before we can do that, we will flatten the output of the last ReLu layer. Flattening means we convert it to a vector. The vector values are then connected to all neurons in the fully connected layer. To do that in Python we use the following Keras functions:</p><pre><code class=\"language-python\">cnn.add(Flatten())        \ncnn.add(Dense(64))</code></pre><h2 id=\"dropout\">Dropout</h2><p>Just like pooling, dropout can help to avoid overfitting. It randomly sets a specified fraction of the inputs to zero, during the training of the model. A dropout rate between 20 and 50% is considered to work well.</p><pre><code class=\"language-python\">cnn.add(Dropout(0.2))</code></pre><h2 id=\"sigmoid-activation\">Sigmoid activation</h2><p>Because we want to produce a probability that the image is one of two butterfly species (i.e. binary classification), we can use a sigmoid activation layer.</p><pre><code class=\"language-python\">cnn.add(Activation('relu'))\ncnn.add(Dense(1))\ncnn.add(Activation( 'sigmoid'))</code></pre><h2 id=\"applying-the-convolutional-neural-network-on-the-butterfly-images\">Applying the convolutional neural network on the butterfly images</h2><p>Now we can define the complete convolutional neural network structure as displayed at the beginning of this post. First, we need to import the necessary Keras modules. Then we can start adding the layers that we explained above.</p><pre><code class=\"language-python\">from keras.models import Sequential\nfrom keras.layers import Conv2D, MaxPooling2D\nfrom keras.layers import Activation, Flatten, Dense, Dropout\nfrom keras.preprocessing.image import ImageDataGenerator\nimport time\nIMG_SIZE = # Replace with the size of your images\nNB_CHANNELS = # 3 for RGB images or 1 for grayscale images\nBATCH_SIZE = # Typical values are 8, 16 or 32\nNB_TRAIN_IMG = # Replace with the total number training images\nNB_VALID_IMG = # Replace with the total number validation images</code></pre><p>I made some additional parameters explicit for the conv layers. Here is a short explanation:</p><ul><li>kernel_size specifies the filter size. So for the first conv layer this is size 2×2</li><li>padding = ‘same’ means applying zero padding as such the original image size is preserved.</li><li>padding = ‘valid’ means we do not apply any padding.</li><li>data_format = ‘channels_last’ is just to specify that the number of color channels is specified last in the input_shape argument.</li></ul><pre><code class=\"language-python\">cnn = Sequential()\ncnn.add(Conv2D(filters=32, \n               kernel_size=(2,2), \n               strides=(1,1),\n               padding='same',\n               input_shape=(IMG_SIZE,IMG_SIZE,NB_CHANNELS),\n               data_format='channels_last'))\ncnn.add(Activation('relu'))\ncnn.add(MaxPooling2D(pool_size=(2,2),\n                     strides=2))\ncnn.add(Conv2D(filters=64,\n               kernel_size=(2,2),\n               strides=(1,1),\n               padding='valid'))\ncnn.add(Activation('relu'))\ncnn.add(MaxPooling2D(pool_size=(2,2),\n                     strides=2))\ncnn.add(Flatten())        \ncnn.add(Dense(64))\ncnn.add(Activation('relu'))\ncnn.add(Dropout(0.25))\ncnn.add(Dense(1))\ncnn.add(Activation('sigmoid'))\ncnn.compile(loss='binary_crossentropy', optimizer='rmsprop', metrics=['accuracy'])</code></pre><p>Finally, we compile this network structure and set the loss parameter to binary_crossentropy which is good for binary targets and use accuracy as the evaluation metric.</p><p>After having specified the network structure, we create the generators for the training and validation samples. On the training samples, we apply data augmentation as explained above. On the validation samples, we do not apply any augmentation as they are just used to evaluate the model performance.</p><pre><code class=\"language-python\">train_datagen = ImageDataGenerator(\n    rotation_range = 40,                  \n    width_shift_range = 0.2,                  \n    height_shift_range = 0.2,                  \n    rescale = 1./255,                  \n    shear_range = 0.2,                  \n    zoom_range = 0.2,                     \n    horizontal_flip = True)\nvalidation_datagen = ImageDataGenerator(rescale = 1./255)\ntrain_generator = train_datagen.flow_from_directory(\n    '../flickr/img/train',\n    target_size=(IMG_SIZE,IMG_SIZE),\n    class_mode='binary',\n    batch_size = BATCH_SIZE)\nvalidation_generator = validation_datagen.flow_from_directory(\n    '../flickr/img/validation',\n    target_size=(IMG_SIZE,IMG_SIZE),\n    class_mode='binary',\n    batch_size = BATCH_SIZE)</code></pre><p>With the flow_from_directory<em><em> </em></em>method on the generators we can easily go through all the images in the specified directories.</p><p>Lastly, we can fit the convolutional neural network on the training data and evaluate with the validation data. The resulting weights of the model can be saved and reused later on.</p><pre><code class=\"language-python\">start = time.time()\ncnn.fit_generator(\n    train_generator,\n    steps_per_epoch=NB_TRAIN_IMG//BATCH_SIZE,\n    epochs=50,\n    validation_data=validation_generator,\n    validation_steps=NB_VALID_IMG//BATCH_SIZE)\nend = time.time()\nprint('Processing time:',(end - start)/60)\ncnn.save_weights('cnn_baseline.h5')</code></pre><p>The number of epochs is arbitrarily set to 50. An epoch is the cycle of forward propagation, checking the error and then adjusting the weights during backpropagation.</p><p>The steps_per_epoch is set to the number of training images divided by the batch size (by the way, the double division symbol will make sure the result is an integer and not a float). Specifying a batch size greater than 1 will speed up the process. Idem for the validation_steps parameter.</p><h2 id=\"results\">Results</h2><p>After running 50 epochs, we have a training accuracy of 0.8091 and validation accuracy of 0.7359. So the convolutional neural network still suffers from quite some overfitting. We also see that the validation accuracy varies quite a lot. This is because we have a small set of validation samples. It would be better to do k-fold cross-validation for each evaluation round. But that would take quite some time.</p><p>To address the overfitting we could:</p><ul><li>increase the dropout rate</li><li>apply dropout at each layer</li><li>find more training data</li></ul><p>We’ll look into the first two options and monitor the result. The results of our first model will serve as a baseline. After applying an extra dropout layer and increasing the dropout rates, the model is a bit less overfitted.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://www.freecodecamp.org/news/content/images/2019/08/image-116.png\" class=\"kg-image\" alt=\"image-116\" width=\"690\" height=\"162\" loading=\"lazy\"></figure><p>I hope you’ve all enjoyed reading this post and learned something new. The full code is available on <a href=\"https://github.com/bertcarremans/Vlindervinder\">Github</a>. Cheers!<br></p>\n\n                        </section>\n                        \n                            <div class=\"sidebar\">\n                                \n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                \n                            </div>\n                        \n                    </div>\n                    <hr>\n                    \n                        <div class=\"post-full-author-header\" data-test-label=\"author-header-with-bio\">\n                            \n                                \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" loading=\"lazy\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content \">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n                \n                    <p data-test-label=\"author-bio\">Data Scientist</p>\n                \n            \n        </section>\n    </section>\n\n                            \n                        </div>\n                        <hr>\n                    \n\n                    \n                    \n                        \n    \n\n\n<p data-test-label=\"social-row-cta\" class=\"social-row\">\n    If this article was helpful, <button id=\"tweet-btn\" class=\"cta-button\" data-test-label=\"tweet-button\">share it</button>.\n</p>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const t=document.getElementById(\"tweet-btn\"),e=window.location,n=\"How%20to%20classify%20butterflies%20with%20deep%20learning%20in%20Keras\".replace(/&#39;/g,\"%27\"),o=\"\",i=\"\",r=Boolean(\"\");let s;if(r&&(o||i)){const t={originalPostAuthor:\"\",currentPostAuthor:\"Bert Carremans\"};s=encodeURIComponent(`Thank you ${o||t.originalPostAuthor} for writing this helpful article, and ${i||t.currentPostAuthor} for translating it.`)}else!r&&i&&(s=encodeURIComponent(`Thank you ${i} for writing this helpful article.`));const a=`window.open(\\n    '${s?`https://twitter.com/intent/tweet?text=${s}%0A%0A${n}%0A%0A${e}`:`https://twitter.com/intent/tweet?text=${n}%0A%0A${e}`}',\\n    'share-twitter',\\n    'width=550, height=235'\\n  ); return false;`;t.setAttribute(\"onclick\",a)}));</script>\n\n\n                        \n\n<div class=\"learn-cta-row\" data-test-label=\"learn-cta-row\">\n    <p>\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href=\"https://www.freecodecamp.org/learn/\" class=\"cta-button\" id=\"learn-to-code-cta\" rel=\"noopener noreferrer\" target=\"_blank\">Get started</a>\n    </p>\n</div>\n\n                    \n                </section>\n                \n                    <div class=\"banner-ad bottom\">\n                        \n                            <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                        \n                    </div>\n                \n            </article>\n        </div>\n    </main>\n\n\n            \n\n\n<footer class=\"site-footer\">\n    <div class=\"footer-top\">\n        <div class=\"footer-desc-col\">\n            <p data-test-label=\"tax-exempt-status\">freeCodeCamp is a donor-supported tax-exempt 501(c)(3) charity organization (United States Federal Tax Identification Number: 82-0779546)</p>\n            <p data-test-label=\"mission-statement\">Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public.</p>\n            <p data-test-label=\"donation-initiatives\">Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.</p>\n            <p class=\"footer-donation\" data-test-label=\"donate-text\">\n                You can <a href=\"https://www.freecodecamp.org/donate/\" class=\"inline\" rel=\"noopener noreferrer\" target=\"_blank\">make a tax-deductible donation here</a>.\n            </p>\n        </div>\n        <div class=\"trending-guides\" data-test-label=\"trending-guides\">\n            <h2 id=\"trending-guides\" class=\"col-header\">Trending Guides</h2>\n            <ul class=\"trending-guides-articles\" aria-labelledby=\"trending-guides\">\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-transform-functions-and-properties/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Transform\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-create-a-static-blog-with-lume/\" rel=\"noopener noreferrer\" target=\"_blank\">Build a Static Blog\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-build-an-ai-chatbot-with-redis-python-and-gpt/\" rel=\"noopener noreferrer\" target=\"_blank\">Build an AI Chatbot\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/what-is-programming-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">What is Programming?\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Python Code Examples\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/a-practical-guide-to-start-opensource-contributions/\" rel=\"noopener noreferrer\" target=\"_blank\">Open Source for Devs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/http-full-course/\" rel=\"noopener noreferrer\" target=\"_blank\">HTTP Networking in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-unit-tests-in-react-redux/\" rel=\"noopener noreferrer\" target=\"_blank\">Write React Unit Tests\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/introduction-to-algorithms-with-javascript-examples/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Algorithms in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-clean-code/\" rel=\"noopener noreferrer\" target=\"_blank\">How to Write Clean Code\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-php-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn PHP\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-java-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Java\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-swift-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Swift\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-golang-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Golang\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/get-started-with-nodejs/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Node.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-grid/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Grid\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-solidity-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Solidity\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-express-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Express.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/javascript-es-modules-and-module-bundlers/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn JS Modules\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/apache-kafka-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Apache Kafka\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/rest-api-design-best-practices-build-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">REST API Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/front-end-javascript-development-react-angular-vue-compared/\" rel=\"noopener noreferrer\" target=\"_blank\">Front-End JS Development\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-consume-and-document-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build REST APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-strongly-typed-polymorphic-components-with-react-and-typescript/\" rel=\"noopener noreferrer\" target=\"_blank\">Intermediate TS and React\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/command-line-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Command Line for Beginners\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-operating-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Intro to Operating Systems\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/building-consuming-and-documenting-a-graphql-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build GraphQL APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/oss-security-best-practices/\" rel=\"noopener noreferrer\" target=\"_blank\">OSS Security Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/design-patterns-for-distributed-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Distributed Systems Patterns\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-software-architecture-patterns/\" rel=\"noopener noreferrer\" target=\"_blank\">Software Architecture Patterns\n                    </a>\n                </li>\n            </ul>\n            <div class=\"spacer\" style=\"padding: 15px 0;\"></div>\n            <div>\n                <h2 id=\"mobile-app\" class=\"col-header\">\n                    Mobile App\n                </h2>\n                <div class=\"min-h-[1px] px-[15px] md:w-2/3 md:ml-[16.6%]\">\n                    <ul aria-labelledby=\"mobile-app\" class=\"mobile-app-container\">\n                        <li>\n                            <a href=\"https://apps.apple.com/us/app/freecodecamp/id6446908151?itsct=apps_box_link&itscg=30200\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/apple-store-badge.svg\" lang=\"en\" alt=\"Download on the App Store\">\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"https://play.google.com/store/apps/details?id=org.freecodecamp\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/google-play-badge.svg\" lang=\"en\" alt=\"Get it on Google Play\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer-bottom\">\n        <h2 class=\"col-header\" data-test-label=\"our-nonprofit\">Our Charity</h2>\n        <div class=\"our-nonprofit\">\n            <a href=\"https://www.freecodecamp.org/news/about/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"about\">\n                About\n            </a>\n            <a href=\"https://www.linkedin.com/school/free-code-camp/people/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"alumni\">\n                Alumni Network\n            </a>\n            <a href=\"https://github.com/freeCodeCamp/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"open-source\">\n                Open Source\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/shop/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"shop\">\n                Shop\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/support/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"support\">\n                Support\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/sponsors/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"sponsors\">\n                Sponsors\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/academic-honesty-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"honesty\">\n                Academic Honesty\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/code-of-conduct/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"coc\">\n                Code of Conduct\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/privacy-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"privacy\">\n                Privacy Policy\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/terms-of-service/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"tos\">\n                Terms of Service\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/copyright-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"copyright\">\n                Copyright Policy\n            </a>\n        </div>\n    </div>\n</footer>\n\n        </div>\n\n        \n        \n        \n\n        <!-- Google Tag Manager (noscript) -->\n<noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n<!-- End Google Tag Manager (noscript) -->\n\n        \n    <script defer src=\"https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015\" integrity=\"sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==\" data-cf-beacon='{\"rayId\":\"8ab69fe24cad8348\",\"version\":\"2024.7.0\",\"serverTiming\":{\"name\":{\"cfL4\":true}},\"token\":\"bdb993c6dde44e178aabd9555e75e4f4\",\"b\":1}' crossorigin=\"anonymous\"></script>\n</body>\n</html>\n"},"/news/sentiment-analysis-with-text-mining/":{"metadata":[{"tagName":"meta","attributes":{"charset":"utf-8"}},{"tagName":"meta","attributes":{"http-equiv":"X-UA-Compatible","content":"IE=edge"}},{"tagName":"title","attributes":{}},{"tagName":"meta","attributes":{"name":"HandheldFriendly","content":"True"}},{"tagName":"meta","attributes":{"name":"viewport","content":"width=device-width, initial-scale=1.0"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.googleapis.com"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com","crossorigin":""}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"/news/assets/css/global-26e2f3cde9.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/screen-926fddfac2.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/search-bar-124f5f949c.css"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js"}},{"tagName":"script","attributes":{},"scriptContent":"let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));"},{"tagName":"script","attributes":{"data-ad-client":"ca-pub-9482786369113753","src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js","crossorigin":"anonymous","async":""}},{"tagName":"link","attributes":{"rel":"icon","href":"https://cdn.freecodecamp.org/universal/favicons/favicon.ico","type":"image/png"}},{"tagName":"link","attributes":{"rel":"canonical","href":"https://www.freecodecamp.org/news/sentiment-analysis-with-text-mining/"}},{"tagName":"meta","attributes":{"name":"referrer","content":"no-referrer-when-downgrade"}},{"tagName":"meta","attributes":{"name":"description","content":"In this tutorial, I will explore some text mining techniques for sentiment analysis. We'll look at how to prepare textual data. After that we will try two different classifiers to infer the tweets' sentiment. We will tune the hyperparameters of both classifiers with grid search. Finally, we evaluate the performance"}},{"tagName":"meta","attributes":{"property":"og:site_name","content":"freeCodeCamp.org"}},{"tagName":"meta","attributes":{"property":"og:type","content":"article"}},{"tagName":"meta","attributes":{"property":"og:title","content":"Sentiment Analysis with Text Mining"}},{"tagName":"meta","attributes":{"property":"og:description","content":"In this tutorial, I will explore some text mining techniques for sentiment analysis. We'll look at how to prepare textual data. After that we will try two different classifiers to infer the tweets' sentiment. We will tune the hyperparameters of both classifiers with grid search. Finally, we evaluate the performance"}},{"tagName":"meta","attributes":{"property":"og:url","content":"https://www.freecodecamp.org/news/sentiment-analysis-with-text-mining/"}},{"tagName":"meta","attributes":{"property":"og:image","content":"https://www.freecodecamp.org/news/content/images/2019/06/dictionary.jpeg"}},{"tagName":"meta","attributes":{"property":"article:published_time","content":"2019-06-13T21:42:41.000Z"}},{"tagName":"meta","attributes":{"property":"article:modified_time","content":"2019-06-13T21:49:22.000Z"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Data Science"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Machine Learning"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Text Mining"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Sentiment Analysis"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"NLP"}},{"tagName":"meta","attributes":{"property":"article:publisher","content":"https://www.facebook.com/freecodecamp"}},{"tagName":"meta","attributes":{"name":"twitter:card","content":"summary_large_image"}},{"tagName":"meta","attributes":{"name":"twitter:title","content":"Sentiment Analysis with Text Mining"}},{"tagName":"meta","attributes":{"name":"twitter:description","content":"In this tutorial, I will explore some text mining techniques for sentiment analysis. We'll look at how to prepare textual data. After that we will try two different classifiers to infer the tweets' sentiment. We will tune the hyperparameters of both classifiers with grid search. Finally, we evaluate the performance"}},{"tagName":"meta","attributes":{"name":"twitter:url","content":"https://www.freecodecamp.org/news/sentiment-analysis-with-text-mining/"}},{"tagName":"meta","attributes":{"name":"twitter:image","content":"https://www.freecodecamp.org/news/content/images/2019/06/dictionary.jpeg"}},{"tagName":"meta","attributes":{"name":"twitter:label1","content":"Written by"}},{"tagName":"meta","attributes":{"name":"twitter:data1","content":"Bert Carremans"}},{"tagName":"meta","attributes":{"name":"twitter:label2","content":"Filed under"}},{"tagName":"meta","attributes":{"name":"twitter:data2","content":"Data Science, Machine Learning, Text Mining, Sentiment Analysis, NLP"}},{"tagName":"meta","attributes":{"name":"twitter:site","content":"@freecodecamp"}},{"tagName":"meta","attributes":{"property":"og:image:width","content":"2000"}},{"tagName":"meta","attributes":{"property":"og:image:height","content":"1328"}},{"tagName":"script","attributes":{"type":"application/ld+json"},"scriptContent":"{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2019/06/dictionary.jpeg\",\n\t\t\"width\": 2000,\n\t\t\"height\": 1328\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/sentiment-analysis-with-text-mining/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2019-06-13T21:42:41.000Z\",\n\t\"dateModified\": \"2019-06-13T21:49:22.000Z\",\n\t\"keywords\": \"Data Science, Machine Learning, Text Mining, Sentiment Analysis, NLP\",\n\t\"description\": \"In this tutorial, I will explore some text mining techniques for sentiment\\nanalysis. We&#x27;ll look at how to prepare textual data. After that we will try two\\ndifferent classifiers to infer the tweets&#x27; sentiment. We will tune the\\nhyperparameters of both classifiers with grid search. Finally, we evaluate the\\nperformance on a set of metrics like precision, recall and the F1 score.\\n\\nFor this project, we&#x27;ll be working with the Twitter US Airline Sentiment data\\nset on Kaggle [https://www.kaggle.com/crowd\",\n\t\"headline\": \"Sentiment Analysis with Text Mining\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}"},{"tagName":"meta","attributes":{"name":"generator","content":"Eleventy"}},{"tagName":"link","attributes":{"rel":"alternate","type":"application/rss+xml","title":"freeCodeCamp.org","href":"https://www.freecodecamp.org/news/rss/"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com"}},{"tagName":"script","attributes":{},"scriptContent":"\nwindow.dataLayer = window.dataLayer || [];\n"},{"tagName":"script","attributes":{},"scriptContent":"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');"},{"tagName":"meta","attributes":{"name":"google-site-verification","content":"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E"}},{"tagName":"meta","attributes":{"name":"x-fcc-source","data-test-label":"x-fcc-source","content":"Ghost"}}],"html":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        \n        \n            <title>Sentiment Analysis with Text Mining</title>\n        \n        <meta name=\"HandheldFriendly\" content=\"True\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin=\"\">\n        \n            <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap\">\n        \n\n        \n        \n    <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n</noscript>\n<link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n</noscript>\n\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js\"></script>\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js\"></script>\n\n\n\n        \n        <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"/news/assets/css/global-26e2f3cde9.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/screen-926fddfac2.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/search-bar-124f5f949c.css\">\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js\"></script>\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js\"></script>\n\n        \n        \n            <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js\"></script>\n        \n\n        \n        <script>let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));</script>\n\n        \n        \n    \n        \n            <script data-ad-client=\"ca-pub-9482786369113753\" src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\" crossorigin=\"anonymous\" async=\"\"></script>\n        \n    \n\n\n        \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n\n\n        \n        \n        \n\n        \n        \n\n        <link rel=\"icon\" href=\"https://cdn.freecodecamp.org/universal/favicons/favicon.ico\" type=\"image/png\">\n        \n        \n            <link rel=\"canonical\" href=\"https://www.freecodecamp.org/news/sentiment-analysis-with-text-mining/\">\n        \n        <meta name=\"referrer\" content=\"no-referrer-when-downgrade\">\n\n        \n\n        \n    <meta name=\"description\" content=\"In this tutorial, I will explore some text mining techniques for sentiment analysis. We&#39;ll look at how to prepare textual data. After that we will try two different classifiers to infer the tweets&#39; sentiment. We will tune the hyperparameters of both classifiers with grid search. Finally, we evaluate the performance\">\n\n    \n    <meta property=\"og:site_name\" content=\"freeCodeCamp.org\">\n    <meta property=\"og:type\" content=\"article\">\n    <meta property=\"og:title\" content=\"Sentiment Analysis with Text Mining\">\n    \n        <meta property=\"og:description\" content=\"In this tutorial, I will explore some text mining techniques for sentiment analysis. We&#39;ll look at how to prepare textual data. After that we will try two different classifiers to infer the tweets&#39; sentiment. We will tune the hyperparameters of both classifiers with grid search. Finally, we evaluate the performance\">\n    \n    <meta property=\"og:url\" content=\"https://www.freecodecamp.org/news/sentiment-analysis-with-text-mining/\">\n    <meta property=\"og:image\" content=\"https://www.freecodecamp.org/news/content/images/2019/06/dictionary.jpeg\">\n    <meta property=\"article:published_time\" content=\"2019-06-13T21:42:41.000Z\">\n    <meta property=\"article:modified_time\" content=\"2019-06-13T21:49:22.000Z\">\n    \n        <meta property=\"article:tag\" content=\"Data Science\">\n    \n        <meta property=\"article:tag\" content=\"Machine Learning\">\n    \n        <meta property=\"article:tag\" content=\"Text Mining\">\n    \n        <meta property=\"article:tag\" content=\"Sentiment Analysis\">\n    \n        <meta property=\"article:tag\" content=\"NLP\">\n    \n    <meta property=\"article:publisher\" content=\"https://www.facebook.com/freecodecamp\">\n    \n\n    \n    <meta name=\"twitter:card\" content=\"summary_large_image\">\n    <meta name=\"twitter:title\" content=\"Sentiment Analysis with Text Mining\">\n    \n        <meta name=\"twitter:description\" content=\"In this tutorial, I will explore some text mining techniques for sentiment analysis. We&#39;ll look at how to prepare textual data. After that we will try two different classifiers to infer the tweets&#39; sentiment. We will tune the hyperparameters of both classifiers with grid search. Finally, we evaluate the performance\">\n    \n    <meta name=\"twitter:url\" content=\"https://www.freecodecamp.org/news/sentiment-analysis-with-text-mining/\">\n    <meta name=\"twitter:image\" content=\"https://www.freecodecamp.org/news/content/images/2019/06/dictionary.jpeg\">\n    <meta name=\"twitter:label1\" content=\"Written by\">\n    <meta name=\"twitter:data1\" content=\"Bert Carremans\">\n    <meta name=\"twitter:label2\" content=\"Filed under\">\n    <meta name=\"twitter:data2\" content=\"Data Science, Machine Learning, Text Mining, Sentiment Analysis, NLP\">\n    <meta name=\"twitter:site\" content=\"@freecodecamp\">\n    \n\n    <meta property=\"og:image:width\" content=\"2000\">\n    <meta property=\"og:image:height\" content=\"1328\">\n\n\n        \n    <script type=\"application/ld+json\">{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2019/06/dictionary.jpeg\",\n\t\t\"width\": 2000,\n\t\t\"height\": 1328\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/sentiment-analysis-with-text-mining/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2019-06-13T21:42:41.000Z\",\n\t\"dateModified\": \"2019-06-13T21:49:22.000Z\",\n\t\"keywords\": \"Data Science, Machine Learning, Text Mining, Sentiment Analysis, NLP\",\n\t\"description\": \"In this tutorial, I will explore some text mining techniques for sentiment\\nanalysis. We&#x27;ll look at how to prepare textual data. After that we will try two\\ndifferent classifiers to infer the tweets&#x27; sentiment. We will tune the\\nhyperparameters of both classifiers with grid search. Finally, we evaluate the\\nperformance on a set of metrics like precision, recall and the F1 score.\\n\\nFor this project, we&#x27;ll be working with the Twitter US Airline Sentiment data\\nset on Kaggle [https://www.kaggle.com/crowd\",\n\t\"headline\": \"Sentiment Analysis with Text Mining\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}</script>\n\n\n        <meta name=\"generator\" content=\"Eleventy\">\n        <link rel=\"alternate\" type=\"application/rss+xml\" title=\"freeCodeCamp.org\" href=\"https://www.freecodecamp.org/news/rss/\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n\n<!-- dataLayer setup -->\n<script>\nwindow.dataLayer = window.dataLayer || [];\n</script>\n<!-- End dataLayer setup -->\n\n<!-- Google Tag Manager -->\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');</script>\n<!-- End Google Tag Manager -->\n\n\n<meta name=\"google-site-verification\" content=\"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E\">\n\n        \n        \n\n        \n  <meta name=\"x-fcc-source\" data-test-label=\"x-fcc-source\" content=\"Ghost\">\n\n    </head>\n\n    \n        <body class=\"home-template\">\n    \n        <div class=\"site-wrapper\">\n            <nav class=\"site-nav nav-padding\">\n    <div class=\"site-nav-left\">\n        \n<form id=\"search-form\" data-test-label=\"search-bar\">\n    <div role=\"search\" class=\"searchbox__wrapper\">\n        <label class=\"fcc_sr_only\" for=\"search-input\">\n            Search\n        </label>\n        <input type=\"search\" placeholder=\"\n    Search 11,200+ tutorials\n\" id=\"search-input\">\n        <button type=\"submit\" class=\"ais-SearchBox-submit\">\n            <svg class=\"ais-SearchBox-submitIcon\" xmlns=\"https://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 40 40\">\n    <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n</svg>\n\n            <span class=\"fcc_sr_only\">Submit your search query</span>\n        </button>\n        <div id=\"dropdown-container\"></div>\n    </div>\n</form>\n\n    </div>\n    <div class=\"site-nav-middle\">\n        <a class=\"site-nav-logo\" href=\"https://www.freecodecamp.org/news/\" data-test-label=\"site-nav-logo\"><img src=\"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\" alt=\"freeCodeCamp.org\"></a>\n    </div>\n    <div class=\"site-nav-right\">\n        <div class=\"nav-group\">\n            <a class=\"nav-forum\" id=\"nav-forum\" rel=\"noopener noreferrer\" href=\"https://forum.freecodecamp.org/\" target=\"_blank\" data-test-label=\"forum-button\">Forum</a>\n            <a class=\"toggle-button-nav\" id=\"nav-donate\" rel=\"noopener noreferrer\" href=\"https://www.freecodecamp.org/donate/\" target=\"_blank\" data-test-label=\"donate-button\">Donate</a>\n        </div>\n    </div>\n</nav>\n\n\n            \n            <a class=\"banner\" id=\"banner\" data-test-label=\"banner\" rel=\"noopener noreferrer\" target=\"_blank\">\n    <p id=\"banner-text\"></p>\n</a>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const e=document.getElementById(\"banner\"),t=document.getElementById(\"banner-text\");isAuthenticated?(t.innerHTML=\"Support our charity and our mission. <span>Donate to freeCodeCamp.org</span>.\",e.href=\"https://www.freecodecamp.org/donate\",e.setAttribute(\"text-variation\",\"authenticated\")):isDonor?(t.innerHTML=\"Thank you for supporting freeCodeCamp through <span>your donations</span>.\",e.href=\"https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp/\",e.setAttribute(\"text-variation\",\"donor\")):(t.innerHTML=\"Learn to code — <span>free 3,000-hour curriculum</span>\",e.href=\"https://www.freecodecamp.org/\",e.setAttribute(\"text-variation\",\"default\"))}));</script>\n\n\n            <div id=\"error-message\"></div>\n\n            \n    <main id=\"site-main\" class=\"post-template site-main outer\">\n        <div class=\"inner ad-layout\">\n            <article class=\"post-full post\">\n                <header class=\"post-full-header\">\n                    <section class=\"post-full-meta\">\n                        <time class=\"post-full-meta-date\" data-test-label=\"post-full-meta-date\" datetime=\"Thu Jun 13 2019 21:42:41 GMT+0000 (Coordinated Universal Time)\">\n                            June 13, 2019\n                        </time>\n                        \n                            <span class=\"date-divider\">/</span>\n                            <a dir=\"ltr\" href=\"/news/tag/data-science/\">\n                                #Data Science\n                            </a>\n                        \n                    </section>\n                    <h1 class=\"post-full-title\" data-test-label=\"post-full-title\">Sentiment Analysis with Text Mining</h1>\n                </header>\n                <div class=\"post-full-author-header\" data-test-label=\"author-header-no-bio\">\n                    \n                        \n                            \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content author-card-content-no-bio\">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n        </section>\n    </section>\n\n                        \n                    \n                </div>\n                <figure class=\"post-full-image\">\n                    \n    <picture>\n      <source media=\"(max-width: 700px)\" sizes=\"1px\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w\">\n      <source media=\"(min-width: 701px)\" sizes=\"(max-width: 800px) 400px, (max-width: 1170px) 700px, 1400px\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w300/2019/06/dictionary.jpeg 300w, https://www.freecodecamp.org/news/content/images/size/w600/2019/06/dictionary.jpeg 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2019/06/dictionary.jpeg 1000w, https://www.freecodecamp.org/news/content/images/size/w2000/2019/06/dictionary.jpeg 2000w\">\n      <img onerror=\"this.style.display='none'\" src=\"https://www.freecodecamp.org/news/content/images/size/w2000/2019/06/dictionary.jpeg\" alt=\"Sentiment Analysis with Text Mining\" ,=\"\" width=\"2000\" height=\"1328\" data-test-label=\"feature-image\">\n    </picture>\n  \n                </figure>\n                <section class=\"post-full-content\">\n                    <div class=\"post-and-sidebar\">\n                        <section class=\"post-content \" data-test-label=\"post-content\">\n                            \n<p>In this tutorial, I will explore some text mining techniques for sentiment analysis. We'll look at how to prepare textual data. After that we will try two different classifiers to infer the tweets' sentiment. We will tune the hyperparameters of both classifiers with grid search. Finally, we evaluate the performance on a set of metrics like precision, recall and the F1 score.</p><p>For this project, we'll be working with the <a href=\"https://www.kaggle.com/crowdflower/twitter-airline-sentiment\" rel=\"noopener\">Twitter US Airline Sentiment data set on Kaggle</a>. It contains the tweet’s text and one variable with three possible sentiment values. Let's start by importing the packages and configuring some settings.</p><pre><code class=\"language-python\">import numpy as np \nimport pandas as pd \npd.set_option('display.max_colwidth', -1)\nfrom time import time\nimport re\nimport string\nimport os\nimport emoji\nfrom pprint import pprint\nimport collections\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set(style=\"darkgrid\")\nsns.set(font_scale=1.3)\nfrom sklearn.base import BaseEstimator, TransformerMixin\nfrom sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.model_selection import GridSearchCV\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.pipeline import Pipeline, FeatureUnion\nfrom sklearn.metrics import classification_report\nfrom sklearn.naive_bayes import MultinomialNB\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.externals import joblib\nimport gensim\nfrom nltk.corpus import stopwords\nfrom nltk.stem import PorterStemmer\nfrom nltk.tokenize import word_tokenize\nimport warnings\nwarnings.filterwarnings('ignore')\nnp.random.seed(37)</code></pre><h2 id=\"loading-the-data\">Loading the data</h2><p>We read in the comma separated file we downloaded from the Kaggle Datasets. We shuffle the data frame in case the classes are sorted. Applying the <code>reindex</code> method on the <code>permutation</code> of the original indices is good for that. In this notebook, we will work with the <code>text</code> variable and the <code>airline_sentiment</code> variable.</p><pre><code class=\"language-python\">df = pd.read_csv('../input/Tweets.csv')\ndf = df.reindex(np.random.permutation(df.index))\ndf = df[['text', 'airline_sentiment']]</code></pre><h2 id=\"exploratory-data-analysis\">Exploratory Data Analysis</h2><h3 id=\"target-variable\">Target variable</h3><p>There are three class labels we will predict: negative, neutral or positive.</p><p>The class labels are imbalanced as we can see below in the chart. This is something that we should keep in mind during the model training phase. With the <code>factorplot</code> of the seaborn package, we can visualize the distribution of the target variable.</p><pre><code class=\"language-python\">sns.factorplot(x=\"airline_sentiment\", data=df, kind=\"count\", size=6, aspect=1.5, palette=\"PuBuGn_d\")\nplt.show();</code></pre><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://cdn-media-1.freecodecamp.org/images/0*v99Gfk4iL4POvy2F.png\" class=\"kg-image\" alt=\"0*v99Gfk4iL4POvy2F\" width=\"646\" height=\"412\" loading=\"lazy\"><figcaption>Imbalanced distribution of the target class&nbsp;labels</figcaption></figure><h3 id=\"input-variable\">Input variable</h3><p>To analyze the <code>text </code>variable we create a class <code>TextCounts</code>. In this class we compute some basic statistics on the text variable.</p><ul><li><code>count_words</code>: number of words in the tweet</li><li><code>count_mentions</code>: referrals to other Twitter accounts start with a @</li><li><code>count_hashtags</code>: number of tag words, preceded by a #</li><li><code>count_capital_words</code>: number of uppercase words are sometimes used to “shout” and express (negative) emotions</li><li><code>count_excl_quest_marks</code>: number of question or exclamation marks</li><li><code>count_urls</code>: number of links in the tweet, preceded by http(s)</li><li><code>count_emojis</code>: number of emoji, which might be a good sign of the sentiment</li></ul><pre><code class=\"language-python\">class TextCounts(BaseEstimator, TransformerMixin):\n    \n    def count_regex(self, pattern, tweet):\n        return len(re.findall(pattern, tweet))\n    \n    def fit(self, X, y=None, **fit_params):\n        # fit method is used when specific operations need to be done on the train data, but not on the test data\n        return self\n    \n    def transform(self, X, **transform_params):\n        count_words = X.apply(lambda x: self.count_regex(r'\\w+', x)) \n        count_mentions = X.apply(lambda x: self.count_regex(r'@\\w+', x))\n        count_hashtags = X.apply(lambda x: self.count_regex(r'#\\w+', x))\n        count_capital_words = X.apply(lambda x: self.count_regex(r'\\b[A-Z]{2,}\\b', x))\n        count_excl_quest_marks = X.apply(lambda x: self.count_regex(r'!|\\?', x))\n        count_urls = X.apply(lambda x: self.count_regex(r'http.?://[^\\s]+[\\s]?', x))\n        # We will replace the emoji symbols with a description, which makes using a regex for counting easier\n        # Moreover, it will result in having more words in the tweet\n        count_emojis = X.apply(lambda x: emoji.demojize(x)).apply(lambda x: self.count_regex(r':[a-z_&amp;]+:', x))\n        \n        df = pd.DataFrame({'count_words': count_words\n                           , 'count_mentions': count_mentions\n                           , 'count_hashtags': count_hashtags\n                           , 'count_capital_words': count_capital_words\n                           , 'count_excl_quest_marks': count_excl_quest_marks\n                           , 'count_urls': count_urls\n                           , 'count_emojis': count_emojis\n                          })\n        \n        return df\ntc = TextCounts()\ndf_eda = tc.fit_transform(df.text)\ndf_eda['airline_sentiment'] = df.airline_sentiment</code></pre><p>It could be interesting to see how the TextStats variables relate to the class variable. So we write a function <code>show_dist</code> that provides descriptive statistics and a plot per target class.</p><pre><code class=\"language-python\">def show_dist(df, col):\n    print('Descriptive stats for {}'.format(col))\n    print('-'*(len(col)+22))\n    print(df.groupby('airline_sentiment')[col].describe())\n    bins = np.arange(df[col].min(), df[col].max() + 1)\n    g = sns.FacetGrid(df, col='airline_sentiment', size=5, hue='airline_sentiment', palette=\"PuBuGn_d\")\n    g = g.map(sns.distplot, col, kde=False, norm_hist=True, bins=bins)\n    plt.show()</code></pre><p>Below you can find the distribution of the number of words in a tweet per target class. For brevity, we will limit us to only this variable. The charts for all TextCounts variables are in the <a href=\"https://github.com/bertcarremans/TwitterUSAirlineSentiment\" rel=\"noopener\">notebook on Github</a>.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://cdn-media-1.freecodecamp.org/images/0*snmvA3GQOb_S9wV8.png\" class=\"kg-image\" alt=\"0*snmvA3GQOb_S9wV8\" width=\"1060\" height=\"340\" loading=\"lazy\"></figure><ul><li>The number of words used in the tweets is rather low. The largest number of words is 36 and there are even tweets with only 2 words. So we’ll have to be careful during data cleaning not to remove too many words. But the text processing will be faster. Negative tweets contain more words than neutral or positive tweets.</li><li>All tweets have at least one mention. This is the result of extracting the tweets based on mentions in the Twitter data. There seems to be no difference in the number of mentions with regard to the sentiment.</li><li>Most of the tweets do not contain hash tags. So this variable will not be retained during model training. Again, no difference in the number of hash tags with regard to the sentiment.</li><li>Most of the tweets do not contain capitalized words and we do not see a difference in distribution between the sentiments.</li><li>The positive tweets seem to be using a bit more exclamation or question marks.</li><li>Most tweets do not contain a URL.</li><li>Most tweets do not use emojis.</li></ul><h2 id=\"text-cleaning\">Text Cleaning</h2><p>Before we start using the tweets’ text we need to clean it. We’ll do the this in the class <code>CleanText</code><strong><strong>.</strong></strong> With this class we’ll perform the following actions:</p><ul><li>remove the mentions, as we want to generalize to tweets of other airline companies too.</li><li>remove the hash tag sign (#) but not the actual tag as this may contain information</li><li>set all words to lowercase</li><li>remove all punctuations, including the question and exclamation marks</li><li>remove the URLs as they do not contain useful information. We did not notice a difference in the number of URLs used between the sentiment classes</li><li>make sure to convert the emojis into one word.</li><li>remove digits</li><li>remove stopwords</li><li>apply the <code>PorterStemmer</code> to keep the stem of the words</li></ul><pre><code class=\"language-python\">class CleanText(BaseEstimator, TransformerMixin):\n    def remove_mentions(self, input_text):\n        return re.sub(r'@\\w+', '', input_text)\n    \n    def remove_urls(self, input_text):\n        return re.sub(r'http.?://[^\\s]+[\\s]?', '', input_text)\n    \n    def emoji_oneword(self, input_text):\n        # By compressing the underscore, the emoji is kept as one word\n        return input_text.replace('_','')\n    \n    def remove_punctuation(self, input_text):\n        # Make translation table\n        punct = string.punctuation\n        trantab = str.maketrans(punct, len(punct)*' ')  # Every punctuation symbol will be replaced by a space\n        return input_text.translate(trantab)\n    def remove_digits(self, input_text):\n        return re.sub('\\d+', '', input_text)\n    \n    def to_lower(self, input_text):\n        return input_text.lower()\n    \n    def remove_stopwords(self, input_text):\n        stopwords_list = stopwords.words('english')\n        # Some words which might indicate a certain sentiment are kept via a whitelist\n        whitelist = [\"n't\", \"not\", \"no\"]\n        words = input_text.split() \n        clean_words = [word for word in words if (word not in stopwords_list or word in whitelist) and len(word) &gt; 1] \n        return \" \".join(clean_words) \n    \n    def stemming(self, input_text):\n        porter = PorterStemmer()\n        words = input_text.split() \n        stemmed_words = [porter.stem(word) for word in words]\n        return \" \".join(stemmed_words)\n    \n    def fit(self, X, y=None, **fit_params):\n        return self\n    \n    def transform(self, X, **transform_params):\n        clean_X = X.apply(self.remove_mentions).apply(self.remove_urls).apply(self.emoji_oneword).apply(self.remove_punctuation).apply(self.remove_digits).apply(self.to_lower).apply(self.remove_stopwords).apply(self.stemming)\n        return clean_X</code></pre><p>To show how the cleaned text variable will look like, here’s a sample.</p><pre><code class=\"language-python\">ct = CleanText()\nsr_clean = ct.fit_transform(df.text)\nsr_clean.sample(5)</code></pre><blockquote><em><em>glad rt bet bird wish flown south winter</em></em><br><em><em>point upc code check baggag tell luggag vacat day tri swimsuit</em></em><br><em><em>vx jfk la dirti plane not standard</em></em><br><em><em>tell mean work need estim time arriv pleas need laptop work thank</em></em><br><em><em>sure busi go els airlin travel name kathryn sotelo</em></em></blockquote><p>One side-effect of text cleaning is that some rows do not have any words left in their text. For the <code>CountVectorizer</code> and <code>TfIdfVectorizer</code> this does not pose a problem. Yet, for the <code>Word2Vec</code> algorithm this causes an error. There are different strategies to deal with these missing values.</p><ul><li>Remove the complete row, but in a production environment this is not desirable.</li><li>Impute the missing value with some placeholder text like *[no_text]*</li><li>When applying Word2Vec: use the average of all vectors</li></ul><p>Here we will impute with placeholder text.</p><pre><code class=\"language-python\">empty_clean = sr_clean == ''\nprint('{} records have no words left after text cleaning'.format(sr_clean[empty_clean].count()))\nsr_clean.loc[empty_clean] = '[no_text]'</code></pre><p>Now that we have the cleaned text of the tweets, we can have a look at what are the most frequent words. Below we’ll show the top 20 words. The most frequent word is “flight”.</p><pre><code class=\"language-python\">cv = CountVectorizer()\nbow = cv.fit_transform(sr_clean)\nword_freq = dict(zip(cv.get_feature_names(), np.asarray(bow.sum(axis=0)).ravel()))\nword_counter = collections.Counter(word_freq)\nword_counter_df = pd.DataFrame(word_counter.most_common(20), columns = ['word', 'freq'])\nfig, ax = plt.subplots(figsize=(12, 10))\nsns.barplot(x=\"word\", y=\"freq\", data=word_counter_df, palette=\"PuBuGn_d\", ax=ax)\nplt.show();</code></pre><figure class=\"kg-card kg-image-card\"><img src=\"https://cdn-media-1.freecodecamp.org/images/0*hBvkYfey1Astmd02.png\" class=\"kg-image\" alt=\"0*hBvkYfey1Astmd02\" width=\"738\" height=\"595\" loading=\"lazy\"></figure><h2 id=\"creating-test-data\">Creating test data</h2><p>To check the performance of the models we’ll need a test set. Evaluating on the train data would not be correct. You should not test on the same data used for training the model.</p><p>First, we combine the <code>TextCounts</code> variables with the <code>CleanText</code> variable. Initially, I made the mistake to execute TextCounts and CleanText in the <code>GridSearchCV</code>. This took too long as it applies these functions each run of the GridSearch. It suffices to run them only once.</p><pre><code class=\"language-python\">df_model = df_eda\ndf_model['clean_text'] = sr_clean\ndf_model.columns.tolist()</code></pre><p>So <code>df_model</code> now contains several variables. But our vectorizers (see below) will only need the <code>clean_text</code> variable. The <code>TextCounts</code>variables can be added as such. To select columns, I wrote the class <code>ColumnExtractor</code> below.</p><pre><code class=\"language-python\">class ColumnExtractor(TransformerMixin, BaseEstimator):\n    def __init__(self, cols):\n        self.cols = cols\n    def transform(self, X, **transform_params):\n        return X[self.cols]\n    def fit(self, X, y=None, **fit_params):\n        return self\nX_train, X_test, y_train, y_test = train_test_split(df_model.drop('airline_sentiment', axis=1), df_model.airline_sentiment, test_size=0.1, random_state=37)</code></pre><h2 id=\"hyperparameter-tuning-and-cross-validation\">Hyperparameter tuning and cross-validation</h2><p>As we will see below, the vectorizers and classifiers all have configurable parameters. To choose the best parameters, we need to test on a separate validation set. This validation set was not used during the training. Yet, using only one validation set may not produce reliable validation results. Due to chance, you might have a good model performance on the validation set. If you would split the data otherwise, you might end up with other results. To get a more accurate estimation, we perform cross-validation.</p><p>With cross-validation we split the data into a train and validation set many times. The evaluation metric is then averaged over the different folds. Luckily, GridSearchCV applies cross-validation out-of-the-box.</p><p>To find the best parameters for both a vectorizer and classifier, we create a <code>Pipeline</code>.</p><h2 id=\"evaluation-metrics\">Evaluation metrics</h2><p>By default GridSearchCV uses the default scorer to compute the <code>best_score_</code>. For both the <code>MultiNomialNb</code> and <code>LogisticRegression</code> this default scoring metric is accuracy.</p><p>In our function <code>grid_vect</code>we additionally generate the <code>classification_report</code> on the test data. This provides some interesting metrics per target class. This might be more appropriate here. These metrics are the precision, recall and F1 score<strong><strong>.</strong></strong></p><ul><li>Precision<strong><strong>: </strong></strong>Of all rows we predicted to be a certain class, how many did we correctly predict?</li><li>Recall<strong><strong>: </strong></strong>Of all rows of a certain class, how many did we correctly predict?</li><li>F1 score<strong><strong>: </strong></strong>Harmonic mean of Precision and Recall.</li></ul><p>With the elements of the <a href=\"https://en.wikipedia.org/wiki/Confusion_matrix\" rel=\"noopener\">confusion matrix</a> we can calculate Precision and Recall.</p><pre><code class=\"language-python\"># Based on http://scikit-learn.org/stable/auto_examples/model_selection/grid_search_text_feature_extraction.html\ndef grid_vect(clf, parameters_clf, X_train, X_test, parameters_text=None, vect=None, is_w2v=False):\n    \n    textcountscols = ['count_capital_words','count_emojis','count_excl_quest_marks','count_hashtags'\n                      ,'count_mentions','count_urls','count_words']\n    \n    if is_w2v:\n        w2vcols = []\n        for i in range(SIZE):\n            w2vcols.append(i)\n        features = FeatureUnion([('textcounts', ColumnExtractor(cols=textcountscols))\n                                 , ('w2v', ColumnExtractor(cols=w2vcols))]\n                                , n_jobs=-1)\n    else:\n        features = FeatureUnion([('textcounts', ColumnExtractor(cols=textcountscols))\n                                 , ('pipe', Pipeline([('cleantext', ColumnExtractor(cols='clean_text')), ('vect', vect)]))]\n                                , n_jobs=-1)\n    \n    pipeline = Pipeline([\n        ('features', features)\n        , ('clf', clf)\n    ])\n    \n    # Join the parameters dictionaries together\n    parameters = dict()\n    if parameters_text:\n        parameters.update(parameters_text)\n    parameters.update(parameters_clf)\n    # Make sure you have scikit-learn version 0.19 or higher to use multiple scoring metrics\n    grid_search = GridSearchCV(pipeline, parameters, n_jobs=-1, verbose=1, cv=5)\n    \n    print(\"Performing grid search...\")\n    print(\"pipeline:\", [name for name, _ in pipeline.steps])\n    print(\"parameters:\")\n    pprint(parameters)\n    t0 = time()\n    grid_search.fit(X_train, y_train)\n    print(\"done in %0.3fs\" % (time() - t0))\n    print()\n    print(\"Best CV score: %0.3f\" % grid_search.best_score_)\n    print(\"Best parameters set:\")\n    best_parameters = grid_search.best_estimator_.get_params()\n    for param_name in sorted(parameters.keys()):\n        print(\"\\t%s: %r\" % (param_name, best_parameters[param_name]))\n        \n    print(\"Test score with best_estimator_: %0.3f\" % grid_search.best_estimator_.score(X_test, y_test))\n    print(\"\\n\")\n    print(\"Classification Report Test Data\")\n    print(classification_report(y_test, grid_search.best_estimator_.predict(X_test)))\n                        \n    return grid_search</code></pre><h2 id=\"parameter-grids-for-gridsearchcv\">Parameter grids for GridSearchCV</h2><p>In the grid search, we will investigate the performance of the classifier. The set of parameters used to test the performance are specified below.</p><pre><code class=\"language-python\"># Parameter grid settings for the vectorizers (Count and TFIDF)\nparameters_vect = {\n    'features__pipe__vect__max_df': (0.25, 0.5, 0.75),\n    'features__pipe__vect__ngram_range': ((1, 1), (1, 2)),\n    'features__pipe__vect__min_df': (1,2)\n}\n\n# Parameter grid settings for MultinomialNB\nparameters_mnb = {\n    'clf__alpha': (0.25, 0.5, 0.75)\n}\n\n# Parameter grid settings for LogisticRegression\nparameters_logreg = {\n    'clf__C': (0.25, 0.5, 1.0),\n    'clf__penalty': ('l1', 'l2')\n}</code></pre><h2 id=\"classifiers\">Classifiers</h2><p>Here we will compare the performance of a <code>MultinomialNB</code>and <code>LogisticRegression</code>.</p><pre><code class=\"language-python\">mnb = MultinomialNB()\nlogreg = LogisticRegression()</code></pre><h3 id=\"countvectorizer\">CountVectorizer</h3><p>To use words in a classifier, we need to convert the words to numbers. Sklearn’s <code>CountVectorizer</code> takes all words in all tweets, assigns an ID and counts the frequency of the word per tweet. We then use this bag of words as input for a classifier. This bag of words is a sparse data set. This means that each record will have many zeroes for the words not occurring in the tweet.</p><pre><code class=\"language-python\">countvect = CountVectorizer()\n# MultinomialNB\nbest_mnb_countvect = grid_vect(mnb, parameters_mnb, X_train, X_test, parameters_text=parameters_vect, vect=countvect)\njoblib.dump(best_mnb_countvect, '../output/best_mnb_countvect.pkl')\n# LogisticRegression\nbest_logreg_countvect = grid_vect(logreg, parameters_logreg, X_train, X_test, parameters_text=parameters_vect, vect=countvect)\njoblib.dump(best_logreg_countvect, '../output/best_logreg_countvect.pkl')</code></pre><h3 id=\"tf-idf-vectorizer\">TF-IDF Vectorizer</h3><p>One issue with CountVectorizer is that there might be words that occur frequently. These words might not have discriminatory information. Thus they can be removed. <a href=\"https://en.wikipedia.org/wiki/Tf%E2%80%93idf\" rel=\"noopener\">TF-IDF (term frequency — inverse document frequency)</a>can be used to down-weight these frequent words.</p><pre><code class=\"language-python\">tfidfvect = TfidfVectorizer()\n# MultinomialNB\nbest_mnb_tfidf = grid_vect(mnb, parameters_mnb, X_train, X_test, parameters_text=parameters_vect, vect=tfidfvect)\njoblib.dump(best_mnb_tfidf, '../output/best_mnb_tfidf.pkl')\n# LogisticRegression\nbest_logreg_tfidf = grid_vect(logreg, parameters_mnb, X_train, X_test, parameters_text=parameters_vect, vect=tfidfvect)\njoblib.dump(best_logreg_tfidf, '../output/best_logreg_tfidf.pkl')</code></pre><h3 id=\"word2vec\">Word2Vec</h3><p>Another way of converting the words to numerical values is to use <code>Word2Vec</code>. Word2Vec maps each word in a multi-dimensional space. It does this by taking into account the context in which a word appears in the tweets. As a result, words that are similar are also close to each other in the multi-dimensional space.</p><p>The Word2Vec algorithm is part of the <a href=\"https://radimrehurek.com/gensim/models/word2vec.html\" rel=\"noopener\">gensim</a> package.</p><p>The Word2Vec algorithm uses lists of words as input. For that purpose, we use the <code>word_tokenize</code> method of the the <code>nltk</code> package.</p><pre><code class=\"language-python\">SIZE = 50\nX_train['clean_text_wordlist'] = X_train.clean_text.apply(lambda x : word_tokenize(x))\nX_test['clean_text_wordlist'] = X_test.clean_text.apply(lambda x : word_tokenize(x))\nmodel = gensim.models.Word2Vec(X_train.clean_text_wordlist\n, min_count=1\n, size=SIZE\n, window=5\n, workers=4)\nmodel.most_similar('plane', topn=3)</code></pre><p>The Word2Vec model provides a vocabulary of the words in all the tweets. For each word you also have its vector values. The number of vector values is equal to the chosen size. These are the dimensions on which each word is mapped in the multi-dimensional space. Words with an occurrence less than <code>min_count</code> are not kept in the vocabulary.</p><p>A side effect of the min_count parameter is that some tweets could have no vector values. This is would be the case when the word(s) in the tweet occur in less than min_count<em> </em>tweets. Due to the small corpus of tweets, there is a risk of this happening in our case. Thus we set the min_count value equal to 1.</p><p>The tweets can have a different number of vectors, depending on the number of words it contains. To use this output for modeling we will calculate the average of all vectors per tweet. As such we will have the same number (i.e. size) of input variables per tweet.</p><p>We do this with the function <code>compute_avg_w2v_vector</code>. In this function we also check whether the words in the tweet occur in the vocabulary of the Word2Vec model. If not, a list filled with 0.0 is returned. Else the average of the word vectors.</p><pre><code class=\"language-python\">def compute_avg_w2v_vector(w2v_dict, tweet):\n    list_of_word_vectors = [w2v_dict[w] for w in tweet if w in w2v_dict.vocab.keys()]\n    \n    if len(list_of_word_vectors) == 0:\n        result = [0.0]*SIZE\n    else:\n        result = np.sum(list_of_word_vectors, axis=0) / len(list_of_word_vectors)\n        \n    return result\nX_train_w2v = X_train['clean_text_wordlist'].apply(lambda x: compute_avg_w2v_vector(model.wv, x))\nX_test_w2v = X_test['clean_text_wordlist'].apply(lambda x: compute_avg_w2v_vector(model.wv, x))</code></pre><p>This gives us a Series with a vector of dimension equal to <code>SIZE</code>. Now we will split this vector and create a DataFrame with each vector value in a separate column. That way we can concatenate the Word2Vec variables to the other TextCounts variables. We need to reuse the index of <code>X_train</code> and <code>X_test</code>. Otherwise this will give issues (duplicates) in the concatenation later on.</p><pre><code class=\"language-python\">X_train_w2v = pd.DataFrame(X_train_w2v.values.tolist(), index= X_train.index)\nX_test_w2v = pd.DataFrame(X_test_w2v.values.tolist(), index= X_test.index)\n# Concatenate with the TextCounts variables\nX_train_w2v = pd.concat([X_train_w2v, X_train.drop(['clean_text', 'clean_text_wordlist'], axis=1)], axis=1)\nX_test_w2v = pd.concat([X_test_w2v, X_test.drop(['clean_text', 'clean_text_wordlist'], axis=1)], axis=1)</code></pre><p>We only consider LogisticRegression as we have negative values in the Word2Vec vectors. MultinomialNB assumes that the variables have a <a href=\"https://en.wikipedia.org/wiki/Multinomial_distribution\" rel=\"noopener\">multinomial distribution</a>. So they cannot contain negative values.</p><pre><code class=\"language-python\">best_logreg_w2v = grid_vect(logreg, parameters_logreg, X_train_w2v, X_test_w2v, is_w2v=True)\njoblib.dump(best_logreg_w2v, '../output/best_logreg_w2v.pkl')</code></pre><h2 id=\"conclusion\">Conclusion</h2><ul><li>Both classifiers achieve the best results when using the features of the CountVectorizer</li><li>Logistic Regression outperforms the Multinomial Naive Bayes classifier</li><li>The best performance on the test set comes from the LogisticRegression with features from CountVectorizer.</li></ul><h3 id=\"best-parameters\">Best parameters</h3><ul><li>C value of 1</li><li>L2 regularization</li><li>max_df: 0.5 or maximum document frequency of 50%.</li><li>min_df: 1 or the words need to appear in at least 2 tweets</li><li>ngram_range: (1, 2), both single words as bi-grams are used</li></ul><h3 id=\"evaluation-metrics-1\">Evaluation metrics</h3><ul><li>A test accuracy of 81,3%. This is better than a baseline performance of predicting the majority class (here a negative sentiment) for all observations. The baseline would give 63% accuracy.</li><li>The Precision is rather high for all three classes. For instance, of all cases that we predict as negative, 80% is negative.</li><li>The Recall for the neutral class is low. Of all neutral cases in our test data, we only predict 48% as being neutral.</li></ul><h2 id=\"apply-the-best-model-on-new-tweets\">Apply the best model on new tweets</h2><p>For the fun, we will use the best model and apply it to some new tweets that contain <em>@VirginAmerica</em>. I selected 3 negative and 3 positive tweets by hand.</p><p>Thanks to the GridSearchCV, we now know what are the best hyperparameters. So now we can train the best model on all training data, including the test data that we split off before.</p><pre><code class=\"language-python\">textcountscols = ['count_capital_words','count_emojis','count_excl_quest_marks','count_hashtags'\n,'count_mentions','count_urls','count_words']\nfeatures = FeatureUnion([('textcounts', ColumnExtractor(cols=textcountscols))\n, ('pipe', Pipeline([('cleantext', ColumnExtractor(cols='clean_text'))\n, ('vect', CountVectorizer(max_df=0.5, min_df=1, ngram_range=(1,2)))]))]\n, n_jobs=-1)\npipeline = Pipeline([\n('features', features)\n, ('clf', LogisticRegression(C=1.0, penalty='l2'))\n])\nbest_model = pipeline.fit(df_model.drop('airline_sentiment', axis=1), df_model.airline_sentiment)\n# Applying on new positive tweets\nnew_positive_tweets = pd.Series([\"Thank you @VirginAmerica for you amazing customer support team on Tuesday 11/28 at @EWRairport and returning my lost bag in less than 24h! #efficiencyiskey #virginamerica\"\n,\"Love flying with you guys ask these years. Sad that this will be the last trip ? @VirginAmerica #LuxuryTravel\"\n,\"Wow @VirginAmerica main cabin select is the way to fly!! This plane is nice and clean &amp; I have tons of legroom! Wahoo! NYC bound! ✈️\"])\ndf_counts_pos = tc.transform(new_positive_tweets)\ndf_clean_pos = ct.transform(new_positive_tweets)\ndf_model_pos = df_counts_pos\ndf_model_pos['clean_text'] = df_clean_pos\nbest_model.predict(df_model_pos).tolist()\n# Applying on new negative tweets\nnew_negative_tweets = pd.Series([\"@VirginAmerica shocked my initially with the service, but then went on to shock me further with no response to what my complaint was. #unacceptable @Delta @richardbranson\"\n,\"@VirginAmerica this morning I was forced to repack a suitcase w a medical device because it was barely overweight - wasn't even given an option to pay extra. My spouses suitcase then burst at the seam with the added device and had to be taped shut. Awful experience so far!\"\n,\"Board airplane home. Computer issue. Get off plane, traverse airport to gate on opp side. Get on new plane hour later. Plane too heavy. 8 volunteers get off plane. Ohhh the adventure of travel ✈️ @VirginAmerica\"])\ndf_counts_neg = tc.transform(new_negative_tweets)\ndf_clean_neg = ct.transform(new_negative_tweets)\ndf_model_neg = df_counts_neg\ndf_model_neg['clean_text'] = df_clean_neg\nbest_model.predict(df_model_neg).tolist()</code></pre><p>The model classifies all tweets correctly. A larger test set should be used to assess the model’s performance. But on this small data set it does what we are aiming for. I hope you enjoyed reading this story. If you did, feel free to share it.</p>\n\n                        </section>\n                        \n                            <div class=\"sidebar\">\n                                \n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                \n                            </div>\n                        \n                    </div>\n                    <hr>\n                    \n                        <div class=\"post-full-author-header\" data-test-label=\"author-header-with-bio\">\n                            \n                                \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" loading=\"lazy\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content \">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n                \n                    <p data-test-label=\"author-bio\">Data Scientist</p>\n                \n            \n        </section>\n    </section>\n\n                            \n                        </div>\n                        <hr>\n                    \n\n                    \n                    \n                        \n    \n\n\n<p data-test-label=\"social-row-cta\" class=\"social-row\">\n    If this article was helpful, <button id=\"tweet-btn\" class=\"cta-button\" data-test-label=\"tweet-button\">share it</button>.\n</p>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const t=document.getElementById(\"tweet-btn\"),e=window.location,n=\"Sentiment%20Analysis%20with%20Text%20Mining\".replace(/&#39;/g,\"%27\"),o=\"\",i=\"\",r=Boolean(\"\");let s;if(r&&(o||i)){const t={originalPostAuthor:\"\",currentPostAuthor:\"Bert Carremans\"};s=encodeURIComponent(`Thank you ${o||t.originalPostAuthor} for writing this helpful article, and ${i||t.currentPostAuthor} for translating it.`)}else!r&&i&&(s=encodeURIComponent(`Thank you ${i} for writing this helpful article.`));const a=`window.open(\\n    '${s?`https://twitter.com/intent/tweet?text=${s}%0A%0A${n}%0A%0A${e}`:`https://twitter.com/intent/tweet?text=${n}%0A%0A${e}`}',\\n    'share-twitter',\\n    'width=550, height=235'\\n  ); return false;`;t.setAttribute(\"onclick\",a)}));</script>\n\n\n                        \n\n<div class=\"learn-cta-row\" data-test-label=\"learn-cta-row\">\n    <p>\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href=\"https://www.freecodecamp.org/learn/\" class=\"cta-button\" id=\"learn-to-code-cta\" rel=\"noopener noreferrer\" target=\"_blank\">Get started</a>\n    </p>\n</div>\n\n                    \n                </section>\n                \n                    <div class=\"banner-ad bottom\">\n                        \n                            <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                        \n                    </div>\n                \n            </article>\n        </div>\n    </main>\n\n\n            \n\n\n<footer class=\"site-footer\">\n    <div class=\"footer-top\">\n        <div class=\"footer-desc-col\">\n            <p data-test-label=\"tax-exempt-status\">freeCodeCamp is a donor-supported tax-exempt 501(c)(3) charity organization (United States Federal Tax Identification Number: 82-0779546)</p>\n            <p data-test-label=\"mission-statement\">Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public.</p>\n            <p data-test-label=\"donation-initiatives\">Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.</p>\n            <p class=\"footer-donation\" data-test-label=\"donate-text\">\n                You can <a href=\"https://www.freecodecamp.org/donate/\" class=\"inline\" rel=\"noopener noreferrer\" target=\"_blank\">make a tax-deductible donation here</a>.\n            </p>\n        </div>\n        <div class=\"trending-guides\" data-test-label=\"trending-guides\">\n            <h2 id=\"trending-guides\" class=\"col-header\">Trending Guides</h2>\n            <ul class=\"trending-guides-articles\" aria-labelledby=\"trending-guides\">\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-transform-functions-and-properties/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Transform\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-create-a-static-blog-with-lume/\" rel=\"noopener noreferrer\" target=\"_blank\">Build a Static Blog\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-build-an-ai-chatbot-with-redis-python-and-gpt/\" rel=\"noopener noreferrer\" target=\"_blank\">Build an AI Chatbot\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/what-is-programming-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">What is Programming?\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Python Code Examples\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/a-practical-guide-to-start-opensource-contributions/\" rel=\"noopener noreferrer\" target=\"_blank\">Open Source for Devs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/http-full-course/\" rel=\"noopener noreferrer\" target=\"_blank\">HTTP Networking in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-unit-tests-in-react-redux/\" rel=\"noopener noreferrer\" target=\"_blank\">Write React Unit Tests\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/introduction-to-algorithms-with-javascript-examples/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Algorithms in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-clean-code/\" rel=\"noopener noreferrer\" target=\"_blank\">How to Write Clean Code\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-php-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn PHP\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-java-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Java\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-swift-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Swift\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-golang-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Golang\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/get-started-with-nodejs/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Node.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-grid/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Grid\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-solidity-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Solidity\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-express-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Express.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/javascript-es-modules-and-module-bundlers/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn JS Modules\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/apache-kafka-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Apache Kafka\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/rest-api-design-best-practices-build-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">REST API Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/front-end-javascript-development-react-angular-vue-compared/\" rel=\"noopener noreferrer\" target=\"_blank\">Front-End JS Development\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-consume-and-document-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build REST APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-strongly-typed-polymorphic-components-with-react-and-typescript/\" rel=\"noopener noreferrer\" target=\"_blank\">Intermediate TS and React\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/command-line-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Command Line for Beginners\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-operating-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Intro to Operating Systems\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/building-consuming-and-documenting-a-graphql-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build GraphQL APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/oss-security-best-practices/\" rel=\"noopener noreferrer\" target=\"_blank\">OSS Security Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/design-patterns-for-distributed-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Distributed Systems Patterns\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-software-architecture-patterns/\" rel=\"noopener noreferrer\" target=\"_blank\">Software Architecture Patterns\n                    </a>\n                </li>\n            </ul>\n            <div class=\"spacer\" style=\"padding: 15px 0;\"></div>\n            <div>\n                <h2 id=\"mobile-app\" class=\"col-header\">\n                    Mobile App\n                </h2>\n                <div class=\"min-h-[1px] px-[15px] md:w-2/3 md:ml-[16.6%]\">\n                    <ul aria-labelledby=\"mobile-app\" class=\"mobile-app-container\">\n                        <li>\n                            <a href=\"https://apps.apple.com/us/app/freecodecamp/id6446908151?itsct=apps_box_link&itscg=30200\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/apple-store-badge.svg\" lang=\"en\" alt=\"Download on the App Store\">\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"https://play.google.com/store/apps/details?id=org.freecodecamp\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/google-play-badge.svg\" lang=\"en\" alt=\"Get it on Google Play\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer-bottom\">\n        <h2 class=\"col-header\" data-test-label=\"our-nonprofit\">Our Charity</h2>\n        <div class=\"our-nonprofit\">\n            <a href=\"https://www.freecodecamp.org/news/about/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"about\">\n                About\n            </a>\n            <a href=\"https://www.linkedin.com/school/free-code-camp/people/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"alumni\">\n                Alumni Network\n            </a>\n            <a href=\"https://github.com/freeCodeCamp/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"open-source\">\n                Open Source\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/shop/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"shop\">\n                Shop\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/support/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"support\">\n                Support\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/sponsors/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"sponsors\">\n                Sponsors\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/academic-honesty-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"honesty\">\n                Academic Honesty\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/code-of-conduct/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"coc\">\n                Code of Conduct\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/privacy-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"privacy\">\n                Privacy Policy\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/terms-of-service/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"tos\">\n                Terms of Service\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/copyright-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"copyright\">\n                Copyright Policy\n            </a>\n        </div>\n    </div>\n</footer>\n\n        </div>\n\n        \n        \n        \n\n        <!-- Google Tag Manager (noscript) -->\n<noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n<!-- End Google Tag Manager (noscript) -->\n\n        \n    <script defer src=\"https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015\" integrity=\"sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==\" data-cf-beacon='{\"rayId\":\"8ab69fe24caf8348\",\"serverTiming\":{\"name\":{\"cfL4\":true}},\"version\":\"2024.7.0\",\"token\":\"bdb993c6dde44e178aabd9555e75e4f4\"}' crossorigin=\"anonymous\"></script>\n</body>\n</html>\n"},"/news/how-to-monitor-your-air-quality-with-this-diy-setup-3399793137c3/":{"metadata":[{"tagName":"meta","attributes":{"charset":"utf-8"}},{"tagName":"meta","attributes":{"http-equiv":"X-UA-Compatible","content":"IE=edge"}},{"tagName":"title","attributes":{}},{"tagName":"meta","attributes":{"name":"HandheldFriendly","content":"True"}},{"tagName":"meta","attributes":{"name":"viewport","content":"width=device-width, initial-scale=1.0"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.googleapis.com"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com","crossorigin":""}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"/news/assets/css/global-26e2f3cde9.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/screen-926fddfac2.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/search-bar-124f5f949c.css"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js"}},{"tagName":"script","attributes":{},"scriptContent":"let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));"},{"tagName":"script","attributes":{"data-ad-client":"ca-pub-9482786369113753","src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js","crossorigin":"anonymous","async":""}},{"tagName":"link","attributes":{"rel":"icon","href":"https://cdn.freecodecamp.org/universal/favicons/favicon.ico","type":"image/png"}},{"tagName":"link","attributes":{"rel":"canonical","href":"https://www.freecodecamp.org/news/how-to-monitor-your-air-quality-with-this-diy-setup-3399793137c3/"}},{"tagName":"meta","attributes":{"name":"referrer","content":"no-referrer-when-downgrade"}},{"tagName":"meta","attributes":{"name":"description","content":"With a Raspberry Pi, low-cost gas sensors, and a remote-controlled switch, you can control the air quality in your house. The air we breathe indoors is not always healthier than the air outside. According to a study of the E.U. Joint Research Centre [http://europa.eu/rapid/press-release_IP-03-1278_en.htm], you can find a wide range"}},{"tagName":"meta","attributes":{"property":"og:site_name","content":"freeCodeCamp.org"}},{"tagName":"meta","attributes":{"property":"og:type","content":"article"}},{"tagName":"meta","attributes":{"property":"og:title","content":"How to monitor your air quality with this DIY setup"}},{"tagName":"meta","attributes":{"property":"og:description","content":"With a Raspberry Pi, low-cost gas sensors, and a remote-controlled switch, you can control the air quality in your house. The air we breathe indoors is not always healthier than the air outside. According to a study of the E.U. Joint Research Centre [http://europa.eu/rapid/press-release_IP-03-1278_en.htm], you can find a wide range"}},{"tagName":"meta","attributes":{"property":"og:url","content":"https://www.freecodecamp.org/news/how-to-monitor-your-air-quality-with-this-diy-setup-3399793137c3/"}},{"tagName":"meta","attributes":{"property":"og:image","content":"https://cdn-media-1.freecodecamp.org/images/1*d43dkbPP_oxPGy6o0WWvnw.jpeg"}},{"tagName":"meta","attributes":{"property":"article:published_time","content":"2019-02-19T16:02:04.000Z"}},{"tagName":"meta","attributes":{"property":"article:modified_time","content":"2019-06-13T21:58:05.000Z"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Raspberry Pi"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Python"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Programming"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Electronics"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"IoT"}},{"tagName":"meta","attributes":{"property":"article:publisher","content":"https://www.facebook.com/freecodecamp"}},{"tagName":"meta","attributes":{"name":"twitter:card","content":"summary_large_image"}},{"tagName":"meta","attributes":{"name":"twitter:title","content":"How to monitor your air quality with this DIY setup"}},{"tagName":"meta","attributes":{"name":"twitter:description","content":"With a Raspberry Pi, low-cost gas sensors, and a remote-controlled switch, you can control the air quality in your house. The air we breathe indoors is not always healthier than the air outside. According to a study of the E.U. Joint Research Centre [http://europa.eu/rapid/press-release_IP-03-1278_en.htm], you can find a wide range"}},{"tagName":"meta","attributes":{"name":"twitter:url","content":"https://www.freecodecamp.org/news/how-to-monitor-your-air-quality-with-this-diy-setup-3399793137c3/"}},{"tagName":"meta","attributes":{"name":"twitter:image","content":"https://cdn-media-1.freecodecamp.org/images/1*d43dkbPP_oxPGy6o0WWvnw.jpeg"}},{"tagName":"meta","attributes":{"name":"twitter:label1","content":"Written by"}},{"tagName":"meta","attributes":{"name":"twitter:data1","content":"Bert Carremans"}},{"tagName":"meta","attributes":{"name":"twitter:label2","content":"Filed under"}},{"tagName":"meta","attributes":{"name":"twitter:data2","content":"Raspberry Pi, Python, Programming, Electronics, IoT"}},{"tagName":"meta","attributes":{"name":"twitter:site","content":"@freecodecamp"}},{"tagName":"meta","attributes":{"property":"og:image:width","content":"800"}},{"tagName":"meta","attributes":{"property":"og:image:height","content":"531"}},{"tagName":"script","attributes":{"type":"application/ld+json"},"scriptContent":"{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://cdn-media-1.freecodecamp.org/images/1*d43dkbPP_oxPGy6o0WWvnw.jpeg\",\n\t\t\"width\": 800,\n\t\t\"height\": 531\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/how-to-monitor-your-air-quality-with-this-diy-setup-3399793137c3/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2019-02-19T16:02:04.000Z\",\n\t\"dateModified\": \"2019-06-13T21:58:05.000Z\",\n\t\"keywords\": \"Raspberry Pi, Python, Programming, Electronics, IoT\",\n\t\"description\": \"With a Raspberry Pi, low-cost gas sensors, and a remote-controlled switch, you\\ncan control the air quality in your house.\\nThe air we breathe indoors is not always healthier than the air outside.\\n\\nAccording to a study of the E.U. Joint Research Centre\\n[http://europa.eu/rapid/press-release_IP-03-1278_en.htm], you can find a wide\\nrange of air pollutants indoors. Some of them are toxic, or can cause genetic\\nmutations or cancer. Factors that influence indoor air quality are:\\n\\n * ambient air, or the a\",\n\t\"headline\": \"How to monitor your air quality with this DIY setup\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}"},{"tagName":"meta","attributes":{"name":"generator","content":"Eleventy"}},{"tagName":"link","attributes":{"rel":"alternate","type":"application/rss+xml","title":"freeCodeCamp.org","href":"https://www.freecodecamp.org/news/rss/"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com"}},{"tagName":"script","attributes":{},"scriptContent":"\nwindow.dataLayer = window.dataLayer || [];\n"},{"tagName":"script","attributes":{},"scriptContent":"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');"},{"tagName":"meta","attributes":{"name":"google-site-verification","content":"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E"}},{"tagName":"meta","attributes":{"name":"x-fcc-source","data-test-label":"x-fcc-source","content":"Ghost"}}],"html":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        \n        \n            <title>How to monitor your air quality with this DIY setup</title>\n        \n        <meta name=\"HandheldFriendly\" content=\"True\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin=\"\">\n        \n            <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap\">\n        \n\n        \n        \n    <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n</noscript>\n<link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n</noscript>\n\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js\"></script>\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js\"></script>\n\n\n\n        \n        <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"/news/assets/css/global-26e2f3cde9.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/screen-926fddfac2.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/search-bar-124f5f949c.css\">\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js\"></script>\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js\"></script>\n\n        \n        \n            <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js\"></script>\n        \n\n        \n        <script>let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));</script>\n\n        \n        \n    \n        \n            <script data-ad-client=\"ca-pub-9482786369113753\" src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\" crossorigin=\"anonymous\" async=\"\"></script>\n        \n    \n\n\n        \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n\n\n        \n        \n        \n\n        \n        \n\n        <link rel=\"icon\" href=\"https://cdn.freecodecamp.org/universal/favicons/favicon.ico\" type=\"image/png\">\n        \n        \n            <link rel=\"canonical\" href=\"https://www.freecodecamp.org/news/how-to-monitor-your-air-quality-with-this-diy-setup-3399793137c3/\">\n        \n        <meta name=\"referrer\" content=\"no-referrer-when-downgrade\">\n\n        \n\n        \n    <meta name=\"description\" content=\"With a Raspberry Pi, low-cost gas sensors, and a remote-controlled switch, you can control the air quality in your house. The air we breathe indoors is not always healthier than the air outside. According to a study of the E.U. Joint Research Centre [http://europa.eu/rapid/press-release_IP-03-1278_en.htm], you can find a wide range\">\n\n    \n    <meta property=\"og:site_name\" content=\"freeCodeCamp.org\">\n    <meta property=\"og:type\" content=\"article\">\n    <meta property=\"og:title\" content=\"How to monitor your air quality with this DIY setup\">\n    \n        <meta property=\"og:description\" content=\"With a Raspberry Pi, low-cost gas sensors, and a remote-controlled switch, you can control the air quality in your house. The air we breathe indoors is not always healthier than the air outside. According to a study of the E.U. Joint Research Centre [http://europa.eu/rapid/press-release_IP-03-1278_en.htm], you can find a wide range\">\n    \n    <meta property=\"og:url\" content=\"https://www.freecodecamp.org/news/how-to-monitor-your-air-quality-with-this-diy-setup-3399793137c3/\">\n    <meta property=\"og:image\" content=\"https://cdn-media-1.freecodecamp.org/images/1*d43dkbPP_oxPGy6o0WWvnw.jpeg\">\n    <meta property=\"article:published_time\" content=\"2019-02-19T16:02:04.000Z\">\n    <meta property=\"article:modified_time\" content=\"2019-06-13T21:58:05.000Z\">\n    \n        <meta property=\"article:tag\" content=\"Raspberry Pi\">\n    \n        <meta property=\"article:tag\" content=\"Python\">\n    \n        <meta property=\"article:tag\" content=\"Programming\">\n    \n        <meta property=\"article:tag\" content=\"Electronics\">\n    \n        <meta property=\"article:tag\" content=\"IoT\">\n    \n    <meta property=\"article:publisher\" content=\"https://www.facebook.com/freecodecamp\">\n    \n\n    \n    <meta name=\"twitter:card\" content=\"summary_large_image\">\n    <meta name=\"twitter:title\" content=\"How to monitor your air quality with this DIY setup\">\n    \n        <meta name=\"twitter:description\" content=\"With a Raspberry Pi, low-cost gas sensors, and a remote-controlled switch, you can control the air quality in your house. The air we breathe indoors is not always healthier than the air outside. According to a study of the E.U. Joint Research Centre [http://europa.eu/rapid/press-release_IP-03-1278_en.htm], you can find a wide range\">\n    \n    <meta name=\"twitter:url\" content=\"https://www.freecodecamp.org/news/how-to-monitor-your-air-quality-with-this-diy-setup-3399793137c3/\">\n    <meta name=\"twitter:image\" content=\"https://cdn-media-1.freecodecamp.org/images/1*d43dkbPP_oxPGy6o0WWvnw.jpeg\">\n    <meta name=\"twitter:label1\" content=\"Written by\">\n    <meta name=\"twitter:data1\" content=\"Bert Carremans\">\n    <meta name=\"twitter:label2\" content=\"Filed under\">\n    <meta name=\"twitter:data2\" content=\"Raspberry Pi, Python, Programming, Electronics, IoT\">\n    <meta name=\"twitter:site\" content=\"@freecodecamp\">\n    \n\n    <meta property=\"og:image:width\" content=\"800\">\n    <meta property=\"og:image:height\" content=\"531\">\n\n\n        \n    <script type=\"application/ld+json\">{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://cdn-media-1.freecodecamp.org/images/1*d43dkbPP_oxPGy6o0WWvnw.jpeg\",\n\t\t\"width\": 800,\n\t\t\"height\": 531\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/how-to-monitor-your-air-quality-with-this-diy-setup-3399793137c3/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2019-02-19T16:02:04.000Z\",\n\t\"dateModified\": \"2019-06-13T21:58:05.000Z\",\n\t\"keywords\": \"Raspberry Pi, Python, Programming, Electronics, IoT\",\n\t\"description\": \"With a Raspberry Pi, low-cost gas sensors, and a remote-controlled switch, you\\ncan control the air quality in your house.\\nThe air we breathe indoors is not always healthier than the air outside.\\n\\nAccording to a study of the E.U. Joint Research Centre\\n[http://europa.eu/rapid/press-release_IP-03-1278_en.htm], you can find a wide\\nrange of air pollutants indoors. Some of them are toxic, or can cause genetic\\nmutations or cancer. Factors that influence indoor air quality are:\\n\\n * ambient air, or the a\",\n\t\"headline\": \"How to monitor your air quality with this DIY setup\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}</script>\n\n\n        <meta name=\"generator\" content=\"Eleventy\">\n        <link rel=\"alternate\" type=\"application/rss+xml\" title=\"freeCodeCamp.org\" href=\"https://www.freecodecamp.org/news/rss/\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n\n<!-- dataLayer setup -->\n<script>\nwindow.dataLayer = window.dataLayer || [];\n</script>\n<!-- End dataLayer setup -->\n\n<!-- Google Tag Manager -->\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');</script>\n<!-- End Google Tag Manager -->\n\n\n<meta name=\"google-site-verification\" content=\"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E\">\n\n        \n        \n\n        \n  <meta name=\"x-fcc-source\" data-test-label=\"x-fcc-source\" content=\"Ghost\">\n\n    </head>\n\n    \n        <body class=\"home-template\">\n    \n        <div class=\"site-wrapper\">\n            <nav class=\"site-nav nav-padding\">\n    <div class=\"site-nav-left\">\n        \n<form id=\"search-form\" data-test-label=\"search-bar\">\n    <div role=\"search\" class=\"searchbox__wrapper\">\n        <label class=\"fcc_sr_only\" for=\"search-input\">\n            Search\n        </label>\n        <input type=\"search\" placeholder=\"\n    Search 11,200+ tutorials\n\" id=\"search-input\">\n        <button type=\"submit\" class=\"ais-SearchBox-submit\">\n            <svg class=\"ais-SearchBox-submitIcon\" xmlns=\"https://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 40 40\">\n    <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n</svg>\n\n            <span class=\"fcc_sr_only\">Submit your search query</span>\n        </button>\n        <div id=\"dropdown-container\"></div>\n    </div>\n</form>\n\n    </div>\n    <div class=\"site-nav-middle\">\n        <a class=\"site-nav-logo\" href=\"https://www.freecodecamp.org/news/\" data-test-label=\"site-nav-logo\"><img src=\"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\" alt=\"freeCodeCamp.org\"></a>\n    </div>\n    <div class=\"site-nav-right\">\n        <div class=\"nav-group\">\n            <a class=\"nav-forum\" id=\"nav-forum\" rel=\"noopener noreferrer\" href=\"https://forum.freecodecamp.org/\" target=\"_blank\" data-test-label=\"forum-button\">Forum</a>\n            <a class=\"toggle-button-nav\" id=\"nav-donate\" rel=\"noopener noreferrer\" href=\"https://www.freecodecamp.org/donate/\" target=\"_blank\" data-test-label=\"donate-button\">Donate</a>\n        </div>\n    </div>\n</nav>\n\n\n            \n            <a class=\"banner\" id=\"banner\" data-test-label=\"banner\" rel=\"noopener noreferrer\" target=\"_blank\">\n    <p id=\"banner-text\"></p>\n</a>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const e=document.getElementById(\"banner\"),t=document.getElementById(\"banner-text\");isAuthenticated?(t.innerHTML=\"Support our charity and our mission. <span>Donate to freeCodeCamp.org</span>.\",e.href=\"https://www.freecodecamp.org/donate\",e.setAttribute(\"text-variation\",\"authenticated\")):isDonor?(t.innerHTML=\"Thank you for supporting freeCodeCamp through <span>your donations</span>.\",e.href=\"https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp/\",e.setAttribute(\"text-variation\",\"donor\")):(t.innerHTML=\"Learn to code — <span>free 3,000-hour curriculum</span>\",e.href=\"https://www.freecodecamp.org/\",e.setAttribute(\"text-variation\",\"default\"))}));</script>\n\n\n            <div id=\"error-message\"></div>\n\n            \n    <main id=\"site-main\" class=\"post-template site-main outer\">\n        <div class=\"inner ad-layout\">\n            <article class=\"post-full post\">\n                <header class=\"post-full-header\">\n                    <section class=\"post-full-meta\">\n                        <time class=\"post-full-meta-date\" data-test-label=\"post-full-meta-date\" datetime=\"Tue Feb 19 2019 16:02:04 GMT+0000 (Coordinated Universal Time)\">\n                            February 19, 2019\n                        </time>\n                        \n                            <span class=\"date-divider\">/</span>\n                            <a dir=\"ltr\" href=\"/news/tag/raspberry-pi/\">\n                                #Raspberry Pi\n                            </a>\n                        \n                    </section>\n                    <h1 class=\"post-full-title\" data-test-label=\"post-full-title\">How to monitor your air quality with this DIY setup</h1>\n                </header>\n                <div class=\"post-full-author-header\" data-test-label=\"author-header-no-bio\">\n                    \n                        \n                            \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content author-card-content-no-bio\">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n        </section>\n    </section>\n\n                        \n                    \n                </div>\n                <figure class=\"post-full-image\">\n                    \n    <picture>\n      <source media=\"(max-width: 700px)\" sizes=\"1px\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w\">\n      <source media=\"(min-width: 701px)\" sizes=\"(max-width: 800px) 400px, (max-width: 1170px) 700px, 1400px\" srcset=\"https://cdn-media-1.freecodecamp.org/images/1*d43dkbPP_oxPGy6o0WWvnw.jpeg\">\n      <img onerror=\"this.style.display='none'\" src=\"https://cdn-media-1.freecodecamp.org/images/1*d43dkbPP_oxPGy6o0WWvnw.jpeg\" alt=\"How to monitor your air quality with this DIY setup\" ,=\"\" width=\"800\" height=\"531\" data-test-label=\"feature-image\">\n    </picture>\n  \n                </figure>\n                <section class=\"post-full-content\">\n                    <div class=\"post-and-sidebar\">\n                        <section class=\"post-content \" data-test-label=\"post-content\">\n                            \n<h4 id=\"with-a-raspberry-pi-low-cost-gas-sensors-and-a-remote-controlled-switch-you-can-control-the-air-quality-in-your-house-\">With a Raspberry Pi, low-cost gas sensors, and a remote-controlled switch, you can control the air quality in your house.</h4><p>The air we breathe indoors is not always healthier than the air outside.</p><p>According to a study of the <a href=\"http://europa.eu/rapid/press-release_IP-03-1278_en.htm\" rel=\"noopener\">E.U. Joint Research Centre</a>, you can find a wide range of air pollutants indoors. Some of them are toxic, or can cause genetic mutations or cancer. Factors that influence indoor air quality are:</p><ul><li>ambient air, or the air outdoors</li><li>air tightness and ventilation of the building</li><li>indoor sources like tobacco smoke, heating gases, consumer products, etc.</li></ul><p>Do you know how much time you spend indoors? According to the Environmental Protection Agency, Americans spend <a href=\"https://www.nature.com/articles/7500165\" rel=\"noopener\">87% of their time indoors</a>. In Europe, this average percentage is 90%, according to the JRC. And the more time we spent indoors, the more pollutants we inhale.</p><p>So it would be interesting if we track the indoor air quality. In this article, I will explain how I did this with a <a href=\"https://www.raspberrypi.org/\" rel=\"noopener\">Raspberry Pi</a>, a <a href=\"https://www.dexterindustries.com/grovepi/\" rel=\"noopener\">GrovePi</a> and some sensors. We will upload the sensor data to a <a href=\"https://firebase.google.com/\" rel=\"noopener\">Firebase</a> database and visualize trends with <a href=\"https://dash.plot.ly/\" rel=\"noopener\">Dash</a>.</p><p>When pollutant levels reach an unhealthy level, we can send an alert notification to warn us.</p><p>Moreover, it would be great if we could automatically start up the ventilation to purify the air. This can be done with a <a href=\"https://www.raspberrypi.org/blog/controlling-electrical-sockets-with-energenie-pi-mote/\" rel=\"noopener\">remote-controlled switch from Energenie</a>.</p><h4 id=\"raspberry-pi-and-grovepi\">Raspberry Pi and GrovePi</h4><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://cdn-media-1.freecodecamp.org/images/A50dJjzt1x9eSTy0qoMm8trrsQ0M3GiAGM1t\" class=\"kg-image\" alt=\"A50dJjzt1x9eSTy0qoMm8trrsQ0M3GiAGM1t\" width=\"350\" height=\"278\" loading=\"lazy\"><figcaption>Raspberry Pi model 2B</figcaption></figure><p>In this project, I will use a Raspberry Pi model 2B. The Raspberry Pi is a low-cost small computer. It enables programmers and makers to build anything they can imagine.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://cdn-media-1.freecodecamp.org/images/M4xPtxNXeO6K2NCIA6WXpHLMQvGdG77xAd10\" class=\"kg-image\" alt=\"M4xPtxNXeO6K2NCIA6WXpHLMQvGdG77xAd10\" width=\"350\" height=\"263\" loading=\"lazy\"><figcaption>GrovePi (blue board) attached to a Raspberry Pi</figcaption></figure><p>The GrovePi is an electronics board that we attach to the Raspberry Pi. It makes connecting a wide range of sensors easy. As such, you don’t need to bother about a breadboard, resistors, soldering or jumper wires. You can plug in a connector and start working with it.</p><h4 id=\"data-flow\">Data flow</h4><p>In the illustration below you see how the sensor data will flow from the sensors to the charts on a web page. We’ll be using Python to do all that.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://cdn-media-1.freecodecamp.org/images/fNyezC61-WH5nzRtVLodEZriNHkihVwLQz9c\" class=\"kg-image\" alt=\"fNyezC61-WH5nzRtVLodEZriNHkihVwLQz9c\" width=\"800\" height=\"211\" loading=\"lazy\"><figcaption>Data flow from a GrovePi and a Raspberry Pi to Firebase to a web page hosted on PythonAnywhere.</figcaption></figure><p>The first step is to pull in the data from the Grove sensors. Then we process the data on the Raspberry Pi and send them to a Firebase database. This data is also used to switch on or off a ventilation unit via a remote controlled switch.</p><p>We can get the stored data with a script running on PythonAnywhere.com. With the Dash package, we can build a dashboard to follow up the indoor air quality.</p><h4 id=\"gas-sensors\">Gas sensors</h4><p>We will use a set of three different gas sensors for this project. I use Grove gas sensors and connect them to the GrovePi.</p><p>It is not necessary to use all three sensors in your own project. Feel free to choose sensors that fit your needs. You can do that in the <code>config.py</code> file by keeping the sensors you need in the Python dictionary <code>MQ_SENSORS.</code></p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://cdn-media-1.freecodecamp.org/images/ZYw4C3gJXMR1SOZ5cdz81uJkdfQejUdxiy3y\" class=\"kg-image\" alt=\"ZYw4C3gJXMR1SOZ5cdz81uJkdfQejUdxiy3y\" width=\"760\" height=\"244\" loading=\"lazy\"><figcaption>Grove gas sensors</figcaption></figure><p>Each sensor detects a specific set of gases. There is quite some overlap between the sensors with regard to the gases they detect. But, the range in which the sensors detect a gas can differ. You can find the ranges on the <a href=\"http://wiki.seeedstudio.com/How_to_Chose_A_Gas_Sensor/\" rel=\"noopener\">website of Seeedstudio</a>.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://cdn-media-1.freecodecamp.org/images/aXpnoZufynmqRnxESFGV9LiKPJGQ0fm2OAmV\" class=\"kg-image\" alt=\"aXpnoZufynmqRnxESFGV9LiKPJGQ0fm2OAmV\" width=\"800\" height=\"498\" loading=\"lazy\"><figcaption>Gases detected per sensor type</figcaption></figure><h4 id=\"temperature-and-humidity-sensor\">Temperature and Humidity sensor</h4><p>Temperature and humidity influence the readings from the gas sensors. So, it is interesting to measure temperature and humidity as well. We use the Grove BME680 sensor for that.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://cdn-media-1.freecodecamp.org/images/8PZoW1BkZtV2xNa3nHXAxT5-xfV1p2ltalSv\" class=\"kg-image\" alt=\"8PZoW1BkZtV2xNa3nHXAxT5-xfV1p2ltalSv\" width=\"259\" height=\"194\" loading=\"lazy\"><figcaption>Grove BME680 to measure temperature and humidity</figcaption></figure><h3 id=\"working-with-sensor-data\">Working with sensor data</h3><p>In short, a gas sensor will output a higher voltage when the concentration of a gas is higher. This is because the built-in resistor varies its resistance (Rs) according to the concentration of the gas.</p><p>The sensor value only reflects an approximation of a trend in the gas concentration. This means that you can use it to show whether the gas concentration increases or decreases. It does not give the exact gas concentration. If you want to measure the actual concentration, you would need a more expensive sensor.</p><p>For learning purposes, we will use the sensor value to approximate the gas concentration. You should keep that in mind. <strong>You should not use these scripts in real-life situations to prevent intoxication by these gases!</strong></p><p>On the datasheets listed below, you find a graph with the relation between the gas concentration and sensor resistor values. The gas concentration is expressed in parts per million (ppm). The resistor values as the ratio Rs/R0.</p><ul><li><a href=\"https://raw.githubusercontent.com/SeeedDocument/Grove-Gas_Sensor-MQ2/master/res/MQ-2.pdf\" rel=\"noopener\">MQ2 datasheet</a></li><li><a href=\"https://raw.githubusercontent.com/SeeedDocument/Grove-Gas_Sensor-MQ5/master/res/MQ-5.pdf\" rel=\"noopener\">MQ5 datasheet</a></li><li><a href=\"https://raw.githubusercontent.com/SeeedDocument/Grove-Gas_Sensor-MQ9/master/res/MQ-9.pdf\" rel=\"noopener\">MQ9 datasheet</a></li></ul><p>The curves below correspond to the standard conditions of:</p><ul><li>a temperature of 20°C</li><li>a humidity of 65%</li><li>an oxygen concentration of 21%</li><li>a load resistance of 5 kilo-Ohm. The load resistance is the total resistance of an electronic circuit.</li></ul><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://cdn-media-1.freecodecamp.org/images/ISA1CBYm5WM3hWuxAU5wsSXEhZ87aQv54Kr8\" class=\"kg-image\" alt=\"ISA1CBYm5WM3hWuxAU5wsSXEhZ87aQv54Kr8\" width=\"800\" height=\"702\" loading=\"lazy\"><figcaption>Curves displaying the relation between gas concentrations and sensor resistance values. Both the x-axis and y-axis are on a log scale.</figcaption></figure><p>We can assume that the load resistance and oxygen concentration are stable over time. Yet, the temperature and humidity indoors can vary. Both factors have an influence on the sensor readings, as you can see in the graph below.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://cdn-media-1.freecodecamp.org/images/QgM73v0r-BeZXMFVFb9PW9rttlbEKOlbPnCh\" class=\"kg-image\" alt=\"QgM73v0r-BeZXMFVFb9PW9rttlbEKOlbPnCh\" width=\"800\" height=\"406\" loading=\"lazy\"><figcaption>Influence of different temperatures and humidities (RH) on sensor resistance values in the MQ2 sensor for a hydrogen (H2) concentration of 1.000 ppm.</figcaption></figure><p>To get accurate readings, you should have a graph or look-up table for various temperature-humidity combinations. Unfortunately, these graphs are not provided by the manufacturer.</p><p>Another approach is to correct the sensor readings for the temperature-humidity influence.</p><p>We can do this with artificial neural networks, as proposed in the <a href=\"https://www.uni-obuda.hu/journal/Nenova_Dimchev_41.pdf\" rel=\"noopener\">paper by Nenova &amp; Dimchev</a>. That approach requires ground-truth measurements of the gas concentrations. This is out of scope for this article.</p><h4 id=\"defining-the-r0-value\">Defining the R0 value</h4><p>First, we need to compute the R0 value. R0 stands for the sensor resistance value of 1.000 ppm of hydrogen (H2)in clean air. The ratio for clean air (black line with blue crosses) is constant. It remains at 9.8 regardless of the concentration of clean air. So, we can compute R0 by reading the sensor value (Rs) in clean air and dividing it by 9.8.</p><p>The value we get from the sensor is a value between 0 and 1.023 and has no measurement unit. So, to get the output voltage we divide the sensor value by 1.023. We multiply this value with the circuit voltage, which is usually 5V.</p><p>From the sensor voltage, we can derive the sensor resistance by applying <a href=\"https://en.wikipedia.org/wiki/Ohm%27s_law\" rel=\"noopener\">Ohm’s law</a>. The sensor resistance is equal to</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://cdn-media-1.freecodecamp.org/images/HipHVSJozj6CkZ3TKlEHQlAJTdb5D-dsmsLZ\" class=\"kg-image\" alt=\"HipHVSJozj6CkZ3TKlEHQlAJTdb5D-dsmsLZ\" width=\"191\" height=\"32\" loading=\"lazy\"><figcaption>Vc is the circuit voltage and Vs is the sensor voltage</figcaption></figure><p>Let’s see how we do that with Python. The complete code and more documentation can be found on <a href=\"https://github.com/bertcarremans/air_quality_monitoring\" rel=\"noopener\">Github</a> in the script <code>get_R0_values.py</code>.</p><pre><code class=\"language-python\">import config as cfg\nimport grovepi\nimport time</code></pre><p>First, we import some packages. The <code>config</code> package is a Python script I made to store all configuration parameters.</p><p>Throughout the code, you’ll notice that I sometimes refer to <code>cfg.PARAMETER_NAME</code>. We set the<code>PARAMETER_NAME</code> value in that <code>config.py</code> file. It also contains some passwords and API tokens.</p><p>For security reasons, I will not save that file on <a href=\"https://github.com/bertcarremans/air_quality_monitoring\" rel=\"noopener\">Github</a>. Instead, I’ll provide a clean template <code>config_template.py</code> that you can use for your own project.</p><p>Next, we import the <code>grovepi</code> package. You can install it from the <a href=\"https://github.com/DexterInd/GrovePi/tree/master/Software/Python\" rel=\"noopener\">Github page of Dexter Industries</a> on your Raspberry Pi. It allows us to work with the GrovePi and the connected sensors.</p><p>Finally, we use the <code>time</code> package to pause the program during sensor readings.</p><pre><code>mq_values = {}\n\nfor sensor, data in cfg.MQ_SENSORS.items():\n    grovepi.pinMode(data['pin'],\"INPUT\")\n    mq_values[sensor] = 0</code></pre><p>We will store the sensor values for the different sensors in the dictionary <code>mq_values</code>. But first, we initialize the values to zero in a loop over the sensors defined in <code>MQ_SENSORS</code>.</p><p>With the <code>pinMode</code> method, you can define the pin as <code>INPUT</code> or <code>OUTPUT.</code> In our case, we’ll use it as <code>INPUT</code>.</p><p>The <code>pin</code> tells us to which pin on the GrovePi the sensor is connected. We use the analog pins (or ports) which are labeled as A0, A1 and A2 on the GrovePi. Make sure you connect the right sensor to the port described in the <code>config.py</code> file.</p><pre><code>for i in range(cfg.NB_R0_READ):\n    for sensor, value in mq_values.items():\n        mq_values[sensor] += grovepi.analogRead(cfg.MQ_SENSORS[sensor]['pin'])\n    time.sleep(cfg.R0_INTERVAL)</code></pre><p>We then read the sensor value in a loop for <code>cfg.NB_R0_READ</code> times and sum it up in <code>mq_value[sensor]</code>. We read the sensor value with the <code>analogRead</code> method of the <code>grovepi</code> package.</p><p>As described in the <a href=\"https://www.dexterindustries.com/GrovePi/programming/python-library-documentation/\" rel=\"noopener\">documentation</a>, this will return a value between 0 and 1.023. In fact, it converts an analog sensor value to a digital value.</p><p>After one reading for all sensors, we pause the program at <code>cfg.R0_INTERVAL</code> seconds. To get the average value, we divide the cumulated value by <code>cfg.NB_RO_READ.</code></p><pre><code>for sensor, value in mq_values.items():\n    mq_values[sensor] = mq_values[sensor]/cfg.NB_R0_READ\n    mq_values[sensor] = mq_values[sensor]/cfg.AR_MAX * cfg.VC\n    mq_values[sensor] = (cfg.VC - mq_values[sensor])/mq_values[sensor]\n    mq_values[sensor] = mq_values[sensor]/cfg.MQ_SENSORS[sensor]['r0_rs_air']</code></pre><p>We compute the sensor voltage by dividing the averaged sensor value by <code>cfg.AR_MAX</code>. Then we multiply it by the circuit voltage <code>cfg.VC</code>.</p><p>From that voltage, we can apply Ohm’s law and compute the sensor resistance value. Dividing that by the ratio for clean air <code>cfg.MQ_SENSORS[sensor]['r0_rs_air'] </code>gives us R0.</p><p>It is better to have the sensor working at least for 24 hours before you measure the R0 value. This will give more stable sensor readings.</p><h4 id=\"linear-interpolation-of-gas-concentration\">Linear interpolation of gas concentration</h4><p>Now that we know the R0 value, we can compute the Rs/R0 ratio with the sensor value. With that ratio, we can derive the gas concentration with <a href=\"https://en.wikipedia.org/wiki/Linear_interpolation\" rel=\"noopener\">linear interpolation</a>.</p><p>For that, we assume that we are working in the standard conditions described for the first graph. In that case, the curves are nearly linear.</p><p>For linear interpolation, we need two known points of each curve to calculate its slope. Suppose we have two points with the coordinates (x1, y1) and (x2, y2). The y-values stand for the Rs/R0 values and the x-values for the gas concentrations. For a linear curve, the slope is then calculated as:</p><figure class=\"kg-card kg-image-card\"><img src=\"https://cdn-media-1.freecodecamp.org/images/JadXCd-aISp-O16p2TcXsGD8kMaCGptYIwIs\" class=\"kg-image\" alt=\"JadXCd-aISp-O16p2TcXsGD8kMaCGptYIwIs\" width=\"369\" height=\"32\" loading=\"lazy\"></figure><p>When we know the slope, we can find the gas concentration(x) for any given Rs/R0 value (y). The formula for this is:</p><figure class=\"kg-card kg-image-card\"><img src=\"https://cdn-media-1.freecodecamp.org/images/nSsOuEVNkeRnpvWPOPNKm0z-iuK8Z4QTyNpK\" class=\"kg-image\" alt=\"nSsOuEVNkeRnpvWPOPNKm0z-iuK8Z4QTyNpK\" width=\"334\" height=\"33\" loading=\"lazy\"></figure><p>The code snippets below come from the script <code>get_sensor_values.py</code> which you can find on <a href=\"https://github.com/bertcarremans/air_quality_monitoring\" rel=\"noopener\">Github</a>.</p><p>We put the formula in a function <code>get_ppm.</code> <code>curve['y']</code> and <code>curve['x']</code> are the known points on the curve for a gas. <code>curve['slope']</code> is what we calculated with the previous formula.</p><p>You can find these values in the <code>config_template.py</code> file. I derived these values with <a href=\"https://automeris.io/WebPlotDigitizer/\" rel=\"noopener\">Webplotdigitizer</a> from the graphs on the data sheets. As a result, these values are not completely accurate. Use them with caution.</p><p>Note the use of <code>np.log10</code> and <code>np.power.</code> This reason for this is that the axes on the graph are in a log-scale.</p><pre><code>def get_ppm(Rs_R0_ratio, curve):\n    x_val = (np.log10(Rs_R0_ratio) - curve['y'])/curve['slope'] + curve['x']\n    ppm_val = np.power(x_val, 10)\n    return ppm_val</code></pre><p>We calculate the <code>Rs_R0_ratio</code> in the same manner as when calculating the R0 value. So I will not repeat this. To calculate this ratio, we loop over all gases and sensors and store this in <code>ppm_values[mq_sensor][gas].</code></p><pre><code class=\"language-python\">for gas, curve in cfg.CURVES[mq_sensor].items():\n                ppm_values[mq_sensor][gas] = get_ppm(mq_values[mq_sensor], curve)</code></pre><h4 id=\"temperature-humidity-and-pressure\">Temperature, humidity and pressure</h4><p>Besides the gas sensors, we read the temperature, humidity and pressure with the BME680 sensor. The BME680 sensor is connected to the GrovePi via an I2C port. To use the sensor, we import the package which can be installed from the <a href=\"https://github.com/pimoroni/bme680-python\" rel=\"noopener\">Pimoroni repo</a> on Github.</p><pre><code>import bme680</code></pre><p>The <code>set_..._oversample</code> methods specify how many samples we take to calculate the average value. We also did that for the gases. With <code>get_sensor_data</code> we read the sensor values.</p><pre><code class=\"language-python\">bme680_sensor = bme680.BME680(bme680.I2C_ADDR_PRIMARY)\nbme680_sensor.set_humidity_oversample(bme680.OS_2X)\nbme680_sensor.set_pressure_oversample(bme680.OS_4X)\nbme680_sensor.set_temperature_oversample(bme680.OS_8X)\nbme680_sensor.get_sensor_data()</code></pre><pre><code>bme680_sensor.get_sensor_data()</code></pre><h3 id=\"storing-and-retrieving-sensor-data-in-cloud-firestore\">Storing and retrieving sensor data in Cloud Firestore</h3><p>Some sensors provide new readings very fast. Other (less expensive) sensors will take more time. For this project, we will read the data every minute. This is set in the config file with <code>FIREBASE_INTERVAL = 60</code>.</p><p>In the free Spark plan of Firebase, the <a href=\"https://firebase.google.com/docs/firestore/quotas\" rel=\"noopener\">Cloud Firestore quota</a> allow for 20K writes per day. With a one-minute interval, we will be well below that quota. The limit for reading documents in the Firestore is 50K per day.</p><p>You’ll need to create a Firebase project and <a href=\"https://firebase.google.com/docs/firestore/quickstart\" rel=\"noopener\">create a Cloud Firestore</a>. After that, make sure to <a href=\"https://firebase.google.com/docs/admin/setup\" rel=\"noopener\">generate the credentials</a> to authenticate your application. Save the credentials file in a secure location.</p><p>To work with Firebase via Python, we need to import the <code>firebase_admin </code>package. This package needs to be installed on your Raspberry Pi first, if needed.</p><pre><code class=\"language-python\">import firebase_admin\nfrom firebase_admin import credentials\nfrom firebase_admin import firestore</code></pre><p>After that, we can initialize the Firebase app with credentials. I store the location to the credentials file in <code>cfg.FIREBASE_CREDS_JSON</code>. When the app is initialized, we create a Firestore object <code>db</code>.</p><pre><code class=\"language-python\">firebase_path = Path.cwd() / cfg.FIREBASE_CREDS_JSON\ncred = credentials.Certificate(str(firebase_path))\nfirebase_admin.initialize_app(cred)</code></pre><p>After processing the gas values, it is time to store them in the Cloud Firestore. We will create a dictionary <code>firebase_values</code> to gather all the data. With a dict comprehension, we add the values for all gases for all MQ sensors. The BME680 values and timestamp are also added.</p><p>With the <code>add</code> method of the Firestore object <code>db</code>, it is easy to store the data in the Firestore.</p><p>The name of the collection in the Firestore is <code>cfg.FIREBASE_DB_NAME</code>. Learn more about the <a href=\"https://firebase.google.com/docs/firestore/data-model\" rel=\"noopener\">data model of Firestore</a> on the Firebase website.</p><pre><code class=\"language-python\">firebase_values = {mq_sensor + '_' + gas + '_ppm': ppm\n                            for mq_sensor, gases in ppm_values.items()\n                            for gas, ppm in gases.items()\n                          }\nfirebase_values['temperature'] = bme680_sensor.data.temperature\nfirebase_values['pressure'] = bme680_sensor.data.pressure\nfirebase_values['humidity'] = bme680_sensor.data.humidity\nfirebase_values['date'] = datetime.now()\ndb.collection(cfg.FIREBASE_DB_NAME).add(firebase_values)</code></pre><p>After storing the data, we wait a minute to start over with the following line of code.</p><pre><code>time.sleep(cfg.FIREBASE_INTERVAL)</code></pre><h3 id=\"improving-the-air-quality\">Improving the air quality</h3><p>If the air quality indoors is not good we should take measures to improve it. Before we can do that, we need to be notified about critical gas concentrations.</p><p>One possibility is to send an alert notification by email, which we’ll discuss below.</p><p>Sometimes the source of indoor air pollution comes from outdoor air. For example, when your neighbors have wood-burning stoves or when you live near a factory.</p><p>In that case, you could install your measurement station outside and turn off the ventilation unit in your house if outdoor air quality is bad. With a remote-controlled switch, this can be done easily.</p><p>All code for this section is in <code>improve_air_quality.py</code> on Github.</p><h4 id=\"sending-notifications-when-air-quality-reaches-a-critical-level\">Sending notifications when air quality reaches a critical level</h4><p>We do not want to send an email each time the sensor outputs critical values (here, each minute).</p><p>Let’s say we want to check each hour whether there were critical values in the last hour. For that, we need to keep track of a <code>reference_time.</code> We initialize this when the program for readings sensor values starts. The interval at which we check again for critical gas concentrations is defined in <code>cfg.ALERT_INTERVAL</code>.</p><pre><code>reference_time = datetime.now()</code></pre><p>When an hour has passed since <code>reference_time</code>, we can start to check if there were critical air pollutant values. We update <code>reference_time</code> with the current time.</p><p>With the <code>pytz</code> package, we can take into account our timezone. In my case, that is <code>Europe/Brussels.</code> We compute <code>one_hour_ago</code> by subtracting 60 minutes from the current time.</p><pre><code>if datetime.now() &gt; reference_time + timedelta(minutes=cfg.ALERT_INTERVAL):\n    reference_time = datetime.now()\n    brussels_tz = pytz.timezone('Europe/Brussels')\n    prev_check_time = brussels_tz.localize(datetime.now()) - timedelta(minutes=cfg.ALERT_INTERVAL)</code></pre><p>With <code>prev_check_time </code>we extract the sensor readings from Firebase of the last hour. We do that by applying a <code>where</code> clause to the data that we <code>get</code> from the Cloud Firestore.</p><p>In this script, we will only use one gas sensor and a limited set of gases. The sensor is selected in <code>cfg.ALERT_SENSOR.</code> The gases are selected in <code>cfg.ALERT_GASES.</code> The data per gas is appended to <code>ppm_vals</code> as well as the <code>timestamps.</code></p><pre><code>timestamps = []\nppm_vals = {}\nfor gas in cfg.ALERT_GASES:\n    ppm_vals[gas] = []\n            \ndocs = db.collection(cfg.FIREBASE_DB_NAME).order_by(u'date').where(u'date', '&gt;=', one_hour_ago).get()\n            \nfor doc in docs:\n    data = doc.to_dict()\n    for gas in cfg.ALERT_GASES:\n        ppm_vals[gas].append(data[cfg.ALERT_SENSOR + gas + '_ppm'])\n\n    timestamps.append(data['date'].strftime('%H:%M:%S'))</code></pre><p>We look for critical values with the function <code>find_crit_val.</code> We will only check if the value surpassed an upper bound <code>ubound</code>. These upper bounds need to be specified in the config file.</p><p>The data are in ascending chronological order. Thus, we can use the <code>next</code> method to find the first timestamp for which <code>v &gt; ubound</code>. We return a tuple containing the timestamp of the critical value and the critical value itself.</p><p>If there is no critical value, we return the tuple <code>(None, None).</code></p><pre><code>def find_crit_val(timestamps, val_list, ubound):\n    try:\n        (crit_time, crit_value) = next(((i,v) for i, v in zip(timestamps, val_list) if v &gt; ubound))          \n    except:\n        (crit_time, crit_value) = (None,None)\n    return (crit_time, crit_value)</code></pre><p>The critical tuples are stored in a dictionary <code>crit_dict.</code> As the key, we use the gas name. We then check for gas-sensor combinations with a critical timestamp and critical value. In that case, we add an alert message to <code>critical_msg.</code></p><pre><code>crit_dict = {}\nfor gas in cfg.ALERT_GASES:\n    (crit_time, crit_value) = find_crit_val(timestamps, ppm_vals[gas], cfg.UPPERBOUNDS[gas])\n    crit_dict[gas] = (crit_time, crit_value)\ncritical_msg = ''\n    for k, v in crit_dict.items():\n        if v[0] is not None and v[1] is not None:\n            critical_msg += '\\nCritical value for ' + k + ' of ' + str(v[1]) + cfg.UNITS[k] + ' at ' + str(v[0])</code></pre><p>If <code>critical_msg</code> is not empty, we send an email. Sending an email is done with the <code>smtplib</code> package. How to send an email with Python is explained on <a href=\"https://automatetheboringstuff.com/chapter16/\" rel=\"noopener\">AutomateThe BoringStuff.com</a>.</p><p>You need to generate an <a href=\"https://support.google.com/mail/?p=InvalidSecondFactor\" rel=\"noopener\">application-specific password</a> for your email if you are using Google’s two-factor authentication.</p><pre><code>if critical_msg != '':\n    try:\n        msg = MIMEText(critical_msg, _charset='utf-8')\n        msg['Subject'] = Header('Air Quality Alert', 'utf-8')\n        smtpObj = smtplib.SMTP('smtp.gmail.com', 587)\n        smtpObj.ehlo()\n        smtpObj.starttls()\n        smtpObj.login(cfg.EMAIL, cfg.EMAIL_PW)\n        smtpObj.sendmail(cfg.EMAIL, cfg.EMAIL, msg.as_string())\n        smtpObj.quit()  \n    except smtplib.SMTPException:\n        print('Something went wrong while sending the email')</code></pre><h4 id=\"automatically-control-your-ventilation-unit\">Automatically control your ventilation unit</h4><p>With a remote-controlled switch, we can turn on or off any device that is connected to it. Thus, also a ventilation unit. <a href=\"https://energenie.com/\" rel=\"noopener\">Energenie</a> creates the PiMote add-on specifically for the Raspberry Pi. To control the Energenie switch, you need to install the <code>energenie</code> package and import it.</p><p>Note that you can not attach the PiMote on top of the GrovePi. So you’ll need a second Raspberry Pi.</p><p>When starting the script, the first thing we do is define a boolean variable <code>ventilation_on.</code> We set it to <code>False</code> because this is the first time we run the script.</p><pre><code>import energenie\nventilation_on = False</code></pre><p>If <code>critical_msg</code> is not empty, there was a critical gas concentration in the last alert interval. In that case, we turn on the ventilation with the <code>switch_on</code> method of the energenie package.</p><p>If there was no critical gas concentration and the ventilation was switched on in the last alert interval, we can switch it off.</p><p>You might need to set another interval before switching your ventilation off. That depends on the flow rate of your ventilation unit, the gases measured and whether the pollution source has been disabled.</p><pre><code>if critical_msg != '':\n    if not ventilation_on:\n        energenie.switch_on(1)\n        ventilation_on = True\nelse:\n    if ventilation_on:\n        energenie.switch_off(1)\n        ventilation_on = False</code></pre><h3 id=\"visualization-of-air-quality-with-dash\">Visualization of air quality with Dash</h3><p>A notification with critical gas concentrations can help to take immediate action. But it is also interesting to track the gas concentrations over time. By visualizing the sensor values in a dashboard, we can look at the trend of the gas concentrations. This can be done with Dash. On the website of Dash, you can find a <a href=\"https://dash.plot.ly/\" rel=\"noopener\">great tutorial</a> on how to get started.</p><p>In this project, we will build a dashboard and host it on <a href=\"https://www.pythonanywhere.com/\" rel=\"noopener\">PythonAnyWhere.com</a>. To use Dash on PythonAnywhere, you need to create a <a href=\"https://help.pythonanywhere.com/pages/Virtualenvs/\" rel=\"noopener\">virtual environment</a>. You can follow the steps of <a href=\"https://github.com/conradho/dashingdemo\" rel=\"noopener\">this demo</a> on how to set-up a Dash app on PythonAnyWhere.</p><p>Below I will show how I built the dashboard for our air quality station. The full script can be found in plot_sensor_values.py on <a href=\"https://github.com/bertcarremans/air_quality_monitoring\" rel=\"noopener\">Github</a>.</p><p>First of all, you need to import the <code>dash</code> package.</p><pre><code>import dash\nimport dash_core_components as dcc\nimport dash_html_components as html</code></pre><p>In the demo on the Dash website, they use a link to a Cascading Style Sheet (CSS) to provide a nice page design. If you want to <a href=\"https://dash.plot.ly/external-resources\" rel=\"noopener\">use a local CSS</a> on your laptop or web server, you can add an assets folder. In that folder you can add your CSS and Dash will pick it up from there.</p><p>Then you’ll need to get the data from Firebase. This can be done similarly as we did for sending the alert notifications. So we will not go over that again.</p><p>With the data collected from Firebase, we can fill the graphs in our dashboard. We first create a Dash object <code>app</code> and give it a <code>title.</code></p><pre><code>app = dash.Dash(__name__)\napp.title = 'Indoor Air Quality Dashboard'</code></pre><p>Then we create the <code>layout</code> of the dashboard. A <code>H1</code> heading component, a <code>container</code> div and a div containing the <code>graphs.</code></p><pre><code>app.layout = html.Div([\n    html.H1(style={'textAlign':'center'}, children='Indoor Air Quality Dashboard'),\n    html.Div(id='container'),\n    html.Div(graphs)\n])</code></pre><p><code>graphs</code> is a list that contains the info per graph. Below you can see how the graph for temperature is set up. You can add the <code>dcc.Graph</code> for humidity and pressure as well by appending them to <code>graphs.</code></p><pre><code>graphs = [\n    dcc.Graph(\n        id='temperature',\n        figure={\n            'data':[{\n                'x':timestamps,\n                'y':temperatures,\n                'type':'line',\n                'name': 'Temperature',\n                'line': {'width':2, 'color': '#542788'}\n                }],\n            'layout':{\n                'title': 'Temperature',\n                'yaxis': {'title': 'Celsius'},\n                'xaxis': {'title': 'Timestamp', 'tickvals':timestamps}\n            }\n        }\n    )\n]</code></pre><p>The graphs for the MQ sensors can be appended in a for loop.</p><pre><code>for mq_sensor in cfg.MQ_SENSORS.keys():\n    for gas in cfg.CURVES[mq_sensor].keys():\n        sensor_gas_key = mq_sensor + '_' + gas + '_ppm'\n        title = gas + ' concentration on '+ mq_sensor + ' sensor'\n        data = ppm_values[mq_sensor][gas]\n        data.reverse()\n\n        graphs.append(dcc.Graph(\n            id=sensor_gas_key,\n            figure={\n                'data': [{\n                    'x': timestamps,\n                    'y': data,\n                    'type':'line',\n                    'name': title,\n                    'line': {'width':2}\n                }],\n                'layout': {\n                    'title': title,\n                    'yaxis': {'title': 'ppm'},\n                    'xaxis': {'title': 'Timestamp', 'tickvals':timestamps}\n                }\n            }\n        ))</code></pre><p>As a result, you will have a dashboard with graphs like the one below.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://cdn-media-1.freecodecamp.org/images/XhmuZyEJBLsJ1eUuTWb80qkmI99ptztNyiF7\" class=\"kg-image\" alt=\"XhmuZyEJBLsJ1eUuTWb80qkmI99ptztNyiF7\" width=\"800\" height=\"288\" loading=\"lazy\"><figcaption>Graph with MQ2 sensor data for methane (ch4)</figcaption></figure><h3 id=\"conclusion\">Conclusion</h3><p>With a few low-cost gas sensors and a Raspberry Pi (and GrovePi) it is easy to build an air quality measurement station. You can then act on the data by sending alert notifications when air quality is bad or switch on the ventilation. With Dash you can build beautiful visualizations to monitor the air quality over time.</p><p>Below I noted some ideas to take this project further.</p><ul><li>make a mobile app for the visualizations and receiving notifications</li><li>add LEDs, a buzzer and an OLED display to the Raspberry Pi to get instant feedback on air quality</li><li>install measurement stations at your family and friends' place and <a href=\"https://towardsdatascience.com/visualizing-air-pollution-with-folium-maps-4ce1a1880677\" rel=\"noopener\">visualize it on an interactive map</a>.</li><li>once you have enough data, <a href=\"https://towardsdatascience.com/forecasting-air-pollution-with-recurrent-neural-networks-ffb095763a5c\" rel=\"noopener\">build a time-series model</a> to predict the indoor air quality</li></ul><p>Hopefully, this story motivates you to start building your own measurement station. If you have questions or suggestions let me know.</p>\n\n                        </section>\n                        \n                            <div class=\"sidebar\">\n                                \n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                \n                            </div>\n                        \n                    </div>\n                    <hr>\n                    \n                        <div class=\"post-full-author-header\" data-test-label=\"author-header-with-bio\">\n                            \n                                \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" loading=\"lazy\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content \">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n                \n                    <p data-test-label=\"author-bio\">Data Scientist</p>\n                \n            \n        </section>\n    </section>\n\n                            \n                        </div>\n                        <hr>\n                    \n\n                    \n                    \n                        \n    \n\n\n<p data-test-label=\"social-row-cta\" class=\"social-row\">\n    If this article was helpful, <button id=\"tweet-btn\" class=\"cta-button\" data-test-label=\"tweet-button\">share it</button>.\n</p>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const t=document.getElementById(\"tweet-btn\"),e=window.location,n=\"How%20to%20monitor%20your%20air%20quality%20with%20this%20DIY%20setup\".replace(/&#39;/g,\"%27\"),o=\"\",i=\"\",r=Boolean(\"\");let a;if(r&&(o||i)){const t={originalPostAuthor:\"\",currentPostAuthor:\"Bert Carremans\"};a=encodeURIComponent(`Thank you ${o||t.originalPostAuthor} for writing this helpful article, and ${i||t.currentPostAuthor} for translating it.`)}else!r&&i&&(a=encodeURIComponent(`Thank you ${i} for writing this helpful article.`));const s=`window.open(\\n    '${a?`https://twitter.com/intent/tweet?text=${a}%0A%0A${n}%0A%0A${e}`:`https://twitter.com/intent/tweet?text=${n}%0A%0A${e}`}',\\n    'share-twitter',\\n    'width=550, height=235'\\n  ); return false;`;t.setAttribute(\"onclick\",s)}));</script>\n\n\n                        \n\n<div class=\"learn-cta-row\" data-test-label=\"learn-cta-row\">\n    <p>\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href=\"https://www.freecodecamp.org/learn/\" class=\"cta-button\" id=\"learn-to-code-cta\" rel=\"noopener noreferrer\" target=\"_blank\">Get started</a>\n    </p>\n</div>\n\n                    \n                </section>\n                \n                    <div class=\"banner-ad bottom\">\n                        \n                            <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                        \n                    </div>\n                \n            </article>\n        </div>\n    </main>\n\n\n            \n\n\n<footer class=\"site-footer\">\n    <div class=\"footer-top\">\n        <div class=\"footer-desc-col\">\n            <p data-test-label=\"tax-exempt-status\">freeCodeCamp is a donor-supported tax-exempt 501(c)(3) charity organization (United States Federal Tax Identification Number: 82-0779546)</p>\n            <p data-test-label=\"mission-statement\">Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public.</p>\n            <p data-test-label=\"donation-initiatives\">Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.</p>\n            <p class=\"footer-donation\" data-test-label=\"donate-text\">\n                You can <a href=\"https://www.freecodecamp.org/donate/\" class=\"inline\" rel=\"noopener noreferrer\" target=\"_blank\">make a tax-deductible donation here</a>.\n            </p>\n        </div>\n        <div class=\"trending-guides\" data-test-label=\"trending-guides\">\n            <h2 id=\"trending-guides\" class=\"col-header\">Trending Guides</h2>\n            <ul class=\"trending-guides-articles\" aria-labelledby=\"trending-guides\">\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-transform-functions-and-properties/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Transform\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-create-a-static-blog-with-lume/\" rel=\"noopener noreferrer\" target=\"_blank\">Build a Static Blog\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-build-an-ai-chatbot-with-redis-python-and-gpt/\" rel=\"noopener noreferrer\" target=\"_blank\">Build an AI Chatbot\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/what-is-programming-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">What is Programming?\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Python Code Examples\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/a-practical-guide-to-start-opensource-contributions/\" rel=\"noopener noreferrer\" target=\"_blank\">Open Source for Devs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/http-full-course/\" rel=\"noopener noreferrer\" target=\"_blank\">HTTP Networking in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-unit-tests-in-react-redux/\" rel=\"noopener noreferrer\" target=\"_blank\">Write React Unit Tests\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/introduction-to-algorithms-with-javascript-examples/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Algorithms in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-clean-code/\" rel=\"noopener noreferrer\" target=\"_blank\">How to Write Clean Code\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-php-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn PHP\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-java-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Java\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-swift-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Swift\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-golang-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Golang\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/get-started-with-nodejs/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Node.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-grid/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Grid\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-solidity-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Solidity\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-express-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Express.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/javascript-es-modules-and-module-bundlers/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn JS Modules\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/apache-kafka-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Apache Kafka\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/rest-api-design-best-practices-build-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">REST API Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/front-end-javascript-development-react-angular-vue-compared/\" rel=\"noopener noreferrer\" target=\"_blank\">Front-End JS Development\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-consume-and-document-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build REST APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-strongly-typed-polymorphic-components-with-react-and-typescript/\" rel=\"noopener noreferrer\" target=\"_blank\">Intermediate TS and React\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/command-line-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Command Line for Beginners\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-operating-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Intro to Operating Systems\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/building-consuming-and-documenting-a-graphql-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build GraphQL APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/oss-security-best-practices/\" rel=\"noopener noreferrer\" target=\"_blank\">OSS Security Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/design-patterns-for-distributed-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Distributed Systems Patterns\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-software-architecture-patterns/\" rel=\"noopener noreferrer\" target=\"_blank\">Software Architecture Patterns\n                    </a>\n                </li>\n            </ul>\n            <div class=\"spacer\" style=\"padding: 15px 0;\"></div>\n            <div>\n                <h2 id=\"mobile-app\" class=\"col-header\">\n                    Mobile App\n                </h2>\n                <div class=\"min-h-[1px] px-[15px] md:w-2/3 md:ml-[16.6%]\">\n                    <ul aria-labelledby=\"mobile-app\" class=\"mobile-app-container\">\n                        <li>\n                            <a href=\"https://apps.apple.com/us/app/freecodecamp/id6446908151?itsct=apps_box_link&itscg=30200\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/apple-store-badge.svg\" lang=\"en\" alt=\"Download on the App Store\">\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"https://play.google.com/store/apps/details?id=org.freecodecamp\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/google-play-badge.svg\" lang=\"en\" alt=\"Get it on Google Play\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer-bottom\">\n        <h2 class=\"col-header\" data-test-label=\"our-nonprofit\">Our Charity</h2>\n        <div class=\"our-nonprofit\">\n            <a href=\"https://www.freecodecamp.org/news/about/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"about\">\n                About\n            </a>\n            <a href=\"https://www.linkedin.com/school/free-code-camp/people/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"alumni\">\n                Alumni Network\n            </a>\n            <a href=\"https://github.com/freeCodeCamp/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"open-source\">\n                Open Source\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/shop/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"shop\">\n                Shop\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/support/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"support\">\n                Support\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/sponsors/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"sponsors\">\n                Sponsors\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/academic-honesty-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"honesty\">\n                Academic Honesty\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/code-of-conduct/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"coc\">\n                Code of Conduct\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/privacy-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"privacy\">\n                Privacy Policy\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/terms-of-service/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"tos\">\n                Terms of Service\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/copyright-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"copyright\">\n                Copyright Policy\n            </a>\n        </div>\n    </div>\n</footer>\n\n        </div>\n\n        \n        \n        \n\n        <!-- Google Tag Manager (noscript) -->\n<noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n<!-- End Google Tag Manager (noscript) -->\n\n        \n    <script defer src=\"https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015\" integrity=\"sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==\" data-cf-beacon='{\"rayId\":\"8ab69fe24cb48348\",\"serverTiming\":{\"name\":{\"cfL4\":true}},\"version\":\"2024.7.0\",\"token\":\"bdb993c6dde44e178aabd9555e75e4f4\"}' crossorigin=\"anonymous\"></script>\n</body>\n</html>\n"},"/news/whats-in-a-python-s-name-506262fe61e8/":{"metadata":[{"tagName":"meta","attributes":{"charset":"utf-8"}},{"tagName":"meta","attributes":{"http-equiv":"X-UA-Compatible","content":"IE=edge"}},{"tagName":"title","attributes":{}},{"tagName":"meta","attributes":{"name":"HandheldFriendly","content":"True"}},{"tagName":"meta","attributes":{"name":"viewport","content":"width=device-width, initial-scale=1.0"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.googleapis.com"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com","crossorigin":""}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"/news/assets/css/global-26e2f3cde9.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/screen-926fddfac2.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/search-bar-124f5f949c.css"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js"}},{"tagName":"script","attributes":{},"scriptContent":"let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));"},{"tagName":"script","attributes":{"data-ad-client":"ca-pub-9482786369113753","src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js","crossorigin":"anonymous","async":""}},{"tagName":"link","attributes":{"rel":"icon","href":"https://cdn.freecodecamp.org/universal/favicons/favicon.ico","type":"image/png"}},{"tagName":"link","attributes":{"rel":"canonical","href":"https://www.freecodecamp.org/news/whats-in-a-python-s-name-506262fe61e8/"}},{"tagName":"meta","attributes":{"name":"referrer","content":"no-referrer-when-downgrade"}},{"tagName":"meta","attributes":{"name":"description","content":"An introduction to the _ _name_ _ variable and its usage in Python You’ve most likely seen the __name__ variable when you’ve gone through Python code. Below you see an example code snippet of how it may look: if __name__ == '__main__':    main() In this article, I"}},{"tagName":"meta","attributes":{"property":"og:site_name","content":"freeCodeCamp.org"}},{"tagName":"meta","attributes":{"property":"og:type","content":"article"}},{"tagName":"meta","attributes":{"property":"og:title","content":"What’s in a (Python’s) __name__?"}},{"tagName":"meta","attributes":{"property":"og:description","content":"An introduction to the _ _name_ _ variable and its usage in Python You’ve most likely seen the __name__ variable when you’ve gone through Python code. Below you see an example code snippet of how it may look: if __name__ == '__main__':    main() In this article, I"}},{"tagName":"meta","attributes":{"property":"og:url","content":"https://www.freecodecamp.org/news/whats-in-a-python-s-name-506262fe61e8/"}},{"tagName":"meta","attributes":{"property":"og:image","content":"https://cdn-media-1.freecodecamp.org/images/0*zv8ZOTI8T_hmrYXG"}},{"tagName":"meta","attributes":{"property":"article:published_time","content":"2019-02-01T16:27:28.000Z"}},{"tagName":"meta","attributes":{"property":"article:modified_time","content":"2019-06-13T20:49:22.000Z"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Python"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Programming"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Software Development"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Learning"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Tech"}},{"tagName":"meta","attributes":{"property":"article:publisher","content":"https://www.facebook.com/freecodecamp"}},{"tagName":"meta","attributes":{"name":"twitter:card","content":"summary_large_image"}},{"tagName":"meta","attributes":{"name":"twitter:title","content":"What’s in a (Python’s) __name__?"}},{"tagName":"meta","attributes":{"name":"twitter:description","content":"An introduction to the _ _name_ _ variable and its usage in Python You’ve most likely seen the __name__ variable when you’ve gone through Python code. Below you see an example code snippet of how it may look: if __name__ == '__main__':    main() In this article, I"}},{"tagName":"meta","attributes":{"name":"twitter:url","content":"https://www.freecodecamp.org/news/whats-in-a-python-s-name-506262fe61e8/"}},{"tagName":"meta","attributes":{"name":"twitter:image","content":"https://cdn-media-1.freecodecamp.org/images/0*zv8ZOTI8T_hmrYXG"}},{"tagName":"meta","attributes":{"name":"twitter:label1","content":"Written by"}},{"tagName":"meta","attributes":{"name":"twitter:data1","content":"Bert Carremans"}},{"tagName":"meta","attributes":{"name":"twitter:label2","content":"Filed under"}},{"tagName":"meta","attributes":{"name":"twitter:data2","content":"Python, Programming, Software Development, Learning, Tech"}},{"tagName":"meta","attributes":{"name":"twitter:site","content":"@freecodecamp"}},{"tagName":"meta","attributes":{"property":"og:image:width","content":"800"}},{"tagName":"meta","attributes":{"property":"og:image:height","content":"533"}},{"tagName":"script","attributes":{"type":"application/ld+json"},"scriptContent":"{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://cdn-media-1.freecodecamp.org/images/0*zv8ZOTI8T_hmrYXG\",\n\t\t\"width\": 800,\n\t\t\"height\": 533\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/whats-in-a-python-s-name-506262fe61e8/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2019-02-01T16:27:28.000Z\",\n\t\"dateModified\": \"2019-06-13T20:49:22.000Z\",\n\t\"keywords\": \"Python, Programming, Software Development, Learning, Tech\",\n\t\"description\": \"An introduction to the _ _name_ _ variable and its usage in Python\\nYou’ve most likely seen the __name__ variable when you’ve gone through Python\\ncode. Below you see an example code snippet of how it may look:\\n\\nif __name__ &#x3D;&#x3D; &#x27;__main__&#x27;:    main()\\n\\nIn this article, I want to show you how you can make use of this variable to\\ncreate modules in Python.\\n\\nWhy is the _ _name_ _ variable used?\\nThe __name__ variable (two underscores before and after) is a special Python\\nvariable. It gets its value depend\",\n\t\"headline\": \"What’s in a (Python’s) __name__?\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}"},{"tagName":"meta","attributes":{"name":"generator","content":"Eleventy"}},{"tagName":"link","attributes":{"rel":"alternate","type":"application/rss+xml","title":"freeCodeCamp.org","href":"https://www.freecodecamp.org/news/rss/"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com"}},{"tagName":"script","attributes":{},"scriptContent":"\nwindow.dataLayer = window.dataLayer || [];\n"},{"tagName":"script","attributes":{},"scriptContent":"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');"},{"tagName":"meta","attributes":{"name":"google-site-verification","content":"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E"}},{"tagName":"meta","attributes":{"name":"x-fcc-source","data-test-label":"x-fcc-source","content":"Ghost"}}],"html":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        \n        \n            <title>What’s in a (Python’s) __name__?</title>\n        \n        <meta name=\"HandheldFriendly\" content=\"True\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin=\"\">\n        \n            <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap\">\n        \n\n        \n        \n    <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n</noscript>\n<link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n</noscript>\n\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js\"></script>\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js\"></script>\n\n\n\n        \n        <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"/news/assets/css/global-26e2f3cde9.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/screen-926fddfac2.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/search-bar-124f5f949c.css\">\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js\"></script>\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js\"></script>\n\n        \n        \n            <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js\"></script>\n        \n\n        \n        <script>let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));</script>\n\n        \n        \n    \n        \n            <script data-ad-client=\"ca-pub-9482786369113753\" src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\" crossorigin=\"anonymous\" async=\"\"></script>\n        \n    \n\n\n        \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n\n\n        \n        \n        \n\n        \n        \n\n        <link rel=\"icon\" href=\"https://cdn.freecodecamp.org/universal/favicons/favicon.ico\" type=\"image/png\">\n        \n        \n            <link rel=\"canonical\" href=\"https://www.freecodecamp.org/news/whats-in-a-python-s-name-506262fe61e8/\">\n        \n        <meta name=\"referrer\" content=\"no-referrer-when-downgrade\">\n\n        \n\n        \n    <meta name=\"description\" content=\"An introduction to the _ _name_ _ variable and its usage in Python You’ve most likely seen the __name__ variable when you’ve gone through Python code. Below you see an example code snippet of how it may look: if __name__ == &#39;__main__&#39;:    main() In this article, I\">\n\n    \n    <meta property=\"og:site_name\" content=\"freeCodeCamp.org\">\n    <meta property=\"og:type\" content=\"article\">\n    <meta property=\"og:title\" content=\"What’s in a (Python’s) __name__?\">\n    \n        <meta property=\"og:description\" content=\"An introduction to the _ _name_ _ variable and its usage in Python You’ve most likely seen the __name__ variable when you’ve gone through Python code. Below you see an example code snippet of how it may look: if __name__ == &#39;__main__&#39;:    main() In this article, I\">\n    \n    <meta property=\"og:url\" content=\"https://www.freecodecamp.org/news/whats-in-a-python-s-name-506262fe61e8/\">\n    <meta property=\"og:image\" content=\"https://cdn-media-1.freecodecamp.org/images/0*zv8ZOTI8T_hmrYXG\">\n    <meta property=\"article:published_time\" content=\"2019-02-01T16:27:28.000Z\">\n    <meta property=\"article:modified_time\" content=\"2019-06-13T20:49:22.000Z\">\n    \n        <meta property=\"article:tag\" content=\"Python\">\n    \n        <meta property=\"article:tag\" content=\"Programming\">\n    \n        <meta property=\"article:tag\" content=\"Software Development\">\n    \n        <meta property=\"article:tag\" content=\"Learning\">\n    \n        <meta property=\"article:tag\" content=\"Tech\">\n    \n    <meta property=\"article:publisher\" content=\"https://www.facebook.com/freecodecamp\">\n    \n\n    \n    <meta name=\"twitter:card\" content=\"summary_large_image\">\n    <meta name=\"twitter:title\" content=\"What’s in a (Python’s) __name__?\">\n    \n        <meta name=\"twitter:description\" content=\"An introduction to the _ _name_ _ variable and its usage in Python You’ve most likely seen the __name__ variable when you’ve gone through Python code. Below you see an example code snippet of how it may look: if __name__ == &#39;__main__&#39;:    main() In this article, I\">\n    \n    <meta name=\"twitter:url\" content=\"https://www.freecodecamp.org/news/whats-in-a-python-s-name-506262fe61e8/\">\n    <meta name=\"twitter:image\" content=\"https://cdn-media-1.freecodecamp.org/images/0*zv8ZOTI8T_hmrYXG\">\n    <meta name=\"twitter:label1\" content=\"Written by\">\n    <meta name=\"twitter:data1\" content=\"Bert Carremans\">\n    <meta name=\"twitter:label2\" content=\"Filed under\">\n    <meta name=\"twitter:data2\" content=\"Python, Programming, Software Development, Learning, Tech\">\n    <meta name=\"twitter:site\" content=\"@freecodecamp\">\n    \n\n    <meta property=\"og:image:width\" content=\"800\">\n    <meta property=\"og:image:height\" content=\"533\">\n\n\n        \n    <script type=\"application/ld+json\">{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://cdn-media-1.freecodecamp.org/images/0*zv8ZOTI8T_hmrYXG\",\n\t\t\"width\": 800,\n\t\t\"height\": 533\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/whats-in-a-python-s-name-506262fe61e8/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2019-02-01T16:27:28.000Z\",\n\t\"dateModified\": \"2019-06-13T20:49:22.000Z\",\n\t\"keywords\": \"Python, Programming, Software Development, Learning, Tech\",\n\t\"description\": \"An introduction to the _ _name_ _ variable and its usage in Python\\nYou’ve most likely seen the __name__ variable when you’ve gone through Python\\ncode. Below you see an example code snippet of how it may look:\\n\\nif __name__ &#x3D;&#x3D; &#x27;__main__&#x27;:    main()\\n\\nIn this article, I want to show you how you can make use of this variable to\\ncreate modules in Python.\\n\\nWhy is the _ _name_ _ variable used?\\nThe __name__ variable (two underscores before and after) is a special Python\\nvariable. It gets its value depend\",\n\t\"headline\": \"What’s in a (Python’s) __name__?\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 250,\n\t\t\t\"height\": 250\n\t\t}\n\t}\n}</script>\n\n\n        <meta name=\"generator\" content=\"Eleventy\">\n        <link rel=\"alternate\" type=\"application/rss+xml\" title=\"freeCodeCamp.org\" href=\"https://www.freecodecamp.org/news/rss/\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n\n<!-- dataLayer setup -->\n<script>\nwindow.dataLayer = window.dataLayer || [];\n</script>\n<!-- End dataLayer setup -->\n\n<!-- Google Tag Manager -->\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');</script>\n<!-- End Google Tag Manager -->\n\n\n<meta name=\"google-site-verification\" content=\"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E\">\n\n        \n        \n\n        \n  <meta name=\"x-fcc-source\" data-test-label=\"x-fcc-source\" content=\"Ghost\">\n\n    </head>\n\n    \n        <body class=\"home-template\">\n    \n        <div class=\"site-wrapper\">\n            <nav class=\"site-nav nav-padding\">\n    <div class=\"site-nav-left\">\n        \n<form id=\"search-form\" data-test-label=\"search-bar\">\n    <div role=\"search\" class=\"searchbox__wrapper\">\n        <label class=\"fcc_sr_only\" for=\"search-input\">\n            Search\n        </label>\n        <input type=\"search\" placeholder=\"\n    Search 11,200+ tutorials\n\" id=\"search-input\">\n        <button type=\"submit\" class=\"ais-SearchBox-submit\">\n            <svg class=\"ais-SearchBox-submitIcon\" xmlns=\"https://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 40 40\">\n    <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n</svg>\n\n            <span class=\"fcc_sr_only\">Submit your search query</span>\n        </button>\n        <div id=\"dropdown-container\"></div>\n    </div>\n</form>\n\n    </div>\n    <div class=\"site-nav-middle\">\n        <a class=\"site-nav-logo\" href=\"https://www.freecodecamp.org/news/\" data-test-label=\"site-nav-logo\"><img src=\"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\" alt=\"freeCodeCamp.org\"></a>\n    </div>\n    <div class=\"site-nav-right\">\n        <div class=\"nav-group\">\n            <a class=\"nav-forum\" id=\"nav-forum\" rel=\"noopener noreferrer\" href=\"https://forum.freecodecamp.org/\" target=\"_blank\" data-test-label=\"forum-button\">Forum</a>\n            <a class=\"toggle-button-nav\" id=\"nav-donate\" rel=\"noopener noreferrer\" href=\"https://www.freecodecamp.org/donate/\" target=\"_blank\" data-test-label=\"donate-button\">Donate</a>\n        </div>\n    </div>\n</nav>\n\n\n            \n            <a class=\"banner\" id=\"banner\" data-test-label=\"banner\" rel=\"noopener noreferrer\" target=\"_blank\">\n    <p id=\"banner-text\"></p>\n</a>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const e=document.getElementById(\"banner\"),t=document.getElementById(\"banner-text\");isAuthenticated?(t.innerHTML=\"Support our charity and our mission. <span>Donate to freeCodeCamp.org</span>.\",e.href=\"https://www.freecodecamp.org/donate\",e.setAttribute(\"text-variation\",\"authenticated\")):isDonor?(t.innerHTML=\"Thank you for supporting freeCodeCamp through <span>your donations</span>.\",e.href=\"https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp/\",e.setAttribute(\"text-variation\",\"donor\")):(t.innerHTML=\"Learn to code — <span>free 3,000-hour curriculum</span>\",e.href=\"https://www.freecodecamp.org/\",e.setAttribute(\"text-variation\",\"default\"))}));</script>\n\n\n            <div id=\"error-message\"></div>\n\n            \n    <main id=\"site-main\" class=\"post-template site-main outer\">\n        <div class=\"inner ad-layout\">\n            <article class=\"post-full post\">\n                <header class=\"post-full-header\">\n                    <section class=\"post-full-meta\">\n                        <time class=\"post-full-meta-date\" data-test-label=\"post-full-meta-date\" datetime=\"Fri Feb 01 2019 16:27:28 GMT+0000 (Coordinated Universal Time)\">\n                            February 1, 2019\n                        </time>\n                        \n                            <span class=\"date-divider\">/</span>\n                            <a dir=\"ltr\" href=\"/news/tag/python/\">\n                                #Python\n                            </a>\n                        \n                    </section>\n                    <h1 class=\"post-full-title\" data-test-label=\"post-full-title\">What’s in a (Python’s) __name__?</h1>\n                </header>\n                <div class=\"post-full-author-header\" data-test-label=\"author-header-no-bio\">\n                    \n                        \n                            \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content author-card-content-no-bio\">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n        </section>\n    </section>\n\n                        \n                    \n                </div>\n                <figure class=\"post-full-image\">\n                    \n    <picture>\n      <source media=\"(max-width: 700px)\" sizes=\"1px\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w\">\n      <source media=\"(min-width: 701px)\" sizes=\"(max-width: 800px) 400px, (max-width: 1170px) 700px, 1400px\" srcset=\"https://cdn-media-1.freecodecamp.org/images/0*zv8ZOTI8T_hmrYXG\">\n      <img onerror=\"this.style.display='none'\" src=\"https://cdn-media-1.freecodecamp.org/images/0*zv8ZOTI8T_hmrYXG\" alt=\"What’s in a (Python’s) __name__?\" ,=\"\" width=\"800\" height=\"533\" data-test-label=\"feature-image\">\n    </picture>\n  \n                </figure>\n                <section class=\"post-full-content\">\n                    <div class=\"post-and-sidebar\">\n                        <section class=\"post-content \" data-test-label=\"post-content\">\n                            \n<h4 id=\"an-introduction-to-the-_-_name_-_-variable-and-its-usage-in-python\">An introduction to the _ _name_ _ variable and its usage in Python</h4><p>You’ve most likely seen the <code>__name__</code> variable when you’ve gone through Python code. Below you see an example code snippet of how it may look:</p><pre><code>if __name__ == '__main__':    main()</code></pre><p>In this article, I want to show you how you can make use of this variable to create modules in Python.</p><h4 id=\"why-is-the-_-_name_-_-variable-used\">Why is the _ _name_ _ variable used?</h4><p>The <code>__name__</code> variable (two underscores before and after) is a special Python variable. It gets its value depending on how we execute the containing script.</p><p>Sometimes you write a script with functions that might be useful in other scripts as well. In Python, you can import that script as a module in another script.</p><p>Thanks to this special variable, you can decide whether you want to run the script. Or that you want to import the functions defined in the script.</p><h4 id=\"what-values-can-the-__name__-variable-contain\">What values can the __name__ variable contain?</h4><p>When you run your script, the <code>__name__</code> variable equals <code>__main__</code>. When you import the containing script, it will contain the name of the script.</p><p>Let us take a look at these two use cases and describe the process with two illustrations.</p><h4 id=\"scenario-1-run-the-script\">Scenario 1 - Run the script</h4><p>Suppose we wrote the script<strong><em> </em></strong><code>nameScript.py</code> as follows:</p><pre><code>def myFunction():    print 'The value of __name__ is ' + __name__</code></pre><pre><code>def main():    myFunction()</code></pre><pre><code>if __name__ == '__main__':    main()</code></pre><p>If you run nameScript.py, the process below is followed.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://cdn-media-1.freecodecamp.org/images/PljpjxnM1OMMW7IkexNxVfwrKhP0RH-isapH\" class=\"kg-image\" alt=\"PljpjxnM1OMMW7IkexNxVfwrKhP0RH-isapH\" width=\"800\" height=\"497\" loading=\"lazy\"></figure><p>Before all other code is run, the <code>__name__</code> variable is set to __main__. After that, the <code>main</code><strong><em> </em></strong>and <code>myFunction</code> def statements are run. Because the condition evaluates to true, the main function is called. This, in turn, calls myFunction. This prints out the value of <code>__main__</code>.</p><h4 id=\"scenario-2-import-the-script-in-another-script\">Scenario 2 - Import the script in another script</h4><p>If we want to re-use myFunction in another script, for example <code>importingScript.py</code>, we can import <code>nameScript.py</code> as a module.</p><p>The code in <code>importingScript.py</code> could be as follows:</p><pre><code>import nameScript as ns</code></pre><pre><code>ns.myFunction()</code></pre><p>We then have two scopes: one of <code>importingScript</code> and the second scope of <code>nameScript</code>. In the illustration, you’ll see how it differs from the first use case.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://cdn-media-1.freecodecamp.org/images/k9OxzvJAP-s5qeZg88jUCOCVy1syrQu4oKds\" class=\"kg-image\" alt=\"k9OxzvJAP-s5qeZg88jUCOCVy1syrQu4oKds\" width=\"800\" height=\"500\" loading=\"lazy\"></figure><p>In importingScript.py the <code>__name__</code> variable is set to __main__. By importing nameScript, Python starts looking for a file by adding <code>.py</code> to the module name. It then runs the code contained in the imported file.</p><p>But this time it<strong><em> </em></strong>is set to nameScript. Again the def statements for main and myFunction are run. But, now the condition evaluates to false and main is not called.</p><p>In importingScript.py we call myFunction which outputs nameScript. NameScript is known to myFunction when that function was defined.</p><p>If you would print <code>__name__</code> in the importingScript, this would output <code>__main__</code>. The reason for this is that Python uses the value known in the scope of importingScript.</p><h4 id=\"conclusion\">Conclusion</h4><p>In this short article, I explained how you can use the <code>__name__</code> variable to write modules. You can also run these modules on their own. This can be done by making use of how the values of these variables change depending on where they occur.</p>\n\n                        </section>\n                        \n                            <div class=\"sidebar\">\n                                \n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                \n                            </div>\n                        \n                    </div>\n                    <hr>\n                    \n                        <div class=\"post-full-author-header\" data-test-label=\"author-header-with-bio\">\n                            \n                                \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"250\" height=\"250\" onerror=\"this.style.display='none'\" loading=\"lazy\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content \">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n                \n                    <p data-test-label=\"author-bio\">Data Scientist</p>\n                \n            \n        </section>\n    </section>\n\n                            \n                        </div>\n                        <hr>\n                    \n\n                    \n                    \n                        \n    \n\n\n<p data-test-label=\"social-row-cta\" class=\"social-row\">\n    If this article was helpful, <button id=\"tweet-btn\" class=\"cta-button\" data-test-label=\"tweet-button\">share it</button>.\n</p>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const t=document.getElementById(\"tweet-btn\"),e=window.location,n=\"What%E2%80%99s%20in%20a%20(Python%E2%80%99s)%20__name__%3F\".replace(/&#39;/g,\"%27\"),o=\"\",r=\"\",i=Boolean(\"\");let a;if(i&&(o||r)){const t={originalPostAuthor:\"\",currentPostAuthor:\"Bert Carremans\"};a=encodeURIComponent(`Thank you ${o||t.originalPostAuthor} for writing this helpful article, and ${r||t.currentPostAuthor} for translating it.`)}else!i&&r&&(a=encodeURIComponent(`Thank you ${r} for writing this helpful article.`));const s=`window.open(\\n    '${a?`https://twitter.com/intent/tweet?text=${a}%0A%0A${n}%0A%0A${e}`:`https://twitter.com/intent/tweet?text=${n}%0A%0A${e}`}',\\n    'share-twitter',\\n    'width=550, height=235'\\n  ); return false;`;t.setAttribute(\"onclick\",s)}));</script>\n\n\n                        \n\n<div class=\"learn-cta-row\" data-test-label=\"learn-cta-row\">\n    <p>\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href=\"https://www.freecodecamp.org/learn/\" class=\"cta-button\" id=\"learn-to-code-cta\" rel=\"noopener noreferrer\" target=\"_blank\">Get started</a>\n    </p>\n</div>\n\n                    \n                </section>\n                \n                    <div class=\"banner-ad bottom\">\n                        \n                            <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                        \n                    </div>\n                \n            </article>\n        </div>\n    </main>\n\n\n            \n\n\n<footer class=\"site-footer\">\n    <div class=\"footer-top\">\n        <div class=\"footer-desc-col\">\n            <p data-test-label=\"tax-exempt-status\">freeCodeCamp is a donor-supported tax-exempt 501(c)(3) charity organization (United States Federal Tax Identification Number: 82-0779546)</p>\n            <p data-test-label=\"mission-statement\">Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public.</p>\n            <p data-test-label=\"donation-initiatives\">Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.</p>\n            <p class=\"footer-donation\" data-test-label=\"donate-text\">\n                You can <a href=\"https://www.freecodecamp.org/donate/\" class=\"inline\" rel=\"noopener noreferrer\" target=\"_blank\">make a tax-deductible donation here</a>.\n            </p>\n        </div>\n        <div class=\"trending-guides\" data-test-label=\"trending-guides\">\n            <h2 id=\"trending-guides\" class=\"col-header\">Trending Guides</h2>\n            <ul class=\"trending-guides-articles\" aria-labelledby=\"trending-guides\">\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-transform-functions-and-properties/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Transform\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-create-a-static-blog-with-lume/\" rel=\"noopener noreferrer\" target=\"_blank\">Build a Static Blog\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-build-an-ai-chatbot-with-redis-python-and-gpt/\" rel=\"noopener noreferrer\" target=\"_blank\">Build an AI Chatbot\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/what-is-programming-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">What is Programming?\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Python Code Examples\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/a-practical-guide-to-start-opensource-contributions/\" rel=\"noopener noreferrer\" target=\"_blank\">Open Source for Devs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/http-full-course/\" rel=\"noopener noreferrer\" target=\"_blank\">HTTP Networking in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-unit-tests-in-react-redux/\" rel=\"noopener noreferrer\" target=\"_blank\">Write React Unit Tests\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/introduction-to-algorithms-with-javascript-examples/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Algorithms in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-clean-code/\" rel=\"noopener noreferrer\" target=\"_blank\">How to Write Clean Code\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-php-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn PHP\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-java-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Java\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-swift-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Swift\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-golang-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Golang\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/get-started-with-nodejs/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Node.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-grid/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Grid\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-solidity-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Solidity\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-express-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Express.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/javascript-es-modules-and-module-bundlers/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn JS Modules\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/apache-kafka-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Apache Kafka\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/rest-api-design-best-practices-build-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">REST API Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/front-end-javascript-development-react-angular-vue-compared/\" rel=\"noopener noreferrer\" target=\"_blank\">Front-End JS Development\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-consume-and-document-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build REST APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-strongly-typed-polymorphic-components-with-react-and-typescript/\" rel=\"noopener noreferrer\" target=\"_blank\">Intermediate TS and React\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/command-line-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Command Line for Beginners\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-operating-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Intro to Operating Systems\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/building-consuming-and-documenting-a-graphql-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build GraphQL APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/oss-security-best-practices/\" rel=\"noopener noreferrer\" target=\"_blank\">OSS Security Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/design-patterns-for-distributed-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Distributed Systems Patterns\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-software-architecture-patterns/\" rel=\"noopener noreferrer\" target=\"_blank\">Software Architecture Patterns\n                    </a>\n                </li>\n            </ul>\n            <div class=\"spacer\" style=\"padding: 15px 0;\"></div>\n            <div>\n                <h2 id=\"mobile-app\" class=\"col-header\">\n                    Mobile App\n                </h2>\n                <div class=\"min-h-[1px] px-[15px] md:w-2/3 md:ml-[16.6%]\">\n                    <ul aria-labelledby=\"mobile-app\" class=\"mobile-app-container\">\n                        <li>\n                            <a href=\"https://apps.apple.com/us/app/freecodecamp/id6446908151?itsct=apps_box_link&itscg=30200\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/apple-store-badge.svg\" lang=\"en\" alt=\"Download on the App Store\">\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"https://play.google.com/store/apps/details?id=org.freecodecamp\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/google-play-badge.svg\" lang=\"en\" alt=\"Get it on Google Play\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer-bottom\">\n        <h2 class=\"col-header\" data-test-label=\"our-nonprofit\">Our Charity</h2>\n        <div class=\"our-nonprofit\">\n            <a href=\"https://www.freecodecamp.org/news/about/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"about\">\n                About\n            </a>\n            <a href=\"https://www.linkedin.com/school/free-code-camp/people/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"alumni\">\n                Alumni Network\n            </a>\n            <a href=\"https://github.com/freeCodeCamp/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"open-source\">\n                Open Source\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/shop/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"shop\">\n                Shop\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/support/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"support\">\n                Support\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/sponsors/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"sponsors\">\n                Sponsors\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/academic-honesty-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"honesty\">\n                Academic Honesty\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/code-of-conduct/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"coc\">\n                Code of Conduct\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/privacy-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"privacy\">\n                Privacy Policy\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/terms-of-service/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"tos\">\n                Terms of Service\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/copyright-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"copyright\">\n                Copyright Policy\n            </a>\n        </div>\n    </div>\n</footer>\n\n        </div>\n\n        \n        \n        \n\n        <!-- Google Tag Manager (noscript) -->\n<noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n<!-- End Google Tag Manager (noscript) -->\n\n        \n    <script defer src=\"https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015\" integrity=\"sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==\" data-cf-beacon='{\"rayId\":\"8ab69fe24896468b\",\"version\":\"2024.7.0\",\"serverTiming\":{\"name\":{\"cfL4\":true}},\"token\":\"bdb993c6dde44e178aabd9555e75e4f4\",\"b\":1}' crossorigin=\"anonymous\"></script>\n</body>\n</html>\n"},"/news/how-to-save-time-and-money-by-building-an-automatic-meal-planner-7c7a9351d124/":{"metadata":[{"tagName":"meta","attributes":{"charset":"utf-8"}},{"tagName":"meta","attributes":{"http-equiv":"X-UA-Compatible","content":"IE=edge"}},{"tagName":"title","attributes":{}},{"tagName":"meta","attributes":{"name":"HandheldFriendly","content":"True"}},{"tagName":"meta","attributes":{"name":"viewport","content":"width=device-width, initial-scale=1.0"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.googleapis.com"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com","crossorigin":""}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css"}},{"tagName":"noscript","attributes":{}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"}},{"tagName":"link","attributes":{"rel":"preload","as":"style","onload":"this.onload=null;this.rel='stylesheet'","href":"/news/assets/css/global-26e2f3cde9.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/screen-926fddfac2.css"}},{"tagName":"link","attributes":{"rel":"stylesheet","type":"text/css","href":"/news/assets/css/search-bar-124f5f949c.css"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js"}},{"tagName":"script","attributes":{"defer":"","src":"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js"}},{"tagName":"script","attributes":{},"scriptContent":"let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));"},{"tagName":"script","attributes":{"data-ad-client":"ca-pub-9482786369113753","src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js","crossorigin":"anonymous","async":""}},{"tagName":"link","attributes":{"rel":"icon","href":"https://cdn.freecodecamp.org/universal/favicons/favicon.ico","type":"image/png"}},{"tagName":"link","attributes":{"rel":"canonical","href":"https://www.freecodecamp.org/news/how-to-save-time-and-money-by-building-an-automatic-meal-planner-7c7a9351d124/"}},{"tagName":"meta","attributes":{"name":"referrer","content":"no-referrer-when-downgrade"}},{"tagName":"meta","attributes":{"name":"description","content":"Use the Google Calendar and Google Sheets APIs to select the right recipe on the right day. Do you also get stressed out when you get the question “what’s for dinner tonight?” You’re not alone. I guess it’s the most asked question as the clock strikes 4 p.m. Deciding what"}},{"tagName":"meta","attributes":{"property":"og:site_name","content":"freeCodeCamp.org"}},{"tagName":"meta","attributes":{"property":"og:type","content":"article"}},{"tagName":"meta","attributes":{"property":"og:title","content":"How to save time and money by building an automatic meal planner"}},{"tagName":"meta","attributes":{"property":"og:description","content":"Use the Google Calendar and Google Sheets APIs to select the right recipe on the right day. Do you also get stressed out when you get the question “what’s for dinner tonight?” You’re not alone. I guess it’s the most asked question as the clock strikes 4 p.m. Deciding what"}},{"tagName":"meta","attributes":{"property":"og:url","content":"https://www.freecodecamp.org/news/how-to-save-time-and-money-by-building-an-automatic-meal-planner-7c7a9351d124/"}},{"tagName":"meta","attributes":{"property":"og:image","content":"https://cdn-media-1.freecodecamp.org/images/0*s7pV_mfdT_FlIhCW"}},{"tagName":"meta","attributes":{"property":"article:published_time","content":"2019-01-11T16:17:17.000Z"}},{"tagName":"meta","attributes":{"property":"article:modified_time","content":"2019-06-13T21:08:11.000Z"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Python"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"API"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Technology"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Life Hacking"}},{"tagName":"meta","attributes":{"property":"article:tag","content":"Productivity"}},{"tagName":"meta","attributes":{"property":"article:publisher","content":"https://www.facebook.com/freecodecamp"}},{"tagName":"meta","attributes":{"name":"twitter:card","content":"summary_large_image"}},{"tagName":"meta","attributes":{"name":"twitter:title","content":"How to save time and money by building an automatic meal planner"}},{"tagName":"meta","attributes":{"name":"twitter:description","content":"Use the Google Calendar and Google Sheets APIs to select the right recipe on the right day. Do you also get stressed out when you get the question “what’s for dinner tonight?” You’re not alone. I guess it’s the most asked question as the clock strikes 4 p.m. Deciding what"}},{"tagName":"meta","attributes":{"name":"twitter:url","content":"https://www.freecodecamp.org/news/how-to-save-time-and-money-by-building-an-automatic-meal-planner-7c7a9351d124/"}},{"tagName":"meta","attributes":{"name":"twitter:image","content":"https://cdn-media-1.freecodecamp.org/images/0*s7pV_mfdT_FlIhCW"}},{"tagName":"meta","attributes":{"name":"twitter:label1","content":"Written by"}},{"tagName":"meta","attributes":{"name":"twitter:data1","content":"Bert Carremans"}},{"tagName":"meta","attributes":{"name":"twitter:label2","content":"Filed under"}},{"tagName":"meta","attributes":{"name":"twitter:data2","content":"Python, API, Technology, Life Hacking, Productivity"}},{"tagName":"meta","attributes":{"name":"twitter:site","content":"@freecodecamp"}},{"tagName":"meta","attributes":{"property":"og:image:width","content":"800"}},{"tagName":"meta","attributes":{"property":"og:image:height","content":"534"}},{"tagName":"script","attributes":{"type":"application/ld+json"},"scriptContent":"{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://cdn-media-1.freecodecamp.org/images/0*s7pV_mfdT_FlIhCW\",\n\t\t\"width\": 800,\n\t\t\"height\": 534\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/how-to-save-time-and-money-by-building-an-automatic-meal-planner-7c7a9351d124/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2019-01-11T16:17:17.000Z\",\n\t\"dateModified\": \"2019-06-13T21:08:11.000Z\",\n\t\"keywords\": \"Python, API, Technology, Life Hacking, Productivity\",\n\t\"description\": \"Use the Google Calendar and Google Sheets APIs to select the right recipe on the\\nright day.\\nDo you also get stressed out when you get the question “what’s for dinner\\ntonight?” You’re not alone. I guess it’s the most asked question as the clock\\nstrikes 4 p.m. Deciding what to eat can be a tedious chore. Especially when you\\nhave small children with various after-school activities.\\n\\nTo avoid going to the supermarket every day, we usually write up a menu with\\nrecipes for the coming week. That way we\",\n\t\"headline\": \"How to save time and money by building an automatic meal planner\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 600,\n\t\t\t\"height\": 400\n\t\t}\n\t}\n}"},{"tagName":"meta","attributes":{"name":"generator","content":"Eleventy"}},{"tagName":"link","attributes":{"rel":"alternate","type":"application/rss+xml","title":"freeCodeCamp.org","href":"https://www.freecodecamp.org/news/rss/"}},{"tagName":"link","attributes":{"rel":"preconnect","href":"https://fonts.gstatic.com"}},{"tagName":"script","attributes":{},"scriptContent":"\nwindow.dataLayer = window.dataLayer || [];\n"},{"tagName":"script","attributes":{},"scriptContent":"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');"},{"tagName":"meta","attributes":{"name":"google-site-verification","content":"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E"}},{"tagName":"meta","attributes":{"name":"x-fcc-source","data-test-label":"x-fcc-source","content":"Ghost"}}],"html":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        \n        \n            <title>How to save time and money by building an automatic meal planner</title>\n        \n        <meta name=\"HandheldFriendly\" content=\"True\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin=\"\">\n        \n            <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap\">\n        \n\n        \n        \n    <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n</noscript>\n<link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n</noscript>\n\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js\"></script>\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js\"></script>\n\n\n\n        \n        <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"/news/assets/css/global-26e2f3cde9.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/screen-926fddfac2.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/search-bar-124f5f949c.css\">\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js\"></script>\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js\"></script>\n\n        \n        \n            <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js\"></script>\n        \n\n        \n        <script>let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));</script>\n\n        \n        \n    \n        \n            <script data-ad-client=\"ca-pub-9482786369113753\" src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\" crossorigin=\"anonymous\" async=\"\"></script>\n        \n    \n\n\n        \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n\n\n        \n        \n        \n\n        \n        \n\n        <link rel=\"icon\" href=\"https://cdn.freecodecamp.org/universal/favicons/favicon.ico\" type=\"image/png\">\n        \n        \n            <link rel=\"canonical\" href=\"https://www.freecodecamp.org/news/how-to-save-time-and-money-by-building-an-automatic-meal-planner-7c7a9351d124/\">\n        \n        <meta name=\"referrer\" content=\"no-referrer-when-downgrade\">\n\n        \n\n        \n    <meta name=\"description\" content=\"Use the Google Calendar and Google Sheets APIs to select the right recipe on the right day. Do you also get stressed out when you get the question “what’s for dinner tonight?” You’re not alone. I guess it’s the most asked question as the clock strikes 4 p.m. Deciding what\">\n\n    \n    <meta property=\"og:site_name\" content=\"freeCodeCamp.org\">\n    <meta property=\"og:type\" content=\"article\">\n    <meta property=\"og:title\" content=\"How to save time and money by building an automatic meal planner\">\n    \n        <meta property=\"og:description\" content=\"Use the Google Calendar and Google Sheets APIs to select the right recipe on the right day. Do you also get stressed out when you get the question “what’s for dinner tonight?” You’re not alone. I guess it’s the most asked question as the clock strikes 4 p.m. Deciding what\">\n    \n    <meta property=\"og:url\" content=\"https://www.freecodecamp.org/news/how-to-save-time-and-money-by-building-an-automatic-meal-planner-7c7a9351d124/\">\n    <meta property=\"og:image\" content=\"https://cdn-media-1.freecodecamp.org/images/0*s7pV_mfdT_FlIhCW\">\n    <meta property=\"article:published_time\" content=\"2019-01-11T16:17:17.000Z\">\n    <meta property=\"article:modified_time\" content=\"2019-06-13T21:08:11.000Z\">\n    \n        <meta property=\"article:tag\" content=\"Python\">\n    \n        <meta property=\"article:tag\" content=\"API\">\n    \n        <meta property=\"article:tag\" content=\"Technology\">\n    \n        <meta property=\"article:tag\" content=\"Life Hacking\">\n    \n        <meta property=\"article:tag\" content=\"Productivity\">\n    \n    <meta property=\"article:publisher\" content=\"https://www.facebook.com/freecodecamp\">\n    \n\n    \n    <meta name=\"twitter:card\" content=\"summary_large_image\">\n    <meta name=\"twitter:title\" content=\"How to save time and money by building an automatic meal planner\">\n    \n        <meta name=\"twitter:description\" content=\"Use the Google Calendar and Google Sheets APIs to select the right recipe on the right day. Do you also get stressed out when you get the question “what’s for dinner tonight?” You’re not alone. I guess it’s the most asked question as the clock strikes 4 p.m. Deciding what\">\n    \n    <meta name=\"twitter:url\" content=\"https://www.freecodecamp.org/news/how-to-save-time-and-money-by-building-an-automatic-meal-planner-7c7a9351d124/\">\n    <meta name=\"twitter:image\" content=\"https://cdn-media-1.freecodecamp.org/images/0*s7pV_mfdT_FlIhCW\">\n    <meta name=\"twitter:label1\" content=\"Written by\">\n    <meta name=\"twitter:data1\" content=\"Bert Carremans\">\n    <meta name=\"twitter:label2\" content=\"Filed under\">\n    <meta name=\"twitter:data2\" content=\"Python, API, Technology, Life Hacking, Productivity\">\n    <meta name=\"twitter:site\" content=\"@freecodecamp\">\n    \n\n    <meta property=\"og:image:width\" content=\"800\">\n    <meta property=\"og:image:height\" content=\"534\">\n\n\n        \n    <script type=\"application/ld+json\">{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://cdn-media-1.freecodecamp.org/images/0*s7pV_mfdT_FlIhCW\",\n\t\t\"width\": 800,\n\t\t\"height\": 534\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/how-to-save-time-and-money-by-building-an-automatic-meal-planner-7c7a9351d124/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2019-01-11T16:17:17.000Z\",\n\t\"dateModified\": \"2019-06-13T21:08:11.000Z\",\n\t\"keywords\": \"Python, API, Technology, Life Hacking, Productivity\",\n\t\"description\": \"Use the Google Calendar and Google Sheets APIs to select the right recipe on the\\nright day.\\nDo you also get stressed out when you get the question “what’s for dinner\\ntonight?” You’re not alone. I guess it’s the most asked question as the clock\\nstrikes 4 p.m. Deciding what to eat can be a tedious chore. Especially when you\\nhave small children with various after-school activities.\\n\\nTo avoid going to the supermarket every day, we usually write up a menu with\\nrecipes for the coming week. That way we\",\n\t\"headline\": \"How to save time and money by building an automatic meal planner\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Bert Carremans\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/bertcarremans/\",\n\t\t\"sameAs\": [],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2021/05/bert-carremans-gravatar.jpeg\",\n\t\t\t\"width\": 600,\n\t\t\t\"height\": 400\n\t\t}\n\t}\n}</script>\n\n\n        <meta name=\"generator\" content=\"Eleventy\">\n        <link rel=\"alternate\" type=\"application/rss+xml\" title=\"freeCodeCamp.org\" href=\"https://www.freecodecamp.org/news/rss/\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n\n<!-- dataLayer setup -->\n<script>\nwindow.dataLayer = window.dataLayer || [];\n</script>\n<!-- End dataLayer setup -->\n\n<!-- Google Tag Manager -->\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');</script>\n<!-- End Google Tag Manager -->\n\n\n<meta name=\"google-site-verification\" content=\"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E\">\n\n        \n        \n\n        \n  <meta name=\"x-fcc-source\" data-test-label=\"x-fcc-source\" content=\"Ghost\">\n\n    </head>\n\n    \n        <body class=\"home-template\">\n    \n        <div class=\"site-wrapper\">\n            <nav class=\"site-nav nav-padding\">\n    <div class=\"site-nav-left\">\n        \n<form id=\"search-form\" data-test-label=\"search-bar\">\n    <div role=\"search\" class=\"searchbox__wrapper\">\n        <label class=\"fcc_sr_only\" for=\"search-input\">\n            Search\n        </label>\n        <input type=\"search\" placeholder=\"\n    Search 11,200+ tutorials\n\" id=\"search-input\">\n        <button type=\"submit\" class=\"ais-SearchBox-submit\">\n            <svg class=\"ais-SearchBox-submitIcon\" xmlns=\"https://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 40 40\">\n    <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n</svg>\n\n            <span class=\"fcc_sr_only\">Submit your search query</span>\n        </button>\n        <div id=\"dropdown-container\"></div>\n    </div>\n</form>\n\n    </div>\n    <div class=\"site-nav-middle\">\n        <a class=\"site-nav-logo\" href=\"https://www.freecodecamp.org/news/\" data-test-label=\"site-nav-logo\"><img src=\"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\" alt=\"freeCodeCamp.org\"></a>\n    </div>\n    <div class=\"site-nav-right\">\n        <div class=\"nav-group\">\n            <a class=\"nav-forum\" id=\"nav-forum\" rel=\"noopener noreferrer\" href=\"https://forum.freecodecamp.org/\" target=\"_blank\" data-test-label=\"forum-button\">Forum</a>\n            <a class=\"toggle-button-nav\" id=\"nav-donate\" rel=\"noopener noreferrer\" href=\"https://www.freecodecamp.org/donate/\" target=\"_blank\" data-test-label=\"donate-button\">Donate</a>\n        </div>\n    </div>\n</nav>\n\n\n            \n            <a class=\"banner\" id=\"banner\" data-test-label=\"banner\" rel=\"noopener noreferrer\" target=\"_blank\">\n    <p id=\"banner-text\"></p>\n</a>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const e=document.getElementById(\"banner\"),t=document.getElementById(\"banner-text\");isAuthenticated?(t.innerHTML=\"Support our charity and our mission. <span>Donate to freeCodeCamp.org</span>.\",e.href=\"https://www.freecodecamp.org/donate\",e.setAttribute(\"text-variation\",\"authenticated\")):isDonor?(t.innerHTML=\"Thank you for supporting freeCodeCamp through <span>your donations</span>.\",e.href=\"https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp/\",e.setAttribute(\"text-variation\",\"donor\")):(t.innerHTML=\"Learn to code — <span>free 3,000-hour curriculum</span>\",e.href=\"https://www.freecodecamp.org/\",e.setAttribute(\"text-variation\",\"default\"))}));</script>\n\n\n            <div id=\"error-message\"></div>\n\n            \n    <main id=\"site-main\" class=\"post-template site-main outer\">\n        <div class=\"inner ad-layout\">\n            <article class=\"post-full post\">\n                <header class=\"post-full-header\">\n                    <section class=\"post-full-meta\">\n                        <time class=\"post-full-meta-date\" data-test-label=\"post-full-meta-date\" datetime=\"Fri Jan 11 2019 16:17:17 GMT+0000 (Coordinated Universal Time)\">\n                            January 11, 2019\n                        </time>\n                        \n                            <span class=\"date-divider\">/</span>\n                            <a dir=\"ltr\" href=\"/news/tag/python/\">\n                                #Python\n                            </a>\n                        \n                    </section>\n                    <h1 class=\"post-full-title\" data-test-label=\"post-full-title\">How to save time and money by building an automatic meal planner</h1>\n                </header>\n                <div class=\"post-full-author-header\" data-test-label=\"author-header-no-bio\">\n                    \n                        \n                            \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"600\" height=\"400\" onerror=\"this.style.display='none'\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content author-card-content-no-bio\">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n        </section>\n    </section>\n\n                        \n                    \n                </div>\n                <figure class=\"post-full-image\">\n                    \n    <picture>\n      <source media=\"(max-width: 700px)\" sizes=\"1px\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w\">\n      <source media=\"(min-width: 701px)\" sizes=\"(max-width: 800px) 400px, (max-width: 1170px) 700px, 1400px\" srcset=\"https://cdn-media-1.freecodecamp.org/images/0*s7pV_mfdT_FlIhCW\">\n      <img onerror=\"this.style.display='none'\" src=\"https://cdn-media-1.freecodecamp.org/images/0*s7pV_mfdT_FlIhCW\" alt=\"How to save time and money by building an automatic meal planner\" ,=\"\" width=\"800\" height=\"534\" data-test-label=\"feature-image\">\n    </picture>\n  \n                </figure>\n                <section class=\"post-full-content\">\n                    <div class=\"post-and-sidebar\">\n                        <section class=\"post-content \" data-test-label=\"post-content\">\n                            \n<h4 id=\"use-the-google-calendar-and-google-sheets-apis-to-select-the-right-recipe-on-the-right-day-\">Use the Google Calendar and Google Sheets APIs to select the right recipe on the right day.</h4><p>Do you also get stressed out when you get the question “what’s for dinner tonight?” You’re not alone. I guess it’s the most asked question as the clock strikes 4 p.m. Deciding what to eat can be a tedious chore. Especially when you have small children with various after-school activities.</p><p>To avoid going to the supermarket every day, we usually write up a menu with recipes for the coming week. That way we can buy all our groceries in one supermarket visit. This saves us a lot of time. Besides that, it also saves us money. That is because we are less exposed to all the selling <a href=\"https://www.rd.com/health/healthy-eating/supermarket-tricks/\" rel=\"noopener\">tricks supermarkets use</a>.</p><p>Finding recipes for a whole week requires some thinking and planning. We have to take into account the eating preferences of all family members. Besides that, we have a limited time available for cooking each day. To make this easier, I built an automatic meal planner with these features:</p><ul><li>extract the work planning for me and my wife from our shared Google calendars</li><li>extract our preferred recipes from a Google spreadsheet,</li><li>repeat some recipes each week on the same day</li><li>leave one week in between before repeating the other recipes</li><li>I like cooking more than my wife. So on days that I can’t cook the recipes should be short in time</li><li>upload the week menu in a Google calendar</li></ul><p>Let’s jump right in.</p><h3 id=\"using-the-google-calendar-api-and-google-sheets-api\">Using the Google calendar API and Google sheets API</h3><p>First, we’ll need to <a href=\"https://cloud.google.com/resource-manager/docs/creating-managing-projects\" rel=\"noopener\">create a new Google Cloud project</a>. Before we can use the Google calendar and sheets in this project, we need to enable the API’s. This is very well explained on the web pages below:</p><ul><li><a href=\"https://developers.google.com/calendar/quickstart/python\" rel=\"noopener\">Enabling the Google Calendar API</a></li><li><a href=\"https://developers.google.com/sheets/api/quickstart/python\" rel=\"noopener\">Enabling the Google Sheets API</a></li></ul><p>When that’s done, we continue by importing the necessary Python packages.</p><pre><code>import config as cfg\nimport pandas as pd\nimport numpy as np\nfrom pathlib import Path\nfrom datetime import datetime\nfrom datetime import timedelta\nfrom googleapiclient.discovery import build\nfrom google.oauth2 import service_account</code></pre><h3 id=\"configuration\">Configuration</h3><p>For privacy and security reasons, I keep some parameters in a separate config.py file. We import the file with the alias <code>cfg</code>. I will discuss these parameters further below with fictitious values. You can include them for your own app with values relevant to your case.</p><h4 id=\"scopes\">Scopes</h4><p>With scopes, we define the access levels for the Google calendars and sheets. We will need read and write access to both the <a href=\"https://developers.google.com/calendar/auth\" rel=\"noopener\">calendars</a> and <a href=\"https://developers.google.com/sheets/api/guides/authorizing\" rel=\"noopener\">sheet</a>. Thus we use the URLs below.</p><pre><code class=\"language-python\">SCOPES = ['https://www.googleapis.com/auth/calendar'\n          , 'https://www.googleapis.com/auth/spreadsheets']</code></pre><h4 id=\"google-sheet-id-and-range\">Google sheet ID and range</h4><pre><code class=\"language-python\">SPREADSHEET_ID = &lt;Your Google sheet ID&gt;\nRANGE = 'recepten!A:G'</code></pre><p>We need to specify the ID of the Google sheet with the recipes. Additionally, we specify the sheet range containing the recipes.</p><p>You can find the ID of your Google sheets<strong> </strong>by right-clicking on the sheet in Google Drive. Then select “Get shareable link”. You can find the ID after “https://drive.google.com/open?id=”.</p><p>In my Google sheet “recepten”, columns A to G contain information on each recipe. The screenshot below shows some sample content. So <code>RANGE</code> needs to be set to “recepten!A:G”<em>.</em></p><figure class=\"kg-card kg-image-card\"><img src=\"https://cdn-media-1.freecodecamp.org/images/NsQwKBmPmvZY-OYzX30WqMo9GC8j3NKV4XR1\" class=\"kg-image\" alt=\"NsQwKBmPmvZY-OYzX30WqMo9GC8j3NKV4XR1\" width=\"800\" height=\"148\" loading=\"lazy\"></figure><h4 id=\"google-calendar-ids\">Google Calendar IDs</h4><pre><code class=\"language-python\">CALENDARID_1 = &lt;Your Google Calendar ID&gt;\nCALENDARID_2 = &lt;Your partner's Google Calendar ID&gt;\nCALENDARID_WEEKMENU = &lt;Google Calendar ID for the week menu&gt;</code></pre><p>We need to specify the Google Calendar IDs to get the events from. Make sure you have access to all calendars you want to include. You can find the ID by executing this <a href=\"https://developers.google.com/apis-explorer/#p/calendar/v3/calendar.calendarList.list\" rel=\"noopener\">script from the APIs Explorer</a>.</p><p>For this project, we will extract the events of only two calendars. But you could adapt the code to loop over more calendars. I’ve also created a separate calendar to upload the recipes.</p><h4 id=\"event-labels\">Event labels</h4><pre><code class=\"language-python\">BUSY_EVENTS = [&lt;Labels of busy calendar events&gt;]\nFREE_EVENTS = [&lt;Labels of free calendar events&gt;]\nALL_EVENTS = BUSY_EVENTS + FREE_EVENTS</code></pre><p>My wife works in shifts and adds them to her Google Calendar by using letter codes. For example: “B” stands for the afternoon shift. This event is one of the <code>BUSY_EVENTS</code>.</p><p>When I have a day off, I add “HOLIDAY” to my calendar. This event is one of the <code>FREE_EVENTS.</code></p><p>All the events are full-day events in the Google Calendars. You can use your own event labels scheme.</p><h4 id=\"traditions\">Traditions</h4><pre><code class=\"language-python\">TRADITIONS = {   'Thursday' : 'fries'}</code></pre><p>With <code>TRADITIONS</code>, I mean that our family has a few days in the week on which we prepare a certain recipe. As we are from Belgium, this means eating fries once a week (for us on Thursday). And yes, before you’d ask, that is fries with mayonnaise.</p><p>You can specify your own traditions in a dictionary, with the name of the day as the key and the recipe as the value.</p><h4 id=\"number-of-days-to-plan-ahead\">Number of days to plan ahead</h4><p>Sometimes we can’t go to the supermarket on the day a new week menu is created. We might need some days to plan ahead. With <code>NB_DAYS_BEFORE</code> we give ourselves some slack. This means that the new week menu will be generated a certain number of days before the previous week menu has finished.</p><pre><code>NB_DAYS_BEFORE = 3</code></pre><h3 id=\"using-a-service-account\">Using a service account</h3><p>We will use a <a href=\"https://developers.google.com/api-client-library/python/auth/service-accounts\" rel=\"noopener\">service account</a> to make use of the APIs in the project. The credentials.json file is the file that you can download when enabling the APIs.</p><p>We create the credentials <code>creds</code> with the code below. These credentials enable authentication in the Google Calendars and Google sheet.</p><pre><code class=\"language-python\">creds = service_account.Credentials.from_service_account_file(\"credentials.json\", scopes=cfg.SCOPES)</code></pre><h3 id=\"getting-the-google-calendar-events\">Getting the Google Calendar events</h3><p>We start by creating the service object with the <code>build</code> method.</p><pre><code>service_cal = build('calendar', 'v3', credentials=creds)</code></pre><p>We are only interested in the events for the coming week. To filter these events, we specify the dates and format them with <code>isoformat()</code>. The parameters <code>timeMin</code> and <code>timeMax</code> need this format.</p><pre><code>def format_date(date):\n    date_time = datetime.combine(date, datetime.min.time())\n    date_time_utc = date_time.isoformat() + 'Z'\n    return date_time_utc</code></pre><p>With the method <a href=\"https://developers.google.com/calendar/v3/reference/events/list\" rel=\"noopener\">events().list</a> of the service object, we extract the events. The extracted events are then filtered for the BUSY and FREE events. All other events on the Google Calendars are not relevant in this project. We keep the start and end date and the summary of the events.</p><pre><code>def get_event_date(event, timepoint):\n    return event[timepoint].get('dateTime', event[timepoint].get('date'))\n\ndef get_events_by_calendarId(service, calendarId, timeMin, timeMax, allEvents):\n    events_result = service.events().list(calendarId=calendarId\n                                        , timeMin=timeMin\n                                        , timeMax=timeMax\n                                        , singleEvents=True\n                                        , orderBy='startTime').execute()\n    events = events_result.get('items', [])    \n    events_list = [(get_event_date(e, 'start'), get_event_date(e, 'end'), e['summary'].upper()) \n                   for e in events \n                   if e['summary'].upper() in allEvents]\n    return unfold_events_list(events_list)</code></pre><p>Some events spread over more than one day. For example, when you take holidays for more than one day. We unfold these multi-day events in daily events within the range of the coming week.</p><pre><code>def unfold_events_list(events_list):\n    new_events_list = []\n    for e in events_list:\n        start = datetime.strptime(e[0], '%Y-%m-%d').date()\n        end = datetime.strptime(e[1], '%Y-%m-%d').date()\n        delta_days = (end - start).days\n\n        if delta_days &gt; 1:\n            for d in range(delta_days):\n                unfolded_day = start + timedelta(days=d)\n                if unfolded_day &gt;= datetime.now().date() and unfolded_day &lt;= datetime.now().date() + timedelta(days=6):\n                    new_events_list.append((unfolded_day, e[2]))\n        else:\n            new_events_list.append((start, e[2]))\n    return new_events_list</code></pre><p>Finally, we want a Pandas DataFrame with the events of both calendars for the coming week. To get to that result, we convert the events lists to data frames and merge on the date. We also add the weekday to the merged data frame.</p><pre><code>def create_events_df(events_list_1, events_list_2):\n    events_df_1 = pd.DataFrame.from_records(events_list_1, columns=['date', 'events_cal_1'])\n    events_df_2 = pd.DataFrame.from_records(events_list_2, columns=['date', 'events_cal_2'])\n    events_df = events_df_1.merge(events_df_2, on='date', how='outer')\n    events_df.date = pd.to_datetime(events_df.date)\n    events_df.set_index('date', inplace=True)\n    events_df.sort_index(inplace=True)\n\n    dates = list(pd.period_range(START_DAY, NEXT_WEEK, freq='D').values)\n    new_idx = []\n    for d in dates:\n        new_idx.append(np.datetime64(d))\n\n    events_df = events_df.reindex(new_idx)\n    events_df.reset_index(inplace=True)\n    events_df['weekday'] = events_df.date.apply(lambda x: x.strftime('%A'))\n    events_df.set_index('date', inplace=True)\n    return events_df</code></pre><p>To make sure we cover all dates of the coming week, we use a <code>period_range</code> and <code>reindex</code> the merged data frame.</p><h3 id=\"getting-the-recipes-from-the-google-sheet\">Getting the recipes from the Google sheet</h3><p>At this point, we have a data frame with all days of the coming week and the events (if any) occurring in the two calendars. Now we can start to extract the recipes from the Google sheet and assign a recipe to each day. As with the Google Calendar API, let’s start by creating the service object for the Google Sheets API.</p><pre><code>service_sheet = build('sheets', 'v4', credentials=creds)</code></pre><p>With the method <a href=\"https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets.values/get\" rel=\"noopener\">spreadsheets().values().get</a> we can extract the recipes from the Google Sheet.</p><pre><code>def get_recipes(service, spreadsheetId, range):\n    recipes_result = service.spreadsheets().values().get(spreadsheetId=spreadsheetId, range=range).execute()\n    recipes = recipes_result.get('values', [])\n    recipes_df = pd.DataFrame.from_records(recipes[1:], columns=recipes[0])\n    recipes_df.last_date_on_menu = pd.to_datetime(recipes_df.last_date_on_menu, dayfirst=True)\n    recipes_df.set_index('row_number', inplace=True)\n    eligible_recipes = recipes_df[ (recipes_df.last_date_on_menu &lt; PREV_WEEK) | (np.isnat(recipes_df.last_date_on_menu)) ]\n    return recipes_df, eligible_recipes</code></pre><p>Next, we create a data frame with the recipes. I like working with Pandas DataFrames, but you could use other data structures as well of course.</p><p>The <code>row_number</code> is a field calculated in the Google Sheet itself. We use the Google Sheet function <code>ROW()</code> for that. It will help to update the field <code>last_date_on_menu</code> in the correct row. We will update that date when a recipe is chosen for the coming week.</p><p>We need to make sure that a recipe is only repeated after one week. So we filter <code>recipes_df</code> by <code>last_date_on_menu</code>. This date must be empty or before the previous week.</p><h3 id=\"generating-the-week-menu\">Generating the week menu</h3><p>In this step, we will assign an eligible recipe to each day of the coming week.</p><pre><code>def generate_weekmenu(service, events_df, traditions, free_events):\n    weekmenu_df = events_df.copy()\n\n    for i, r in events_df.iterrows():\n        if r.weekday in traditions.keys():\n            weekmenu_df.loc[i, 'recipe'] = traditions[r.weekday]\n            weekmenu_df.loc[i, 'description'] = ''\n        else:\n            if r.weekday in ['Saturday', 'Sunday']:\n                row_number = choose_recipe('difficult', i, weekmenu_df, eligible_recipes)\n                update_sheet(service, row_number, i.strftime('%d-%m-%Y'), cfg.SPREADSHEET_ID)\n            elif r.events_cal_1 in free_events or r.events_cal_2 in free_events \\\n            or pd.isnull(r.events_cal_1) or pd.isnull(r.events_cal_2):\n                row_number = choose_recipe('medium', i, weekmenu_df, eligible_recipes)\n                update_sheet(service, row_number, i.strftime('%d-%m-%Y'), cfg.SPREADSHEET_ID)\n            else:\n                row_number = choose_recipe('easy', i, weekmenu_df, eligible_recipes)\n                update_sheet(service, row_number, i.strftime('%d-%m-%Y'), cfg.SPREADSHEET_ID)\n    return weekmenu_df</code></pre><p>To take into account the work planning (BUSY and FREE events), we will use the <code>difficulty</code> of each recipe. A random recipe of the preferred difficulty will be added to <code>weekmenu_df.</code> Finally we drop it from the eligible recipes to avoid duplicate recipes in the same week.</p><pre><code class=\"language-python\">def choose_recipe(difficulty, idx, weekmenu_df, eligible_recipes):\n    choice_idx = np.random.choice(eligible_recipes.query(\"difficulty == '\" + difficulty + \"'\" ).index.values)\n    weekmenu_df.loc[idx, 'recipe'] = eligible_recipes.loc[choice_idx, 'recipe']\n    weekmenu_df.loc[idx, 'description'] = eligible_recipes.loc[choice_idx, 'description']\n    eligible_recipes.drop(choice_idx, inplace=True)\n    return choice_idx</code></pre><p>The method <a href=\"https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets.values/update\" rel=\"noopener\">spreadsheets().values().update</a> updates the Google Sheet.</p><pre><code class=\"language-python\">def update_sheet(service, row_number, date, spreadsheetId):\n    range = \"recepten!F\"  + str(row_number)\n    values = [[date]]\n    body = {'values' : values}\n    result = service.spreadsheets().values().update(spreadsheetId=spreadsheetId\n                                                    , range=range\n                                                    , valueInputOption='USER_ENTERED'\n                                                    , body=body).execute()</code></pre><p>We iterate over each row of <code>weekmenu_df</code>. If the weekday is one of the TRADITIONS weekdays, we assign the corresponding recipe. For the other weekdays, we apply the following logic:</p><ul><li>In the weekend, choose a difficult recipe</li><li>During the week, when I’m at home or my wife has a day off, choose a recipe with medium difficulty</li><li>During the week, when I or my wife are at work, choose an easy recipe</li></ul><h3 id=\"adding-the-week-menu-to-a-google-calendar\">Adding the week menu to a Google Calendar</h3><p>Now that we have a menu for the coming week, we can add it as events to a Google Calendar. I’ve created a separate calendar for it. Share this calendar with the <code>client_email</code> in credentials.json. In the settings of your calendar you also need to give it permission to make changes in the events.</p><pre><code>def add_weekmenu_to_calendar(service, weekmenu_df, calendarId):\n    for i, r in weekmenu_df.iterrows():\n        event = {\n        'summary': r.recipe,\n        'description': r.description,\n        'start': {\n            'date': i.date().isoformat(),\n            'timeZone': 'Europe/Brussels'\n        },\n        'end': {\n            'date': i.date().isoformat(),\n            'timeZone': 'Europe/Brussels'\n        }\n        }\n        event = service.events().insert(calendarId=calendarId, body=event).execute()</code></pre><h3 id=\"let-s-automate\">Let’s automate</h3><p>Until now we have taken into account all the requested features for the application. But you would still have to run the code by hand to generate the week menu.</p><p>I found this great website <a href=\"https://www.pythonanywhere.com/\" rel=\"noopener\">PythonAnyWhere</a> where you can schedule Python programs. The free Beginner account allows to schedule one Python program on a daily basis. That’s exactly what we need.</p><p>First, we need to stitch all the functions together and put them in a Python file. In this file, I do an extra check to see where we are in the current week menu. I do this by looking at the last date with a recipe in the Google Calendar with <code>get_date_last_event.</code></p><pre><code>def get_date_last_event(service, calendarId):\n    events_result = service.events().list(calendarId=calendarId\n                                        , singleEvents=True\n                                        , orderBy='startTime').execute()\n    date_last_event = events_result.get('items', [])[-1]['start']['date'][:10]\n    date_last_event = datetime.strptime(date_last_event, '%Y-%m-%d').date()\n    return date_last_event</code></pre><p>That date is stored in <code>DATE_LAST_RECIPE.</code> If the current day is after <code>DATE_LAST_RECIPE</code> minus <code>NB_DAYS_BEFORE</code> we can generate a new week menu.</p><p>You can find the complete script on <a href=\"https://github.com/bertcarremans/weekmenu/blob/master/generate_weekmenu.py\" rel=\"noopener\">Github</a>.</p><pre><code>if __name__ == '__main__':\n    # Getting credentials from credentials.json\n    CREDS_PATH = Path.cwd() / \"weekmenu\" / \"credentials.json\"\n    creds = service_account.Credentials.from_service_account_file(CREDS_PATH, scopes=cfg.SCOPES)\n\n    # Creating service objects\n    service_cal = build('calendar', 'v3', credentials=creds)\n    service_sheet = build('sheets', 'v4', credentials=creds)\n\n    # Defining dates\n    DATE_LAST_RECIPE = get_date_last_event(service_cal, cfg.CALENDARID_WEEKMENU) \n    START_DAY = DATE_LAST_RECIPE + timedelta(days=1)\n    NEXT_WEEK = START_DAY + timedelta(days=6)\n    PREV_WEEK = START_DAY + timedelta(days=-7)\n    START_DAY = format_date(START_DAY)\n    NEXT_WEEK = format_date(NEXT_WEEK)\n    PREV_WEEK = format_date(PREV_WEEK)\n\n    # Getting the recipes from the Google Sheet\n    recipes_df, eligible_recipes = get_recipes(service_sheet, cfg.SPREADSHEET_ID, cfg.RANGE)\n\n    # Check if the last weekmenu is still active\n    if DATE_LAST_RECIPE - timedelta(days=cfg.NB_DAYS_BEFORE) &lt; datetime.now().date():\n        # Getting the events from the Google Calendars\n        events_list_1 = get_events_by_calendarId(service_cal, cfg.CALENDARID_1, START_DAY, NEXT_WEEK, cfg.ALL_EVENTS)\n        events_list_2 = get_events_by_calendarId(service_cal, cfg.CALENDARID_2, START_DAY, NEXT_WEEK, cfg.ALL_EVENTS)\n\n        # Merge the two events lists\n        events_df = create_events_df(events_list_1, events_list_2)\n\n        # Generating the weekmenu\n        weekmenu_df = generate_weekmenu(service_sheet, events_df, cfg.TRADITIONS, cfg.FREE_EVENTS)\n\n        # Adding the weekmenu to a Google Calendar\n        add_weekmenu_to_calendar(service_cal, weekmenu_df, cfg.CALENDARID_WEEKMENU)\n        print('Week menu is added to Google Calendar')\n    else:\n        print('Program stopped. Last week menu is not finished yet.')</code></pre><p>On PythonAnyWhere I’ve created a subfolder week menu. I’ve uploaded the following files config.py, generate_weekmenu.py and credentials.json.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://cdn-media-1.freecodecamp.org/images/RhtFm84JZutzhpZgJopF8gwsWlZJxqdgalRr\" class=\"kg-image\" alt=\"RhtFm84JZutzhpZgJopF8gwsWlZJxqdgalRr\" width=\"800\" height=\"323\" loading=\"lazy\"><figcaption>Project files on PythonAnyWhere.com</figcaption></figure><p>I then schedule a daily task that will run the generate_weekmenu.py script in the Tasks section. And voilà, we’re all set.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://cdn-media-1.freecodecamp.org/images/ouqyRFUVYlqgjHektAW6MFS4yTd3YriPIDE9\" class=\"kg-image\" alt=\"ouqyRFUVYlqgjHektAW6MFS4yTd3YriPIDE9\" width=\"800\" height=\"160\" loading=\"lazy\"></figure><h3 id=\"the-result\">The result</h3><p>After the first run of the script, we have a nice menu in our shared Google calendar.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://cdn-media-1.freecodecamp.org/images/sVaq0YRZX3xTTN4EHwF-jThLXdOmCi31TPC2\" class=\"kg-image\" alt=\"sVaq0YRZX3xTTN4EHwF-jThLXdOmCi31TPC2\" width=\"800\" height=\"169\" loading=\"lazy\"><figcaption>Automated week menu in a shared Google Calendar</figcaption></figure><h3 id=\"conclusion\">Conclusion</h3><p>This script takes into account your professional schedule on your Google calendars. It selects your preferred recipes from a Google sheet. And by scheduling the script the recipes appear in an automated way in your Google Calendar. This frees you from the annoying chore to decide what to eat.</p><p>If you want to take it further, here are some ideas to fine-tune the script:</p><ul><li>take into account the cooking time of a recipe</li><li>allow a tradition of having at least one vegetarian meal per week</li><li>generate a grocery list for the chose recipes</li></ul><p>I hope you enjoyed reading this story. If you have questions or suggestions about the script you can write a comment below. And if you liked it, feel free to clap for it.</p>\n\n                        </section>\n                        \n                            <div class=\"sidebar\">\n                                \n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                \n                            </div>\n                        \n                    </div>\n                    <hr>\n                    \n                        <div class=\"post-full-author-header\" data-test-label=\"author-header-with-bio\">\n                            \n                                \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2021/05/bert-carremans-gravatar.jpeg\" class=\"author-profile-image\" alt=\"Bert Carremans\" width=\"600\" height=\"400\" onerror=\"this.style.display='none'\" loading=\"lazy\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content \">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/bertcarremans/\" data-test-label=\"profile-link\">\n                    \n                        Bert Carremans\n                    \n                </a>\n            </span>\n            \n                \n                    <p data-test-label=\"author-bio\">Data Scientist</p>\n                \n            \n        </section>\n    </section>\n\n                            \n                        </div>\n                        <hr>\n                    \n\n                    \n                    \n                        \n    \n\n\n<p data-test-label=\"social-row-cta\" class=\"social-row\">\n    If this article was helpful, <button id=\"tweet-btn\" class=\"cta-button\" data-test-label=\"tweet-button\">share it</button>.\n</p>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const t=document.getElementById(\"tweet-btn\"),e=window.location,n=\"How%20to%20save%20time%20and%20money%20by%20building%20an%20automatic%20meal%20planner\".replace(/&#39;/g,\"%27\"),o=\"\",i=\"\",r=Boolean(\"\");let a;if(r&&(o||i)){const t={originalPostAuthor:\"\",currentPostAuthor:\"Bert Carremans\"};a=encodeURIComponent(`Thank you ${o||t.originalPostAuthor} for writing this helpful article, and ${i||t.currentPostAuthor} for translating it.`)}else!r&&i&&(a=encodeURIComponent(`Thank you ${i} for writing this helpful article.`));const l=`window.open(\\n    '${a?`https://twitter.com/intent/tweet?text=${a}%0A%0A${n}%0A%0A${e}`:`https://twitter.com/intent/tweet?text=${n}%0A%0A${e}`}',\\n    'share-twitter',\\n    'width=550, height=235'\\n  ); return false;`;t.setAttribute(\"onclick\",l)}));</script>\n\n\n                        \n\n<div class=\"learn-cta-row\" data-test-label=\"learn-cta-row\">\n    <p>\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href=\"https://www.freecodecamp.org/learn/\" class=\"cta-button\" id=\"learn-to-code-cta\" rel=\"noopener noreferrer\" target=\"_blank\">Get started</a>\n    </p>\n</div>\n\n                    \n                </section>\n                \n                    <div class=\"banner-ad bottom\">\n                        \n                            <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                        \n                    </div>\n                \n            </article>\n        </div>\n    </main>\n\n\n            \n\n\n<footer class=\"site-footer\">\n    <div class=\"footer-top\">\n        <div class=\"footer-desc-col\">\n            <p data-test-label=\"tax-exempt-status\">freeCodeCamp is a donor-supported tax-exempt 501(c)(3) charity organization (United States Federal Tax Identification Number: 82-0779546)</p>\n            <p data-test-label=\"mission-statement\">Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public.</p>\n            <p data-test-label=\"donation-initiatives\">Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.</p>\n            <p class=\"footer-donation\" data-test-label=\"donate-text\">\n                You can <a href=\"https://www.freecodecamp.org/donate/\" class=\"inline\" rel=\"noopener noreferrer\" target=\"_blank\">make a tax-deductible donation here</a>.\n            </p>\n        </div>\n        <div class=\"trending-guides\" data-test-label=\"trending-guides\">\n            <h2 id=\"trending-guides\" class=\"col-header\">Trending Guides</h2>\n            <ul class=\"trending-guides-articles\" aria-labelledby=\"trending-guides\">\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-transform-functions-and-properties/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Transform\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-create-a-static-blog-with-lume/\" rel=\"noopener noreferrer\" target=\"_blank\">Build a Static Blog\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-build-an-ai-chatbot-with-redis-python-and-gpt/\" rel=\"noopener noreferrer\" target=\"_blank\">Build an AI Chatbot\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/what-is-programming-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">What is Programming?\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Python Code Examples\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/a-practical-guide-to-start-opensource-contributions/\" rel=\"noopener noreferrer\" target=\"_blank\">Open Source for Devs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/http-full-course/\" rel=\"noopener noreferrer\" target=\"_blank\">HTTP Networking in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-unit-tests-in-react-redux/\" rel=\"noopener noreferrer\" target=\"_blank\">Write React Unit Tests\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/introduction-to-algorithms-with-javascript-examples/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Algorithms in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-clean-code/\" rel=\"noopener noreferrer\" target=\"_blank\">How to Write Clean Code\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-php-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn PHP\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-java-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Java\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-swift-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Swift\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-golang-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Golang\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/get-started-with-nodejs/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Node.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-grid/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Grid\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-solidity-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Solidity\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-express-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Express.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/javascript-es-modules-and-module-bundlers/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn JS Modules\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/apache-kafka-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Apache Kafka\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/rest-api-design-best-practices-build-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">REST API Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/front-end-javascript-development-react-angular-vue-compared/\" rel=\"noopener noreferrer\" target=\"_blank\">Front-End JS Development\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-consume-and-document-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build REST APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-strongly-typed-polymorphic-components-with-react-and-typescript/\" rel=\"noopener noreferrer\" target=\"_blank\">Intermediate TS and React\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/command-line-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Command Line for Beginners\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-operating-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Intro to Operating Systems\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/building-consuming-and-documenting-a-graphql-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build GraphQL APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/oss-security-best-practices/\" rel=\"noopener noreferrer\" target=\"_blank\">OSS Security Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/design-patterns-for-distributed-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Distributed Systems Patterns\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-software-architecture-patterns/\" rel=\"noopener noreferrer\" target=\"_blank\">Software Architecture Patterns\n                    </a>\n                </li>\n            </ul>\n            <div class=\"spacer\" style=\"padding: 15px 0;\"></div>\n            <div>\n                <h2 id=\"mobile-app\" class=\"col-header\">\n                    Mobile App\n                </h2>\n                <div class=\"min-h-[1px] px-[15px] md:w-2/3 md:ml-[16.6%]\">\n                    <ul aria-labelledby=\"mobile-app\" class=\"mobile-app-container\">\n                        <li>\n                            <a href=\"https://apps.apple.com/us/app/freecodecamp/id6446908151?itsct=apps_box_link&itscg=30200\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/apple-store-badge.svg\" lang=\"en\" alt=\"Download on the App Store\">\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"https://play.google.com/store/apps/details?id=org.freecodecamp\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/google-play-badge.svg\" lang=\"en\" alt=\"Get it on Google Play\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer-bottom\">\n        <h2 class=\"col-header\" data-test-label=\"our-nonprofit\">Our Charity</h2>\n        <div class=\"our-nonprofit\">\n            <a href=\"https://www.freecodecamp.org/news/about/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"about\">\n                About\n            </a>\n            <a href=\"https://www.linkedin.com/school/free-code-camp/people/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"alumni\">\n                Alumni Network\n            </a>\n            <a href=\"https://github.com/freeCodeCamp/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"open-source\">\n                Open Source\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/shop/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"shop\">\n                Shop\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/support/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"support\">\n                Support\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/sponsors/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"sponsors\">\n                Sponsors\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/academic-honesty-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"honesty\">\n                Academic Honesty\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/code-of-conduct/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"coc\">\n                Code of Conduct\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/privacy-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"privacy\">\n                Privacy Policy\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/terms-of-service/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"tos\">\n                Terms of Service\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/copyright-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"copyright\">\n                Copyright Policy\n            </a>\n        </div>\n    </div>\n</footer>\n\n        </div>\n\n        \n        \n        \n\n        <!-- Google Tag Manager (noscript) -->\n<noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n<!-- End Google Tag Manager (noscript) -->\n\n        \n    <script defer src=\"https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015\" integrity=\"sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==\" data-cf-beacon='{\"rayId\":\"8ab69fe24cb78348\",\"serverTiming\":{\"name\":{\"cfL4\":true}},\"version\":\"2024.7.0\",\"token\":\"bdb993c6dde44e178aabd9555e75e4f4\"}' crossorigin=\"anonymous\"></script>\n</body>\n</html>\n"}}}