{"https://www.freecodecamp.org/news/author/fiyinfoluwa/":{"https://www.freecodecamp.org//news/how-to-upload-files-to-aws-s3-with-node/":{"html":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        \n        \n            <title>How to Upload Files to Amazon S3 with Node.js</title>\n        \n        <meta name=\"HandheldFriendly\" content=\"True\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin=\"\">\n        \n            <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap\">\n        \n\n        \n        \n    <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n</noscript>\n<link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n</noscript>\n\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js\"></script>\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js\"></script>\n\n\n\n        \n        <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"/news/assets/css/global-26e2f3cde9.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/screen-926fddfac2.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/search-bar-124f5f949c.css\">\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js\"></script>\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js\"></script>\n\n        \n        \n            <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js\"></script>\n        \n\n        \n        <script>let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));</script>\n\n        \n        \n    \n        \n            <script data-ad-client=\"ca-pub-9482786369113753\" src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\" crossorigin=\"anonymous\" async=\"\"></script>\n        \n    \n\n\n        \n        \n    \n        \n    \n        \n    \n        \n    \n\n\n        \n        \n        \n\n        \n        \n\n        <link rel=\"icon\" href=\"https://cdn.freecodecamp.org/universal/favicons/favicon.ico\" type=\"image/png\">\n        \n        \n            <link rel=\"canonical\" href=\"https://www.freecodecamp.org/news/how-to-upload-files-to-aws-s3-with-node/\">\n        \n        <meta name=\"referrer\" content=\"no-referrer-when-downgrade\">\n\n        \n\n        \n    <meta name=\"description\" content=\"File upload is a common feature in a lot of modern applications. These platforms accept different file formats, including jpeg, png, gif, pdf, txt, zip, and mp3.  Some applications will also restrict uploads to a specific file type. For example, when uploading your resume on LinkedIn, you will see\">\n\n    \n    <meta property=\"og:site_name\" content=\"freeCodeCamp.org\">\n    <meta property=\"og:type\" content=\"article\">\n    <meta property=\"og:title\" content=\"How to Upload Files to Amazon S3 with Node.js\">\n    \n        <meta property=\"og:description\" content=\"File upload is a common feature in a lot of modern applications. These platforms accept different file formats, including jpeg, png, gif, pdf, txt, zip, and mp3.  Some applications will also restrict uploads to a specific file type. For example, when uploading your resume on LinkedIn, you will see\">\n    \n    <meta property=\"og:url\" content=\"https://www.freecodecamp.org/news/how-to-upload-files-to-aws-s3-with-node/\">\n    <meta property=\"og:image\" content=\"https://www.freecodecamp.org/news/content/images/2023/04/pexels-cottonbro-studio-3584994.jpg\">\n    <meta property=\"article:published_time\" content=\"2023-04-25T16:31:46.000Z\">\n    <meta property=\"article:modified_time\" content=\"2023-04-25T16:31:46.000Z\">\n    \n        <meta property=\"article:tag\" content=\"Cloud Computing\">\n    \n        <meta property=\"article:tag\" content=\"node.js\">\n    \n        <meta property=\"article:tag\" content=\"AWS\">\n    \n    <meta property=\"article:publisher\" content=\"https://www.facebook.com/freecodecamp\">\n    \n\n    \n    <meta name=\"twitter:card\" content=\"summary_large_image\">\n    <meta name=\"twitter:title\" content=\"How to Upload Files to Amazon S3 with Node.js\">\n    \n        <meta name=\"twitter:description\" content=\"File upload is a common feature in a lot of modern applications. These platforms accept different file formats, including jpeg, png, gif, pdf, txt, zip, and mp3.  Some applications will also restrict uploads to a specific file type. For example, when uploading your resume on LinkedIn, you will see\">\n    \n    <meta name=\"twitter:url\" content=\"https://www.freecodecamp.org/news/how-to-upload-files-to-aws-s3-with-node/\">\n    <meta name=\"twitter:image\" content=\"https://www.freecodecamp.org/news/content/images/2023/04/pexels-cottonbro-studio-3584994.jpg\">\n    <meta name=\"twitter:label1\" content=\"Written by\">\n    <meta name=\"twitter:data1\" content=\"Fiyinfoluwa Akinsiku\">\n    <meta name=\"twitter:label2\" content=\"Filed under\">\n    <meta name=\"twitter:data2\" content=\"Cloud Computing, node.js, AWS\">\n    <meta name=\"twitter:site\" content=\"@freecodecamp\">\n    \n        <meta name=\"twitter:creator\" content=\"@fiyin_a_\">\n    \n\n    <meta property=\"og:image:width\" content=\"2000\">\n    <meta property=\"og:image:height\" content=\"1336\">\n\n\n        \n    <script type=\"application/ld+json\">{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2023/04/pexels-cottonbro-studio-3584994.jpg\",\n\t\t\"width\": 2000,\n\t\t\"height\": 1336\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/how-to-upload-files-to-aws-s3-with-node/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2023-04-25T16:31:46.000Z\",\n\t\"dateModified\": \"2023-04-25T16:31:46.000Z\",\n\t\"keywords\": \"Cloud Computing, node.js, AWS\",\n\t\"description\": \"File upload is a common feature in a lot of modern applications. These platforms\\naccept different file formats, including jpeg, png, gif, pdf, txt, zip, and mp3. \\n\\nSome applications will also restrict uploads to a specific file type. For\\nexample, when uploading your resume on LinkedIn, you will see a subtext\\nspecifying DOC, DOCX, and PDF.\\n\\nUpload resume page on LinkedInSome other file upload use cases are:\\n\\n * Adding a profile picture on Instagram.\\n * Adding a product image to a Shopify store.\\n \",\n\t\"headline\": \"How to Upload Files to Amazon S3 with Node.js\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Fiyinfoluwa Akinsiku\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/fiyinfoluwa/\",\n\t\t\"sameAs\": [\n\t\t\t\"https://twitter.com/fiyin_a_\"\n\t\t],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2023/04/IMG_1839.jpeg\",\n\t\t\t\"width\": 1715,\n\t\t\t\"height\": 2548\n\t\t}\n\t}\n}</script>\n\n\n        <meta name=\"generator\" content=\"Eleventy\">\n        <link rel=\"alternate\" type=\"application/rss+xml\" title=\"freeCodeCamp.org\" href=\"https://www.freecodecamp.org/news/rss/\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n\n<!-- dataLayer setup -->\n<script>\nwindow.dataLayer = window.dataLayer || [];\n</script>\n<!-- End dataLayer setup -->\n\n<!-- Google Tag Manager -->\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');</script>\n<!-- End Google Tag Manager -->\n\n\n<meta name=\"google-site-verification\" content=\"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E\">\n\n        \n        \n\n        \n  <meta name=\"x-fcc-source\" data-test-label=\"x-fcc-source\" content=\"Ghost\">\n\n    </head>\n\n    \n        <body class=\"home-template\">\n    \n        <div class=\"site-wrapper\">\n            <nav class=\"site-nav nav-padding\">\n    <div class=\"site-nav-left\">\n        \n<form id=\"search-form\" data-test-label=\"search-bar\">\n    <div role=\"search\" class=\"searchbox__wrapper\">\n        <label class=\"fcc_sr_only\" for=\"search-input\">\n            Search\n        </label>\n        <input type=\"search\" placeholder=\"\n    Search 11,200+ tutorials\n\" id=\"search-input\">\n        <button type=\"submit\" class=\"ais-SearchBox-submit\">\n            <svg class=\"ais-SearchBox-submitIcon\" xmlns=\"https://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 40 40\">\n    <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n</svg>\n\n            <span class=\"fcc_sr_only\">Submit your search query</span>\n        </button>\n        <div id=\"dropdown-container\"></div>\n    </div>\n</form>\n\n    </div>\n    <div class=\"site-nav-middle\">\n        <a class=\"site-nav-logo\" href=\"https://www.freecodecamp.org/news/\" data-test-label=\"site-nav-logo\"><img src=\"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\" alt=\"freeCodeCamp.org\"></a>\n    </div>\n    <div class=\"site-nav-right\">\n        <div class=\"nav-group\">\n            <a class=\"nav-forum\" id=\"nav-forum\" rel=\"noopener noreferrer\" href=\"https://forum.freecodecamp.org/\" target=\"_blank\" data-test-label=\"forum-button\">Forum</a>\n            <a class=\"toggle-button-nav\" id=\"nav-donate\" rel=\"noopener noreferrer\" href=\"https://www.freecodecamp.org/donate/\" target=\"_blank\" data-test-label=\"donate-button\">Donate</a>\n        </div>\n    </div>\n</nav>\n\n\n            \n            <a class=\"banner\" id=\"banner\" data-test-label=\"banner\" rel=\"noopener noreferrer\" target=\"_blank\">\n    <p id=\"banner-text\"></p>\n</a>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const e=document.getElementById(\"banner\"),t=document.getElementById(\"banner-text\");isAuthenticated?(t.innerHTML=\"Support our charity and our mission. <span>Donate to freeCodeCamp.org</span>.\",e.href=\"https://www.freecodecamp.org/donate\",e.setAttribute(\"text-variation\",\"authenticated\")):isDonor?(t.innerHTML=\"Thank you for supporting freeCodeCamp through <span>your donations</span>.\",e.href=\"https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp/\",e.setAttribute(\"text-variation\",\"donor\")):(t.innerHTML=\"Learn to code — <span>free 3,000-hour curriculum</span>\",e.href=\"https://www.freecodecamp.org/\",e.setAttribute(\"text-variation\",\"default\"))}));</script>\n\n\n            <div id=\"error-message\"></div>\n\n            \n    <main id=\"site-main\" class=\"post-template site-main outer\">\n        <div class=\"inner ad-layout\">\n            <article class=\"post-full post\">\n                <header class=\"post-full-header\">\n                    <section class=\"post-full-meta\">\n                        <time class=\"post-full-meta-date\" data-test-label=\"post-full-meta-date\" datetime=\"Tue Apr 25 2023 16:31:46 GMT+0000 (Coordinated Universal Time)\">\n                            April 25, 2023\n                        </time>\n                        \n                            <span class=\"date-divider\">/</span>\n                            <a dir=\"ltr\" href=\"/news/tag/cloud-computing/\">\n                                #Cloud Computing\n                            </a>\n                        \n                    </section>\n                    <h1 class=\"post-full-title\" data-test-label=\"post-full-title\">How to Upload Files to Amazon S3 with Node.js</h1>\n                </header>\n                <div class=\"post-full-author-header\" data-test-label=\"author-header-no-bio\">\n                    \n                        \n                            \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2023/04/IMG_1839.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2023/04/IMG_1839.jpeg\" class=\"author-profile-image\" alt=\"Fiyinfoluwa Akinsiku\" width=\"1715\" height=\"2548\" onerror=\"this.style.display='none'\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content author-card-content-no-bio\">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/fiyinfoluwa/\" data-test-label=\"profile-link\">\n                    \n                        Fiyinfoluwa Akinsiku\n                    \n                </a>\n            </span>\n            \n        </section>\n    </section>\n\n                        \n                    \n                </div>\n                <figure class=\"post-full-image\">\n                    \n    <picture>\n      <source media=\"(max-width: 700px)\" sizes=\"1px\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w\">\n      <source media=\"(min-width: 701px)\" sizes=\"(max-width: 800px) 400px, (max-width: 1170px) 700px, 1400px\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w300/2023/04/pexels-cottonbro-studio-3584994.jpg 300w, https://www.freecodecamp.org/news/content/images/size/w600/2023/04/pexels-cottonbro-studio-3584994.jpg 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2023/04/pexels-cottonbro-studio-3584994.jpg 1000w, https://www.freecodecamp.org/news/content/images/size/w2000/2023/04/pexels-cottonbro-studio-3584994.jpg 2000w\">\n      <img onerror=\"this.style.display='none'\" src=\"https://www.freecodecamp.org/news/content/images/size/w2000/2023/04/pexels-cottonbro-studio-3584994.jpg\" alt=\"How to Upload Files to Amazon S3 with Node.js\" ,=\"\" width=\"2000\" height=\"1336\" data-test-label=\"feature-image\">\n    </picture>\n  \n                </figure>\n                <section class=\"post-full-content\">\n                    <div class=\"post-and-sidebar\">\n                        <section class=\"post-content \" data-test-label=\"post-content\">\n                            \n<p>File upload is a common feature in a lot of modern applications. These platforms accept different file formats, including jpeg, png, gif, pdf, txt, zip, and mp3. </p><p>Some applications will also restrict uploads to a specific file type. For example, when uploading your resume on LinkedIn, you will see a subtext specifying DOC, DOCX, and PDF.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2023/03/Screen-Shot-2023-03-27-at-10.08.32-AM.png\" class=\"kg-image\" alt=\"Screen-Shot-2023-03-27-at-10.08.32-AM\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w600/2023/03/Screen-Shot-2023-03-27-at-10.08.32-AM.png 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2023/03/Screen-Shot-2023-03-27-at-10.08.32-AM.png 1000w, https://www.freecodecamp.org/news/content/images/2023/03/Screen-Shot-2023-03-27-at-10.08.32-AM.png 1394w\" sizes=\"(min-width: 720px) 720px\" width=\"1394\" height=\"506\" loading=\"lazy\"><figcaption>Upload resume page on LinkedIn</figcaption></figure><p>Some other file upload use cases are:</p><ul><li>Adding a profile picture on Instagram.</li><li>Adding a product image to a Shopify store.</li><li>Adding a screenshot to a freeCodeCamp tutorial.</li><li>Selling digital products such as PDF files on Selar.</li></ul><p>Where do uploaded files go? It is advisable to save your files using cloud storage service providers. They allow users to access the file from anywhere. They also provide secure storage for the files. For example, Amazon Simple Storage Service (S3) has access policy settings which allow you to determine who has access to your S3 bucket.</p><p>You can read more about Amazon S3 security and access management on the <a href=\"https://aws.amazon.com/s3/security/\">official website</a>.</p><p>In this tutorial, I will show you how to upload files to an S3 bucket with a Node.js application.</p><h2 id=\"prerequisites\">Prerequisites</h2><p>To follow this tutorial, you should understand the following:</p><ul><li>Basic HTML.</li><li>The Node.js server.</li><li>The Express.js framework.</li></ul><p>You should also have an AWS account with an active S3 bucket. There are clear steps for <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/setting-up-s3.html#sign-up-for-aws\">setting up your AWS account</a> and <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/creating-bucket.html\">creating an S3 bucket </a>in the AWS documentation.</p><p>Now, let's get started.</p><h2 id=\"how-to-create-the-node-js-server\">How to Create the Node.js Server</h2><p>This application will use a couple of packages:</p><ul><li><code>express</code>: This is a <a href=\"https://www.freecodecamp.org/news/p/994c216e-e3df-47b3-8e00-2a899a78aa45/Node.js\">Node.</a>js framework for APIs.</li><li><code>dotenv</code>: This is to access environment variables in the <code>.env</code> file.</li><li><code>formidable</code>: This is a data parser that supports file uploads.</li><li><code>@aws-sdk/lib-storage</code>: This is an AWS SDK library for uploading large files.</li><li><code>@aws-sdk/client-s3</code>: This is an AWS SDK S3 Client for Node.js.</li></ul><p>Install them by running this command:</p><pre><code class=\"language-js\">npm install express dotenv formidable @aws-sdk/lib-storage @aws-sdk/client-s3</code></pre><p>Next, create an <code>index.js</code> file to set up the server. Since this application is for tutorial purposes, I will set up the HTML form in the same file. You can go with a different setup.</p><figure class=\"kg-card kg-code-card\"><pre><code class=\"language-javascript\">const express = require('express');\nconst app = express();\nrequire('dotenv').config();\n\napp.set('json spaces', 5); // to pretify json response\n\nconst PORT = process.env.PORT || 3000;\n\napp.get('/', (req, res) =&gt; {\n  res.send(`\n    &lt;h2&gt;File Upload With &lt;code&gt;\"Node.js\"&lt;/code&gt;&lt;/h2&gt;\n    &lt;form action=\"/api/upload\" enctype=\"multipart/form-data\" method=\"post\"&gt;\n      &lt;div&gt;Select a file: \n        &lt;input type=\"file\" name=\"file\" multiple=\"multiple\" /&gt;\n      &lt;/div&gt;\n      &lt;input type=\"submit\" value=\"Upload\" /&gt;\n    &lt;/form&gt;\n\n  `);\n});\n\napp.listen(PORT, () =&gt; {\n  console.log(`Server running on port ${PORT}.`)\n})</code></pre><figcaption>index.js</figcaption></figure><p>Start the server with the &nbsp;<code>node index.js</code> command.</p><p>To confirm that everything works as expected, check for the message <code>Server running on port 3000.</code> on your terminal.</p><p>With the server up and running, open this link <a href=\"http://127.0.0.1:3000\">http://127.0.0.1:3000/</a> (replace <code>3000</code> with your port number) on your browser. It should render a form on the webpage.</p><figure class=\"kg-card kg-image-card kg-width-wide kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2023/03/Screen-Shot-2023-03-24-at-12.29.33-PM.png\" class=\"kg-image\" alt=\"Screen-Shot-2023-03-24-at-12.29.33-PM\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w600/2023/03/Screen-Shot-2023-03-24-at-12.29.33-PM.png 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2023/03/Screen-Shot-2023-03-24-at-12.29.33-PM.png 1000w, https://www.freecodecamp.org/news/content/images/size/w1600/2023/03/Screen-Shot-2023-03-24-at-12.29.33-PM.png 1600w, https://www.freecodecamp.org/news/content/images/size/w2400/2023/03/Screen-Shot-2023-03-24-at-12.29.33-PM.png 2400w\" sizes=\"(min-width: 1200px) 1200px\" width=\"2000\" height=\"544\" loading=\"lazy\"><figcaption>Form page for the file upload</figcaption></figure><h2 id=\"how-to-configure-the-file-parser\">How to Configure the File Parser</h2><p>We will serve the files from the client to the S3 bucket using the Node.js <code>formidable</code> package.</p><p>The <code>formidable</code> module accepts an <code>options</code> object that contains a range of file properties. These properties have default values which you can overwrite to configure the parser according to your needs. Some of the keys are:</p><ul><li><code>allowEmptyFiles</code>: This is assigned a boolean value. It determines if empty files should be allowed and its value is <code>true</code> by default.</li><li><code>minFileSize</code>: This key accepts a number value representing the smallest file size allowed. The default value is 1 byte.</li><li><code>maxFileSize</code>: This also accepts a number value. It represents the largest file size allowed. The default value is 200 megabytes (MB).</li></ul><p>I want my app to accept files smaller than or equal to 100 MB in size, so I must set it as the <code>maxFileSize</code> option in the options object.</p><p>Open a <code>fileparser.js</code> file and add the code below:</p><figure class=\"kg-card kg-code-card\"><pre><code class=\"language-javascript\">const formidable = require('formidable');\n\nconst parsefile = async (req) =&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        let options = {\n            maxFileSize: 100 * 1024 * 1024, //100 MBs converted to bytes,\n            allowEmptyFiles: false\n        }\n\n        const form = formidable(options);\n        \n        form.parse(req, (err, fields, files) =&gt; {});\n    })\n}\n\nmodule.exports = parsefile;\n</code></pre><figcaption>fileparser.js</figcaption></figure><p>This service returns a promise that resolves with the upload details if successful. Otherwise, it rejects with the relevant error details. It generates a <code>form</code> instance that does not accept empty uploads and will only parse 100 MB or less. It also calls the <code>form.parse()</code> method to process the incoming request.</p><p>The parse method accepts two arguments – the request payload and a callback function. You can access fields, files, and any <code>parse()</code> error (as <code>err</code>) details here.</p><blockquote>You may overwrite this method if you are interested in directly accessing the multipart stream. Doing so will disable any <code>'field'</code> / <code>'file'</code> events processing which would occur otherwise, making you fully responsible for handling the processing. (<a href=\"https://www.npmjs.com/package/formidable\">Formidable</a>)</blockquote><p>We will not be overwriting this part since we need the form instance to stream the file to the S3 bucket. We will explore this later in this tutorial.</p><h3 id=\"how-to-handle-form-events\">How to Handle Form Events</h3><p>If you are unfamiliar with events in programming, take a look at this definition before continuing: </p><blockquote>Events are things that happen in the system you are programming, which the system tells you about so your code can react to them. (<a href=\"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events\">Source: MDN</a>)</blockquote><p>The <code>form</code> instance emits different events while processing a file, including:</p><ul><li>An <code>error</code> event for errors in the parsing process.</li><li>A <code>file</code> event when it receives a file/field pair.</li><li>A <code>progress</code> event after parsing each chunk of data.</li></ul><p>You can specify how you want to handle these events using the <code>form.on()</code> method.</p><p>The <code>on()</code> method accepts an event name and a listener function, which is triggered whenever the form emits the event. The request will sometimes timeout, like in an <code>error</code> event, if the <code>event</code> is not handled. You can control what happens when the program emits a particular event in the listener function.</p><p>Update the <code>fileparser.js</code> file with the <code>on()</code> method:</p><figure class=\"kg-card kg-code-card\"><pre><code class=\"language-javascript\">const formidable = require('formidable');\n\nconst parsefile = async (req) =&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        let options = {\n            maxFileSize: 100 * 1024 * 1024, //100 MBs converted to bytes,\n            allowEmptyFiles: false\n        }\n\n        const form = formidable(options);\n        \n        form.parse(req, (err, fields, files) =&gt; {});\n\n        form.on('error', error =&gt; {\n            reject(error.message)\n        })\n        \n        form.on('data', data =&gt; {\n            if (data.name === \"successUpload\") {\n                resolve(data.value);\n            }\n        })\n\n        \n    })\n}\n\nmodule.exports = parsefile;\n</code></pre><figcaption>fileparser.js</figcaption></figure><p>The <code>data</code> listener will return a successful response when the S3 upload is successful S3. However, the <code>error</code> listener will listen for error events and send the error response to the client. </p><p>For example, I get this error message when I try to upload an empty file.</p><figure class=\"kg-card kg-image-card kg-width-wide kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2023/04/Screen-Shot-2023-04-24-at-10.43.29-AM.png\" class=\"kg-image\" alt=\"Screen-Shot-2023-04-24-at-10.43.29-AM\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w600/2023/04/Screen-Shot-2023-04-24-at-10.43.29-AM.png 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2023/04/Screen-Shot-2023-04-24-at-10.43.29-AM.png 1000w, https://www.freecodecamp.org/news/content/images/size/w1600/2023/04/Screen-Shot-2023-04-24-at-10.43.29-AM.png 1600w, https://www.freecodecamp.org/news/content/images/size/w2400/2023/04/Screen-Shot-2023-04-24-at-10.43.29-AM.png 2400w\" sizes=\"(min-width: 1200px) 1200px\" width=\"2000\" height=\"286\" loading=\"lazy\"><figcaption>Error response for an empty file upload</figcaption></figure><p>Another event you will listen for is the <code>fileBegin</code> event.</p><p>Disclaimer: I came across this <a href=\"https://github.com/node-formidable/formidable/issues/227#issuecomment-289223225\">solution</a> on GitHub. I tweaked it to fit my use case, and it worked perfectly.</p><blockquote>It is emitted whenever a new file is detected in the upload stream. Use this event if you want to stream the file to somewhere else while buffering the upload on the file system. (<a href=\"https://www.npmjs.com/package/formidable\">Formidable</a>)</blockquote><h3 id=\"how-to-create-the-file-stream\">How to Create the File Stream</h3><p>A benefit of streaming is that we do not need to wait to receive the entire file before processing. Every chunk of data is processed as it is received.</p><p>Import the <code>Transform</code> class from the Node.js <code>stream</code> module into the <code>fileparser.js</code> file. This class will create a transform stream which will pass as the body of the uploaded object.</p><blockquote>The transform stream is a type of duplex stream that reads data, transforms the data, and then writes the transformed data in a specified format. (<a href=\"https://blog.logrocket.com/working-node-js-streams/#transform-streams\">LogRocket Blog</a>)</blockquote><p>Next, call the <code>form.on</code> method with a <code>fileBegin</code> event name and the listener function.</p><p>What does the listener function here do? </p><p>The function has two parameters – <code>formName</code> and <code>file</code>. They represent the name of the form that contains the file and the file object containing details of the file, respectively. The focus in this section is the <code>file</code> object.</p><p><code>file</code> is an instance of the Formidable <code>PersistentFile</code> <a href=\"https://github.com/node-formidable/formidable/blob/master/src/PersistentFile.js\">class</a> created from the Node.js <code>EventEmitter</code> class. The <code>PersistentFile</code> class has some methods, including <code>open()</code> and <code>end()</code>. You can overwrite them to determine what happens when any is triggered.</p><p>Create an asynchronous function to handle the stream upload and assign it to the <code>file.open</code> method.</p><p>Update the <code>fileParser.js</code> file as shown:</p><figure class=\"kg-card kg-code-card\"><pre><code class=\"language-javascript\">const formidable = require('formidable');\nconst Transform = require('stream').Transform;\n\nconst parsefile = async (req) =&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        let options = {\n            maxFileSize: 100 * 1024 * 1024, //100 MBs converted to bytes,\n            allowEmptyFiles: false\n        }\n\n        const form = formidable(options);\n        \n        form.parse(req, (err, fields, files) =&gt; {});\n\n        form.on('error', error =&gt; {\n            reject(error.message)\n        })\n        \n        form.on('data', data =&gt; {\n            if (data.name === \"successUpload\") {\n                resolve(data.value)\n            }\n        })\n        \n        form.on('fileBegin', (formName, file) =&gt; {\n\n            file.open = async function () {\n                this._writeStream = new Transform({\n                    transform(chunk, encoding, callback) {\n                        callback(null, chunk)\n                    }\n                })\n\n                this._writeStream.on('error', e =&gt; {\n                    form.emit('error', e)\n                });\n            }\n\n        })\n\n        \n    })\n}\n\nmodule.exports = parsefile;\n</code></pre><figcaption>fileparser.js</figcaption></figure><p>This function creates an instance of the <code>Transform</code> class that processes the data chunks with an internal <code>transform</code> method. The resulting stream is then set as the write stream for the <code>file</code> object using <code>this._writeStream</code>.</p><p>Next, we add the <code>on</code> listener to <code>this._writeStream</code> &nbsp;to handle any errors in the streaming process.</p><h3 id=\"how-to-upload-to-the-s3-bucket\">How to Upload to the S3 Bucket</h3><p>This is where the file storage happens.</p><p>Import the <code>Upload</code> module of the <code>@aws-sdk/lib-storage</code> package in the <code>fileparser.js</code> file. The module allows us to upload the file in parts. We will also import the <code>S3Client</code> from <code>@aws-sdk/client-s3</code>. </p><pre><code>const { Upload } = require(\"@aws-sdk/lib-storage\");\nconst { S3Client, S3 } = require(\"@aws-sdk/client-s3\");</code></pre><p>You will need your AWS credentials to configure the upload.</p><ul><li>Follow the <a href=\"https://docs.aws.amazon.com/powershell/latest/userguide/pstools-appendix-sign-up.html\">instructions</a> on the AWS website to retrieve the access keys.</li><li>Check the <a href=\"https://s3.console.aws.amazon.com/s3/buckets?\">S3 console</a> to confirm your bucket name and region.</li></ul><figure class=\"kg-card kg-image-card kg-width-wide\"><img src=\"https://www.freecodecamp.org/news/content/images/2023/04/Screen-Shot-2023-04-23-at-3.50.38-PM.png\" class=\"kg-image\" alt=\"Screen-Shot-2023-04-23-at-3.50.38-PM\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w600/2023/04/Screen-Shot-2023-04-23-at-3.50.38-PM.png 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2023/04/Screen-Shot-2023-04-23-at-3.50.38-PM.png 1000w, https://www.freecodecamp.org/news/content/images/size/w1600/2023/04/Screen-Shot-2023-04-23-at-3.50.38-PM.png 1600w, https://www.freecodecamp.org/news/content/images/2023/04/Screen-Shot-2023-04-23-at-3.50.38-PM.png 1720w\" sizes=\"(min-width: 1200px) 1200px\" width=\"1720\" height=\"652\" loading=\"lazy\"></figure><ul><li>Add them to your <code>.env</code> file and assign them to the <code>fileparser.js</code> file.</li></ul><figure class=\"kg-card kg-code-card\"><pre><code>PORT=3000\nAWS_ACCESS_KEY_ID=\nAWS_SECRET_ACCESS_KEY=\nS3_REGION=eu-central-1\nS3_BUCKET=prac-s3</code></pre><figcaption>.env file</figcaption></figure><p>Next, you will create a new instance of the <code>Upload</code> module imported from <code>@aws-sdk/lib-storage</code> within the <code>file.open</code> method. We will configure that instance with some options, including:</p><ul><li><code>client</code>: This is the destination of the file. Since we are uploading to an S3 bucket, we will use the <code>S3Client</code> provided by AWS. Create a new instance of the <code>S3Client</code> and add your AWS credentials – AWS secret access key and AWS access key ID – to configure it. You also need to specify the bucket's region in the client.</li><li><code>params</code>: This object contains the name of the S3 bucket (Bucket), the <code>Key</code> (that is, the file name), the access control list (ACL) that defines access to the data, and the <code>Body</code> (that is, the generated transform stream).</li><li><code>queueSize</code>: This defines the number of parts to be processed simultaneously. The default is 4.</li><li><code>partSize</code>: This defines the size of each part that is processed. The smallest size possible is 5MB.</li></ul><p>Here is the updated <code>fileparser.js</code> file:</p><pre><code class=\"language-Javascript\">const { Upload } = require(\"@aws-sdk/lib-storage\");\nconst { S3Client } = require(\"@aws-sdk/client-s3\");\nconst Transform = require('stream').Transform;\n\nconst accessKeyId = process.env.AWS_ACCESS_KEY_ID;\nconst secretAccessKey = process.env.AWS_SECRET_ACCESS_KEY;\nconst region = process.env.S3_REGION;\nconst Bucket = process.env.S3_BUCKET;\n\nconst parsefile = async (req) =&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        let options = {\n            maxFileSize: 100 * 1024 * 1024, //100 MBs converted to bytes,\n            allowEmptyFiles: false\n        }\n\n        const form = formidable(options);\n        \n        form.parse(req, (err, fields, files) =&gt; {});\n\n        form.on('error', error =&gt; {\n            reject(error.message)\n        })\n        \n        form.on('data', data =&gt; {\n            if (data.name === \"successUpload\") {\n                resolve(data.value);\n            }\n        })\n        \n        form.on('fileBegin', (formName, file) =&gt; {\n\n            file.open = async function () {\n                this._writeStream = new Transform({\n                    transform(chunk, encoding, callback) {\n                        callback(null, chunk)\n                    }\n                })\n\n                this._writeStream.on('error', e =&gt; {\n                    form.emit('error', e)\n                });\n                \n                // upload to S3\n                new Upload({\n                    client: new S3Client({\n                        credentials: {\n                            accessKeyId,\n                            secretAccessKey\n                        },\n                        region\n                    }),\n                    params: {\n                        ACL: 'public-read',\n                        Bucket,\n                        Key: `${Date.now().toString()}-${this.originalFilename}`,\n                        Body: this._writeStream\n                    },\n                    tags: [], // optional tags\n                    queueSize: 4, // optional concurrency configuration\n                    partSize: 1024 * 1024 * 5, // optional size of each part, in bytes, at least 5MB\n                    leavePartsOnError: false, // optional manually handle dropped parts\n                })\n                    .done()\n                    .then(data =&gt; {\n                        form.emit('data', { name: \"complete\", value: data });\n                    }).catch((err) =&gt; {\n                        form.emit('error', err);\n                    })\n            }\n\n        })\n\n        \n    })\n}\n\nmodule.exports = parsefile;\n</code></pre><p>The <code>done</code> method chained to the <code>Upload</code> instance returns a promise when the upload process is complete. </p><p>If the upload is successful, the promise resolves with an object containing information about the uploaded file. The <code>form</code> instance emits a <code>data</code> event with the <code>complete</code> name and the returned data. The emitted event sends a successful response to the client. </p><figure class=\"kg-card kg-image-card kg-width-wide kg-card-hascaption\"><img src=\"https://www.freecodecamp.org/news/content/images/2023/04/Screen-Shot-2023-04-24-at-10.42.23-AM.png\" class=\"kg-image\" alt=\"Screen-Shot-2023-04-24-at-10.42.23-AM\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w600/2023/04/Screen-Shot-2023-04-24-at-10.42.23-AM.png 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2023/04/Screen-Shot-2023-04-24-at-10.42.23-AM.png 1000w, https://www.freecodecamp.org/news/content/images/size/w1600/2023/04/Screen-Shot-2023-04-24-at-10.42.23-AM.png 1600w, https://www.freecodecamp.org/news/content/images/size/w2400/2023/04/Screen-Shot-2023-04-24-at-10.42.23-AM.png 2400w\" sizes=\"(min-width: 1200px) 1200px\" width=\"2000\" height=\"467\" loading=\"lazy\"><figcaption>Successful upload response</figcaption></figure><p>The response data has relevant details that pertain to the upload, including:</p><ul><li><code>$metadata</code>: An object containing the status code, the number of upload attempts, and so on.</li><li><code>Key</code>: The name of the file.</li><li><code>Location</code>: A URL pointing to the file's location. It also downloads it.</li></ul><p>If the upload is unsuccessful, it rejects the promise with an error message and the <code>form</code> instance triggers an <code>error</code> event.</p><p>You also want to ensure that every chunk of data is written to the stream before it closes. Modify the <code>file.end()</code> method to ensure the write stream emits a <code>finish</code> event before calling its <code>end</code> method. The <code>finish</code> event signifies that the program has written all the data to the stream, and the stream has closed. And the <code>end</code> event on the stream object indicates that the stream has ended.</p><p>The updated <code>fileparser.js</code> file:</p><pre><code>const { Upload } = require(\"@aws-sdk/lib-storage\");\nconst { S3Client } = require(\"@aws-sdk/client-s3\");\nconst Transform = require('stream').Transform;\n\nconst accessKeyId = process.env.AWS_ACCESS_KEY_ID;\nconst secretAccessKey = process.env.AWS_SECRET_ACCESS_KEY;\nconst region = process.env.S3_REGION;\nconst Bucket = process.env.S3_BUCKET;\n\nconst parsefile = async (req) =&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        let options = {\n            maxFileSize: 100 * 1024 * 1024, //100 MBs converted to bytes,\n            allowEmptyFiles: false\n        }\n\n        const form = formidable(options);\n        \n        form.parse(req, (err, fields, files) =&gt; {});\n\n        form.on('error', error =&gt; {\n            reject(error.message)\n        })\n        \n        form.on('data', data =&gt; {\n            if (data.name === \"successUpload\") {\n                resolve(data.value);\n            }\n        })\n        \n        form.on('fileBegin', (formName, file) =&gt; {\n\n            file.open = async function () {\n                this._writeStream = new Transform({\n                    transform(chunk, encoding, callback) {\n                        callback(null, chunk)\n                    }\n                })\n\n                this._writeStream.on('error', e =&gt; {\n                    form.emit('error', e)\n                });\n                \n                // upload to S3\n                new Upload({\n                    client: new S3Client({\n                        credentials: {\n                            accessKeyId,\n                            secretAccessKey\n                        },\n                        region\n                    }),\n                    params: {\n                        ACL: 'public-read',\n                        Bucket,\n                        Key: `${Date.now().toString()}-${this.originalFilename}`,\n                        Body: this._writeStream\n                    },\n                    tags: [], // optional tags\n                    queueSize: 4, // optional concurrency configuration\n                    partSize: 1024 * 1024 * 5, // optional size of each part, in bytes, at least 5MB\n                    leavePartsOnError: false, // optional manually handle dropped parts\n                })\n                    .done()\n                    .then(data =&gt; {\n                        form.emit('data', { name: \"complete\", value: data });\n                    }).catch((err) =&gt; {\n                        form.emit('error', err);\n                    })\n            }\n            \n            file.end = function (cb) {\n                this._writeStream.on('finish', () =&gt; {\n                    this.emit('end')\n                    cb()\n                })\n                this._writeStream.end()\n            }\n\n        })\n\n        \n    })\n}\n\nmodule.exports = parsefile;\n</code></pre><p>An easier-to-read update could involve abstracting the S3 upload process and calling it within the <code>fileparser.js</code> file.</p><p>Finally, update the <code>index.js</code> file with the upload route. Import the <code>fileparser</code> module and create a <code>POST</code> route. The module is a promise, which means you can handle the response with &nbsp;<code>.then()</code> and errors using <code>.catch()</code>.</p><p>The updated <code>index.js</code> file:</p><figure class=\"kg-card kg-code-card\"><pre><code class=\"language-javascript\">const express = require('express');\nconst app = express();\nrequire('dotenv').config();\n\napp.set('json spaces', 5); // to pretify json response\n\nconst PORT = process.env.PORT;\nconst fileparser = require('./fileparser');\n\napp.get('/', (req, res) =&gt; {\n  res.send(`\n    &lt;h2&gt;File Upload With &lt;code&gt;\"Node.js\"&lt;/code&gt;&lt;/h2&gt;\n    &lt;form action=\"/api/upload\" enctype=\"multipart/form-data\" method=\"post\"&gt;\n      &lt;div&gt;Select a file: \n        &lt;input name=\"file\" type=\"file\" /&gt;\n      &lt;/div&gt;\n      &lt;input type=\"submit\" value=\"Upload\" /&gt;\n    &lt;/form&gt;\n\n  `);\n});\n\napp.post('/api/upload', async (req, res) =&gt; {\n  await fileparser(req)\n  .then(data =&gt; {\n    res.status(200).json({\n      message: \"Success\",\n      data\n    })\n  })\n  .catch(error =&gt; {\n    res.status(400).json({\n      message: \"An error occurred.\",\n      error\n    })\n  })\n});\n\napp.listen(PORT, () =&gt; {\n  console.log(`Server running on port ${PORT}.`);\n})\n</code></pre><figcaption>index.js</figcaption></figure><p>And there you have it! </p><h2 id=\"conclusion\">Conclusion</h2><p>In this article, you have seen how to set up your Node.js application to handle file upload. You also saw how the <code>formidable</code> package facilitates the process using events and how to set up the AWS-SDK <code>Upload</code> module.</p><p>This <a href=\"https://github.com/Fiyin-Anne/node-s3-upload\">repo</a> contains the code. At the time of writing, the code logic in the samples here is the same as the repo's content.</p>\n\n                        </section>\n                        \n                            <div class=\"sidebar\">\n                                \n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                \n                            </div>\n                        \n                    </div>\n                    <hr>\n                    \n                        <div class=\"post-full-author-header\" data-test-label=\"author-header-with-bio\">\n                            \n                                \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2023/04/IMG_1839.jpeg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2023/04/IMG_1839.jpeg\" class=\"author-profile-image\" alt=\"Fiyinfoluwa Akinsiku\" width=\"1715\" height=\"2548\" onerror=\"this.style.display='none'\" loading=\"lazy\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content \">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/fiyinfoluwa/\" data-test-label=\"profile-link\">\n                    \n                        Fiyinfoluwa Akinsiku\n                    \n                </a>\n            </span>\n            \n                \n                    <p data-test-label=\"default-bio\">\n                        Read <a href=\"/news/author/fiyinfoluwa/\">more posts</a>.\n                    </p>\n                \n            \n        </section>\n    </section>\n\n                            \n                        </div>\n                        <hr>\n                    \n\n                    \n                    \n                        \n    \n\n\n<p data-test-label=\"social-row-cta\" class=\"social-row\">\n    If you read this far, thank the author to show them you care. <button id=\"tweet-btn\" class=\"cta-button\" data-test-label=\"tweet-button\">Say Thanks</button>\n</p>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const t=document.getElementById(\"tweet-btn\"),e=window.location,n=\"How%20to%20Upload%20Files%20to%20Amazon%20S3%20with%20Node.js\".replace(/&#39;/g,\"%27\"),o=\"\",i=\"@fiyin_a_\",r=Boolean(\"\");let a;if(r&&(o||i)){const t={originalPostAuthor:\"\",currentPostAuthor:\"Fiyinfoluwa Akinsiku\"};a=encodeURIComponent(`Thank you ${o||t.originalPostAuthor} for writing this helpful article, and ${i||t.currentPostAuthor} for translating it.`)}else!r&&i&&(a=encodeURIComponent(`Thank you ${i} for writing this helpful article.`));const l=`window.open(\\n    '${a?`https://twitter.com/intent/tweet?text=${a}%0A%0A${n}%0A%0A${e}`:`https://twitter.com/intent/tweet?text=${n}%0A%0A${e}`}',\\n    'share-twitter',\\n    'width=550, height=235'\\n  ); return false;`;t.setAttribute(\"onclick\",l)}));</script>\n\n\n                        \n\n<div class=\"learn-cta-row\" data-test-label=\"learn-cta-row\">\n    <p>\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href=\"https://www.freecodecamp.org/learn/\" class=\"cta-button\" id=\"learn-to-code-cta\" rel=\"noopener noreferrer\" target=\"_blank\">Get started</a>\n    </p>\n</div>\n\n                    \n                </section>\n                \n                    <div class=\"banner-ad bottom\">\n                        \n                            <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                        \n                    </div>\n                \n            </article>\n        </div>\n    </main>\n\n\n            \n\n\n<footer class=\"site-footer\">\n    <div class=\"footer-top\">\n        <div class=\"footer-desc-col\">\n            <p data-test-label=\"tax-exempt-status\">freeCodeCamp is a donor-supported tax-exempt 501(c)(3) charity organization (United States Federal Tax Identification Number: 82-0779546)</p>\n            <p data-test-label=\"mission-statement\">Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public.</p>\n            <p data-test-label=\"donation-initiatives\">Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.</p>\n            <p class=\"footer-donation\" data-test-label=\"donate-text\">\n                You can <a href=\"https://www.freecodecamp.org/donate/\" class=\"inline\" rel=\"noopener noreferrer\" target=\"_blank\">make a tax-deductible donation here</a>.\n            </p>\n        </div>\n        <div class=\"trending-guides\" data-test-label=\"trending-guides\">\n            <h2 id=\"trending-guides\" class=\"col-header\">Trending Guides</h2>\n            <ul class=\"trending-guides-articles\" aria-labelledby=\"trending-guides\">\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-transform-functions-and-properties/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Transform\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-create-a-static-blog-with-lume/\" rel=\"noopener noreferrer\" target=\"_blank\">Build a Static Blog\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-build-an-ai-chatbot-with-redis-python-and-gpt/\" rel=\"noopener noreferrer\" target=\"_blank\">Build an AI Chatbot\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/what-is-programming-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">What is Programming?\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Python Code Examples\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/a-practical-guide-to-start-opensource-contributions/\" rel=\"noopener noreferrer\" target=\"_blank\">Open Source for Devs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/http-full-course/\" rel=\"noopener noreferrer\" target=\"_blank\">HTTP Networking in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-unit-tests-in-react-redux/\" rel=\"noopener noreferrer\" target=\"_blank\">Write React Unit Tests\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/introduction-to-algorithms-with-javascript-examples/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Algorithms in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-clean-code/\" rel=\"noopener noreferrer\" target=\"_blank\">How to Write Clean Code\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-php-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn PHP\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-java-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Java\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-swift-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Swift\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-golang-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Golang\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/get-started-with-nodejs/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Node.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-grid/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Grid\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-solidity-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Solidity\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-express-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Express.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/javascript-es-modules-and-module-bundlers/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn JS Modules\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/apache-kafka-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Apache Kafka\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/rest-api-design-best-practices-build-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">REST API Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/front-end-javascript-development-react-angular-vue-compared/\" rel=\"noopener noreferrer\" target=\"_blank\">Front-End JS Development\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-consume-and-document-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build REST APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-strongly-typed-polymorphic-components-with-react-and-typescript/\" rel=\"noopener noreferrer\" target=\"_blank\">Intermediate TS and React\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/command-line-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Command Line for Beginners\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-operating-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Intro to Operating Systems\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/building-consuming-and-documenting-a-graphql-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build GraphQL APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/oss-security-best-practices/\" rel=\"noopener noreferrer\" target=\"_blank\">OSS Security Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/design-patterns-for-distributed-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Distributed Systems Patterns\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-software-architecture-patterns/\" rel=\"noopener noreferrer\" target=\"_blank\">Software Architecture Patterns\n                    </a>\n                </li>\n            </ul>\n            <div class=\"spacer\" style=\"padding: 15px 0;\"></div>\n            <div>\n                <h2 id=\"mobile-app\" class=\"col-header\">\n                    Mobile App\n                </h2>\n                <div class=\"min-h-[1px] px-[15px] md:w-2/3 md:ml-[16.6%]\">\n                    <ul aria-labelledby=\"mobile-app\" class=\"mobile-app-container\">\n                        <li>\n                            <a href=\"https://apps.apple.com/us/app/freecodecamp/id6446908151?itsct=apps_box_link&itscg=30200\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/apple-store-badge.svg\" lang=\"en\" alt=\"Download on the App Store\">\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"https://play.google.com/store/apps/details?id=org.freecodecamp\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/google-play-badge.svg\" lang=\"en\" alt=\"Get it on Google Play\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer-bottom\">\n        <h2 class=\"col-header\" data-test-label=\"our-nonprofit\">Our Charity</h2>\n        <div class=\"our-nonprofit\">\n            <a href=\"https://www.freecodecamp.org/news/about/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"about\">\n                About\n            </a>\n            <a href=\"https://www.linkedin.com/school/free-code-camp/people/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"alumni\">\n                Alumni Network\n            </a>\n            <a href=\"https://github.com/freeCodeCamp/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"open-source\">\n                Open Source\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/shop/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"shop\">\n                Shop\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/support/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"support\">\n                Support\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/sponsors/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"sponsors\">\n                Sponsors\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/academic-honesty-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"honesty\">\n                Academic Honesty\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/code-of-conduct/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"coc\">\n                Code of Conduct\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/privacy-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"privacy\">\n                Privacy Policy\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/terms-of-service/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"tos\">\n                Terms of Service\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/copyright-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"copyright\">\n                Copyright Policy\n            </a>\n        </div>\n    </div>\n</footer>\n\n        </div>\n\n        \n        \n        \n\n        <!-- Google Tag Manager (noscript) -->\n<noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n<!-- End Google Tag Manager (noscript) -->\n\n        \n    <script defer src=\"https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015\" integrity=\"sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==\" data-cf-beacon='{\"rayId\":\"8ac95458abf63f74\",\"serverTiming\":{\"name\":{\"cfL4\":true}},\"version\":\"2024.7.0\",\"token\":\"bdb993c6dde44e178aabd9555e75e4f4\"}' crossorigin=\"anonymous\"></script>\n</body>\n</html>\n"}}}