{"https://www.freecodecamp.org/news/author/dsebban/":{"https://www.freecodecamp.org//news/non-blocking-thread-sleep-on-jvm/":{"html":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        \n        \n            <title>How to Use Thread.sleep Without Blocking on the JVM</title>\n        \n        <meta name=\"HandheldFriendly\" content=\"True\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin=\"\">\n        \n            <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap\">\n        \n\n        \n        \n    <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n</noscript>\n<link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n</noscript>\n\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js\"></script>\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js\"></script>\n\n\n\n        \n        <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"/news/assets/css/global-26e2f3cde9.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/screen-926fddfac2.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/search-bar-124f5f949c.css\">\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js\"></script>\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js\"></script>\n\n        \n        \n            <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js\"></script>\n        \n\n        \n        <script>let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));</script>\n\n        \n        \n    \n        \n            <script data-ad-client=\"ca-pub-9482786369113753\" src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\" crossorigin=\"anonymous\" async=\"\"></script>\n        \n    \n\n\n        \n        \n    \n        \n    \n        \n    \n\n\n        \n        \n        \n\n        \n        \n\n        <link rel=\"icon\" href=\"https://cdn.freecodecamp.org/universal/favicons/favicon.ico\" type=\"image/png\">\n        \n        \n            <link rel=\"canonical\" href=\"https://www.freecodecamp.org/news/non-blocking-thread-sleep-on-jvm/\">\n        \n        <meta name=\"referrer\" content=\"no-referrer-when-downgrade\">\n\n        \n\n        \n    <meta name=\"description\" content=\"JVM Languages like Java and Scala have the ability to run concurrent code using the Thread class. Threads are notoriously complex and very error prone, so having a solid understanding of how they work is essential. Let&#39;s start with the Javadoc for Thread.sleep: &gt; Causes the currently executing thread to\">\n\n    \n    <meta property=\"og:site_name\" content=\"freeCodeCamp.org\">\n    <meta property=\"og:type\" content=\"article\">\n    <meta property=\"og:title\" content=\"How to Use Thread.sleep Without Blocking on the JVM\">\n    \n        <meta property=\"og:description\" content=\"JVM Languages like Java and Scala have the ability to run concurrent code using the Thread class. Threads are notoriously complex and very error prone, so having a solid understanding of how they work is essential. Let&#39;s start with the Javadoc for Thread.sleep: &gt; Causes the currently executing thread to\">\n    \n    <meta property=\"og:url\" content=\"https://www.freecodecamp.org/news/non-blocking-thread-sleep-on-jvm/\">\n    <meta property=\"og:image\" content=\"https://www.freecodecamp.org/news/content/images/2020/12/164b263b-0d10-452b-9bd0-b14c22adeb31-screen-shot-2019-11-15-at-122953-pm-4-1.png\">\n    <meta property=\"article:published_time\" content=\"2020-12-21T17:39:16.000Z\">\n    <meta property=\"article:modified_time\" content=\"2020-12-21T17:39:16.000Z\">\n    \n        <meta property=\"article:tag\" content=\"Java\">\n    \n        <meta property=\"article:tag\" content=\"Scala\">\n    \n    <meta property=\"article:publisher\" content=\"https://www.facebook.com/freecodecamp\">\n    \n\n    \n    <meta name=\"twitter:card\" content=\"summary_large_image\">\n    <meta name=\"twitter:title\" content=\"How to Use Thread.sleep Without Blocking on the JVM\">\n    \n        <meta name=\"twitter:description\" content=\"JVM Languages like Java and Scala have the ability to run concurrent code using the Thread class. Threads are notoriously complex and very error prone, so having a solid understanding of how they work is essential. Let&#39;s start with the Javadoc for Thread.sleep: &gt; Causes the currently executing thread to\">\n    \n    <meta name=\"twitter:url\" content=\"https://www.freecodecamp.org/news/non-blocking-thread-sleep-on-jvm/\">\n    <meta name=\"twitter:image\" content=\"https://www.freecodecamp.org/news/content/images/2020/12/164b263b-0d10-452b-9bd0-b14c22adeb31-screen-shot-2019-11-15-at-122953-pm-4-1.png\">\n    <meta name=\"twitter:label1\" content=\"Written by\">\n    <meta name=\"twitter:data1\" content=\"Daniel Sebban\">\n    <meta name=\"twitter:label2\" content=\"Filed under\">\n    <meta name=\"twitter:data2\" content=\"Java, Scala\">\n    <meta name=\"twitter:site\" content=\"@freecodecamp\">\n    \n        <meta name=\"twitter:creator\" content=\"@dsebban\">\n    \n\n    <meta property=\"og:image:width\" content=\"1107\">\n    <meta property=\"og:image:height\" content=\"515\">\n\n\n        \n    <script type=\"application/ld+json\">{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2020/12/164b263b-0d10-452b-9bd0-b14c22adeb31-screen-shot-2019-11-15-at-122953-pm-4-1.png\",\n\t\t\"width\": 1107,\n\t\t\"height\": 515\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/non-blocking-thread-sleep-on-jvm/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2020-12-21T17:39:16.000Z\",\n\t\"dateModified\": \"2020-12-21T17:39:16.000Z\",\n\t\"keywords\": \"Java, Scala\",\n\t\"description\": \"JVM Languages like Java and Scala have the ability to run concurrent code using\\nthe Thread class. Threads are notoriously complex and very error prone, so\\nhaving a solid understanding of how they work is essential.\\n\\nLet&#x27;s start with the Javadoc for Thread.sleep:\\n\\n&gt; Causes the currently executing thread to sleep (temporarily cease execution) for\\nthe specified number of milliseconds\\nWhat are the implications of cease execution, also known as blocking, and what\\ndoes it mean? Is it bad? And if so ca\",\n\t\"headline\": \"How to Use Thread.sleep Without Blocking on the JVM\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Daniel Sebban\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/dsebban/\",\n\t\t\"sameAs\": [\n\t\t\t\"https://twitter.com/dsebban\"\n\t\t],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2019/08/NGzLCUHq_400x400--1-.jpg\",\n\t\t\t\"width\": 400,\n\t\t\t\"height\": 400\n\t\t}\n\t}\n}</script>\n\n\n        <meta name=\"generator\" content=\"Eleventy\">\n        <link rel=\"alternate\" type=\"application/rss+xml\" title=\"freeCodeCamp.org\" href=\"https://www.freecodecamp.org/news/rss/\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n\n<!-- dataLayer setup -->\n<script>\nwindow.dataLayer = window.dataLayer || [];\n</script>\n<!-- End dataLayer setup -->\n\n<!-- Google Tag Manager -->\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');</script>\n<!-- End Google Tag Manager -->\n\n\n<meta name=\"google-site-verification\" content=\"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E\">\n\n        \n        \n\n        \n  <meta name=\"x-fcc-source\" data-test-label=\"x-fcc-source\" content=\"Ghost\">\n\n    </head>\n\n    \n        <body class=\"home-template\">\n    \n        <div class=\"site-wrapper\">\n            <nav class=\"site-nav nav-padding\">\n    <div class=\"site-nav-left\">\n        \n<form id=\"search-form\" data-test-label=\"search-bar\">\n    <div role=\"search\" class=\"searchbox__wrapper\">\n        <label class=\"fcc_sr_only\" for=\"search-input\">\n            Search\n        </label>\n        <input type=\"search\" placeholder=\"\n    Search 11,200+ tutorials\n\" id=\"search-input\">\n        <button type=\"submit\" class=\"ais-SearchBox-submit\">\n            <svg class=\"ais-SearchBox-submitIcon\" xmlns=\"https://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 40 40\">\n    <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n</svg>\n\n            <span class=\"fcc_sr_only\">Submit your search query</span>\n        </button>\n        <div id=\"dropdown-container\"></div>\n    </div>\n</form>\n\n    </div>\n    <div class=\"site-nav-middle\">\n        <a class=\"site-nav-logo\" href=\"https://www.freecodecamp.org/news/\" data-test-label=\"site-nav-logo\"><img src=\"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\" alt=\"freeCodeCamp.org\"></a>\n    </div>\n    <div class=\"site-nav-right\">\n        <div class=\"nav-group\">\n            <a class=\"nav-forum\" id=\"nav-forum\" rel=\"noopener noreferrer\" href=\"https://forum.freecodecamp.org/\" target=\"_blank\" data-test-label=\"forum-button\">Forum</a>\n            <a class=\"toggle-button-nav\" id=\"nav-donate\" rel=\"noopener noreferrer\" href=\"https://www.freecodecamp.org/donate/\" target=\"_blank\" data-test-label=\"donate-button\">Donate</a>\n        </div>\n    </div>\n</nav>\n\n\n            \n            <a class=\"banner\" id=\"banner\" data-test-label=\"banner\" rel=\"noopener noreferrer\" target=\"_blank\">\n    <p id=\"banner-text\"></p>\n</a>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const e=document.getElementById(\"banner\"),t=document.getElementById(\"banner-text\");isAuthenticated?(t.innerHTML=\"Support our charity and our mission. <span>Donate to freeCodeCamp.org</span>.\",e.href=\"https://www.freecodecamp.org/donate\",e.setAttribute(\"text-variation\",\"authenticated\")):isDonor?(t.innerHTML=\"Thank you for supporting freeCodeCamp through <span>your donations</span>.\",e.href=\"https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp/\",e.setAttribute(\"text-variation\",\"donor\")):(t.innerHTML=\"Learn to code — <span>free 3,000-hour curriculum</span>\",e.href=\"https://www.freecodecamp.org/\",e.setAttribute(\"text-variation\",\"default\"))}));</script>\n\n\n            <div id=\"error-message\"></div>\n\n            \n    <main id=\"site-main\" class=\"post-template site-main outer\">\n        <div class=\"inner ad-layout\">\n            <article class=\"post-full post\">\n                <header class=\"post-full-header\">\n                    <section class=\"post-full-meta\">\n                        <time class=\"post-full-meta-date\" data-test-label=\"post-full-meta-date\" datetime=\"Mon Dec 21 2020 17:39:16 GMT+0000 (Coordinated Universal Time)\">\n                            December 21, 2020\n                        </time>\n                        \n                            <span class=\"date-divider\">/</span>\n                            <a dir=\"ltr\" href=\"/news/tag/java/\">\n                                #Java\n                            </a>\n                        \n                    </section>\n                    <h1 class=\"post-full-title\" data-test-label=\"post-full-title\">How to Use Thread.sleep Without Blocking on the JVM</h1>\n                </header>\n                <div class=\"post-full-author-header\" data-test-label=\"author-header-no-bio\">\n                    \n                        \n                            \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2019/08/NGzLCUHq_400x400--1-.jpg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2019/08/NGzLCUHq_400x400--1-.jpg\" class=\"author-profile-image\" alt=\"Daniel Sebban\" width=\"400\" height=\"400\" onerror=\"this.style.display='none'\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content author-card-content-no-bio\">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/dsebban/\" data-test-label=\"profile-link\">\n                    \n                        Daniel Sebban\n                    \n                </a>\n            </span>\n            \n        </section>\n    </section>\n\n                        \n                    \n                </div>\n                <figure class=\"post-full-image\">\n                    \n    <picture>\n      <source media=\"(max-width: 700px)\" sizes=\"1px\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w\">\n      <source media=\"(min-width: 701px)\" sizes=\"(max-width: 800px) 400px, (max-width: 1170px) 700px, 1400px\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w300/2020/12/164b263b-0d10-452b-9bd0-b14c22adeb31-screen-shot-2019-11-15-at-122953-pm-4-1.png 300w, https://www.freecodecamp.org/news/content/images/size/w600/2020/12/164b263b-0d10-452b-9bd0-b14c22adeb31-screen-shot-2019-11-15-at-122953-pm-4-1.png 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2020/12/164b263b-0d10-452b-9bd0-b14c22adeb31-screen-shot-2019-11-15-at-122953-pm-4-1.png 1000w, https://www.freecodecamp.org/news/content/images/size/w2000/2020/12/164b263b-0d10-452b-9bd0-b14c22adeb31-screen-shot-2019-11-15-at-122953-pm-4-1.png 2000w\">\n      <img onerror=\"this.style.display='none'\" src=\"https://www.freecodecamp.org/news/content/images/size/w2000/2020/12/164b263b-0d10-452b-9bd0-b14c22adeb31-screen-shot-2019-11-15-at-122953-pm-4-1.png\" alt=\"How to Use Thread.sleep Without Blocking on the JVM\" ,=\"\" width=\"1107\" height=\"515\" data-test-label=\"feature-image\">\n    </picture>\n  \n                </figure>\n                <section class=\"post-full-content\">\n                    <div class=\"post-and-sidebar\">\n                        <section class=\"post-content \" data-test-label=\"post-content\">\n                            \n<p>JVM Languages like Java and Scala have the ability to run concurrent code using the <code>Thread</code> &nbsp;class. Threads are notoriously complex and very error prone, so having a solid understanding of how they work is essential.</p><p>Let's start with the Javadoc for <code>Thread.sleep</code>:</p><blockquote>Causes the currently executing <strong>thread</strong> to sleep (temporarily <strong>cease execution)</strong> for the specified number of milliseconds</blockquote><p>What are the implications of <code><strong>cease execution</strong></code>, also known as <strong>blocking</strong>, and what does it mean? Is it bad? And if so can we achieve <strong>non-blocking sleep</strong>?</p><h3 id=\"what-we-ll-cover-in-this-article\">What We'll Cover in This Article</h3><p>This post covers a lot of ground and hopefully you will learn a lot of cool things.</p><ul><li>What happens at the <strong>OS level when sleeping</strong>?</li><li>The <strong>problem with sleeping</strong></li><li><strong>Project Loom</strong> and virtual threads</li><li>Functional programming and design</li><li><strong>ZIO</strong> Scala library for concurrency</li></ul><p>Yes, all of this is coming up below.</p><p>But first, let’s start with this simple Scala snippet that we will change throughout the post to achieve what we want:</p><pre><code class=\"language-scala\">println(\"a\")\nThread.sleep(1000)\nprintln(\"b\")</code></pre><p>It's quite simple: it prints “a” and then 10 seconds later in prints “b”</p><p>Let’s focus on <code>Thread.sleep</code> and try to understand <strong>HOW</strong> it achieves sleeping. Once we understand the how, we will be able to see the problem and define it more concretely.</p><h2 id=\"how-does-sleeping-work-at-the-os-level\">How Does Sleeping Work at the OS Level?</h2><p>Here is what happens when you call <code>Thread.sleep</code> under the hood.</p><ul><li>It calls the thread API of the underlying OS</li><li>Because the JVM uses a one to one mapping between Java and kernel threads, it asks the OS to give up the thread’s “rights” to the CPU for the specified time</li><li>When the time has elapsed the OS scheduler will wake the thread via an interrupt (this is efficient) and assign it a CPU slice to allow it to resume running</li></ul><p>The critical point here is that the sleeping thread <strong>is completely taken out and is not reusable while sleeping</strong>.</p><h3 id=\"limitations-of-threads\">Limitations of Threads </h3><p>Here are few important limitations that come with threads:</p><ul><li>There is a limit to how many threads you can create. After around 30K, you will get this error:</li></ul><pre><code>java.lang.OutOfMemoryError : unable to create new native Thread</code></pre><ul><li>JVM Threads can be expensive memory-wise to create, as they come with a dedicated stack</li><li>Too many JVM threads will incur overhead because of expensive context switches and the way they share finite hardware resources</li></ul><p>Now that we understand more about what goes on behind the scenes let’s go back to the sleeping problem.</p><h2 id=\"the-problem-with-sleeping\">The Problem with Sleeping </h2><p>Let’s define the problem more concretely and run a snippet to show the issue we are facing. We will use this function to illustrate the point:</p><pre><code class=\"language-scala\">def task(id: Int): Runnable = () =&gt; \n{\n  println(s\"${Thread.currentThread().getName()} start-$id\")\n  Thread.sleep(10000)\n  println(s\"${Thread.currentThread().getName()} end-$id\")\n}</code></pre><p>This simple function will</p><ul><li>print <code><strong>start</strong></code><strong> </strong>followed by the thread id</li><li>sleeps for 10 seconds</li><li>print <code><strong>end</strong></code><strong> </strong>followed by the thread id</li></ul><h3 id=\"your-mission-if-you-accept-it-is-to-run-2-tasks-concurrently-with-1-thread\">Your mission if you accept it is to run 2 tasks concurrently with 1 thread</h3><p>We want to run 2 tasks concurrently, meaning the whole program should take a total of 10 seconds. But we only have 1 thread available.</p><p>Are you up for this challenge?</p><p>Let’s play a little bit with the number of tasks and threads to get a sense of what the problem is exactly.</p><h3 id=\"1-task-1-thread\"><code>1 task -&gt; 1 thread</code></h3><pre><code class=\"language-scala\">new Thread(task(1)).start()</code></pre><pre><code>12:11:08 INFO  Thread-0 start-1\n12:11:18 INFO  Thread-0 end-1</code></pre><p>Let’s fire up <code>jvisualvm</code> to check out what the thread is doing:</p><figure class=\"kg-card kg-image-card kg-width-wide\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/12/vissualm_vm_1.png\" class=\"kg-image\" alt=\"vissualm_vm_1\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w600/2020/12/vissualm_vm_1.png 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2020/12/vissualm_vm_1.png 1000w, https://www.freecodecamp.org/news/content/images/2020/12/vissualm_vm_1.png 1600w\" sizes=\"(min-width: 1200px) 1200px\" width=\"1600\" height=\"1313\" loading=\"lazy\"></figure><p>You can see that the Thread-0 is in the purple <code>sleeping</code> state. </p><p>Hitting the thread dump button will print this:</p><pre><code>\"Thread-0\" #13 prio=5 os_prio=31 tid=0x00007f9a3e0e2000 nid=0x5b03 waiting on condition [0x0000700004ac8000]  \n  java.lang.Thread.State: TIMED_WAITING (sleeping)\n  at java.lang.Thread.sleep(Native Method)\n  at example.Blog$.$anonfun$task$1(Blog.scala:7)\n  at example.Blog$$$Lambda$2/1359484306.run(Unknown Source)\n  at java.lang.Thread.run(Thread.java:748)\n  Locked ownable synchronizers:        - None</code></pre><p>Clearly, this thread is not usable anymore until it finishes to sleep.</p><h3 id=\"2-tasks-1-thread\"><code>2 tasks -&gt; 1 thread</code></h3><p>Let’s illustrate the problem by running 2 such tasks with only one thread available:</p><pre><code class=\"language-scala\">import java.util.concurrent.Executors\n\n// an executor with only 1 thread available\nval oneThreadExecutor = Executors.newFixedThreadPool(1)\n\n// send 2 tasks to the executor\n(1 to 2).foreach(id =&gt;\n   oneThreadExecutor.execute(task(id)))</code></pre><p>We get this output:</p><pre><code>2020.09.28 21:49:56 INFO  pool-1-thread-1 start-1\n2020.09.28 21:50:07 INFO  pool-1-thread-1 end-1\n2020.09.28 21:50:07 INFO  pool-1-thread-1 start-2\n2020.09.28 21:50:17 INFO  pool-1-thread-1 end-2</code></pre><figure class=\"kg-card kg-image-card kg-width-wide\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/12/visualvm_3.png\" class=\"kg-image\" alt=\"visualvm_3\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w600/2020/12/visualvm_3.png 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2020/12/visualvm_3.png 1000w, https://www.freecodecamp.org/news/content/images/2020/12/visualvm_3.png 1563w\" sizes=\"(min-width: 1200px) 1200px\" width=\"1563\" height=\"581\" loading=\"lazy\"></figure><p>You can see the purple color (sleeping state) for the <code>pool-1-thread-1</code>. The tasks have no choice but to run one after the other because the thread is taken out each time <code>Thread.sleep</code> is used.</p><h3 id=\"2-tasks-2-threads\"><code>2 tasks -&gt; 2 threads</code></h3><p>Let’s run the same code with 2 threads available. We get this:</p><pre><code class=\"language-scala\">// an executor with 2 threads available\nval oneThreadExecutor = Executors.newFixedThreadPool(2)\n\n// send 2 tasks to the executor\n(1 to 2).foreach(id =&gt;\n   oneThreadExecutor.execute(task(id)))</code></pre><pre><code>2020.09.28 22:42:04 INFO  pool-1-thread-2 start-2\n2020.09.28 22:42:04 INFO  pool-1-thread-1 start-1\n2020.09.28 22:42:14 INFO  pool-1-thread-1 end-1\n2020.09.28 22:42:14 INFO  pool-1-thread-2 end-2</code></pre><p>Each thread can run one task at a time. We finally accomplished what we wanted, running 2 tasks concurrently, and the whole program finished in 10 seconds.</p><figure class=\"kg-card kg-image-card kg-width-wide\"><img src=\"https://www.freecodecamp.org/news/content/images/2020/12/visulavm_4.png\" class=\"kg-image\" alt=\"visulavm_4\" srcset=\"https://www.freecodecamp.org/news/content/images/size/w600/2020/12/visulavm_4.png 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2020/12/visulavm_4.png 1000w, https://www.freecodecamp.org/news/content/images/2020/12/visulavm_4.png 1600w\" sizes=\"(min-width: 1200px) 1200px\" width=\"1600\" height=\"655\" loading=\"lazy\"></figure><p>That was easy because we used 2 threads (pool-1-thread-1 and pool-1-thread-2), but we want to do the same with only 1 thread.</p><p>Let’s identify the problem and then find a solution.</p><h3 id=\"the-problem-thread-sleep-is-blocking\">The problem : <code>Thread.sleep is blocking</code></h3><p>We now understand that we cannot use <code>Thread.sleep</code> – it blocks the thread. </p><p>This makes it unusable until it resumes, preventing us from running 2 tasks concurrently.</p><p>Fortunately, there are solutions, which we'll discuss next.</p><h2 id=\"first-solution-upgrade-your-jvm-with-project-loom\">First Solution: Upgrade your JVM with Project Loom</h2><p>I mentioned before that JVM threads map one to one to OS threads. And this fatal design mistake leads us here.</p><p><a href=\"https://wiki.openjdk.java.net/display/loom/Main\">Project Loom</a> aims to correct that by adding virtual threads.</p><p>Here is our code rewritten using virtual threads from Loom:</p><pre><code class=\"language-scala\">Thread.startVirtualThread(() -&gt; {\n  System.out.println(\"a\")  \n  Thread.sleep(1000)  \n  System.out.println(\"b\")\n});</code></pre><p>The amazing thing is that the <code>Thread.sleep</code> will not block anymore! It's fully async. And on top of that, virtual threads are super cheap. You could create hundreds of thousands of them without overhead or limitations.</p><p>All our problems are solved now – well besides the fact that Project Loom will not be available until at least JDK 17 (as of now scheduled for September 2021).</p><p>Oh well, let’s go back and try to solve the sleeping problem with what the JVM currently gives us.</p><h3 id=\"key-insight-you-can-express-sleeping-in-terms-of-scheduling-a-task-in-the-future\">Key insight: You can express sleeping in terms of scheduling a task in the future</h3><p>If you tell your boss that you are busy and you will resume your work in 10 minutes, your boss does not know that you are about to take a nap. They only see that you started your work in the morning then paused for 10 minutes then resumed.</p><p>This:</p><pre><code>start\nsleep(10)\nend</code></pre><p>is equivalent from the outside to this:</p><pre><code>start\nresumeIn(10s, end)</code></pre><p>What we did above is to <strong>SCHEDULE</strong> the task to end in 10 seconds.</p><p>That’s it, we don’t need to sleep anymore. We just need to be able to schedule things in the future instead.</p><p>We've reduced one problem with another, one that is easier and has a simpler solution.</p><h3 id=\"the-scheduling-problem\">The scheduling problem</h3><p>Luckily for us, scheduling tasks is very simple to do. We just have to switch out the executor as follows:</p><pre><code>val oneThreadScheduleExecutor = Executors.newScheduledThreadPool(1)</code></pre><p>We can now use the <code>schedule</code> function instead of <code>execute</code>:</p><pre><code class=\"language-scala\">oneThreadScheduleExecutor.schedule\n(task(1),10, TimeUnit.SECONDS)</code></pre><p>Well that’s not exactly what we want. We want to split the start and end printing by 10 seconds, so let’s change our task function as follows:</p><pre><code class=\"language-scala\">def nonBlockingTask(id: Int): Runnable = () =&gt; {\n  println(s\"${Thread.currentThread().getName()} start-$id\")\n  val endTask: Runnable = () =&gt; \n  {\n    println(s\"${Thread.currentThread().getName()} end-$id\")\n  }\n  //instead of Thread.sleep for 10s, we schedule it in the future, no     more blocking!\n  oneThreadScheduleExecutor.schedule(endTask, 10, TimeUnit.SECONDS)\n  }</code></pre><pre><code>2020.09.28 23:35:45 INFO  pool-1-thread-1 start-1\n2020.09.28 23:35:45 INFO  pool-1-thread-1 start-2\n2020.09.28 23:35:56 INFO  pool-1-thread-1 end-1\n2020.09.28 23:35:56 INFO  pool-1-thread-1 end-2</code></pre><p>Yes! We did it! Only one thread and 2 concurrent tasks that “sleep” 10 seconds each.</p><p>Ok great, but you cannot really write code like this. What if you want another task in the middle as follows:</p><pre><code>00:00:00 start\n00:00:10 middle\n00:00:20 end</code></pre><p>You would need to change the implementation of the <code>nonBlockingTask</code> and add another call to <code>schedule</code> in there. And that will get pretty messy very quickly.</p><h2 id=\"how-to-use-functional-programming-to-write-a-dsl-with-a-non-blocking-sleep\">How to Use Functional Programming to Write a DSL with a Non-Blocking Sleep</h2><p>Functional Programming in Scala is a joy, and writing a DSL (domain-specific language) using FP principles is quite easy.</p><p>Let’s start at the end. We would like our final program to look something like this:</p><pre><code class=\"language-scala\">def nonBlockingFunctionalTask(id: Int) = {\n  Print(id,\"start\") andThen \n  Print(id,\"middle\").sleep(1000) andThen\n  Print(id,\"end\").sleep(1000)\n}</code></pre><p>This mini-language will achieve exactly the same behavior as our previous solution but without exposing all the nasty internals of the scheduled executor and threads.</p><h3 id=\"the-model\">The model</h3><p>Let’s define our data types:</p><pre><code class=\"language-scala\">object Task {\nsealed trait Task { self =&gt;\n  def andThen(other: Task) = AndThen(self,other)\n  def sleep(millis: Long) = Sleep(self,millis)\n}\n  \ncase class AndThen(t1: Task, t2: Task) extends Task\ncase class Print(id: Int, value: String) extends Task \ncase class Sleep(t1: Task, millis: Long) extends Task</code></pre><p>In FP the data types only hold data and no behavior. So this whole code does “nothing\" – &nbsp;it just captures the language structure and information we want.</p><p>We need 2 functions:</p><ul><li><code>sleep</code> to make a task sleep</li><li><code>andThen</code> to chain tasks</li></ul><p>Notice that their implementation does nothing. It just wraps it in the correct class and that’s it.</p><p>Let’s use our <code>nonBlockingFunctionalTask</code> function:</p><pre><code class=\"language-scala\">import Task._\n//create 2 tasks, this does not run them, no threads involved here\n(1 to 2).toList.map(nonBlockingFunctionalTask)</code></pre><p>It’s a description of the problem. It does nothing, it just builds a list with 2 tasks, each one describing what to do.</p><p>If we print the result in the REPL we get this:</p><pre><code class=\"language-scala\">res3: List[Task] = List(\n//first task  \nAndThen(AndThen(Print(1,start),Sleep(Print(1,middle),10000)),Sleep(Print(1,end),10000)), \n//second task  \nAndThen(AndThen(Print(2,start),Sleep(Print(2,middle),10000)),Sleep(Print(2,end),10000))\n)</code></pre><p>Let’s write the <code>interpreter</code> that will turn this tree into one that's actually running the tasks.</p><h3 id=\"the-interpreter\">The interpreter</h3><p>In FP the function that turns a description into an executable program is called the <code>interpreter</code>. It takes the description of the program, the model, and interprets it into an executable form. Here it will execute and schedule the tasks directly.</p><p>We first need a <code>Stack</code> that will allow us to encode the dependencies between tasks. Think that <code>start &gt;&gt;= middle &gt;&gt;= end</code> will each be pushed to the stack and then popped in order of execution. This will be evident in the implementation.</p><p>And now the interpreter (don’t worry if you don't understand this code, it’s a bit complicated, there is a simpler solution coming up):</p><pre><code class=\"language-scala\">def interpret(task: Task, executor: ScheduledExecutorService): Unit = {\n  def loop(current: Task, stack: Stack[Task]): Unit =\n  current match {\n    case AndThen(t1, t2) =&gt;\n      loop(t1,stack.push(t2))\n    case Print(id, value) =&gt;  \n      stack.pop match {\n        case Some((t2, b)) =&gt; \n          executor.execute(() =&gt; {\n          println(s\"${Thread.currentThread().getName()} $value-$id\")\n          })   \n        loop(t2,b)\n        case None =&gt; \n          executor.execute(() =&gt; {\n          println(s\"${Thread.currentThread().getName()} $value-$id\")\n          })\n    case Sleep(t1,millis) =&gt; \n      val r: Runnable = () =&gt;{loop(t1,stack)}\n      executor.schedule(r, millis, TimeUnit.MILLISECONDS)\n}\nloop(task,Nil)\n}</code></pre><p>And the output is what we want:</p><pre><code>2020.09.29 00:06:39 INFO  pool-1-thread-1 start-1\n2020.09.29 00:06:39 INFO  pool-1-thread-1 start-2\n2020.09.29 00:06:50 INFO  pool-1-thread-1 middle-1\n2020.09.29 00:06:50 INFO  pool-1-thread-1 middle-2\n2020.09.29 00:07:00 INFO  pool-1-thread-1 end-1\n2020.09.29 00:07:00 INFO  pool-1-thread-1 end-2</code></pre><p>One thread running 2 concurrent sleeping tasks. That’s a lot of code and a lot of work. As usual, you should always ask yourself whether there a library that already solves this problem. Turns out there is: ZIO.</p><h2 id=\"non-blocking-sleep-in-zio\">Non-Blocking Sleep in ZIO</h2><p><code><strong><a href=\"https://zio.dev/\">ZIO</a></strong></code> is a functional library for asynchronous and concurrent programming. It works in a similar fashion to our little DSL, because it gives you a few types you can mix and match to describe your program and nothing more.</p><p>And then it gives us an interpreter that lets you run a ZIO program.</p><p>As I said this interpreter pattern is pervasive in the world of FP. Once you get it, a new world opens up to you.</p><h3 id=\"zio-sleep-a-better-version-of-thread-sleep\"><code>ZIO.sleep</code> – a better version of <code>Thread.sleep</code></h3><p><code>ZIO</code> gives us the <code>ZIO.sleep</code> function, a non-blocking version of <code>Thread.sleep</code>. Here is our function written using <code>ZIO</code>:</p><pre><code class=\"language-scala\">import zio._\nimport zio.console._\nimport zio.duration._\nobject ZIOApp extends zio.App {\ndef zioTask(id: Int) = \n  for {\n  _ &lt;- putStrLn(s\"${Thread.currentThread().getName()} start-$id\")\n  _ &lt;- ZIO.sleep(10.seconds)\n  _ &lt;- putStrLn(s\"${Thread.currentThread().getName()} end-$id\")\n} yield ()</code></pre><p>It’s strikingly similar to the first snippet:</p><pre><code class=\"language-scala\">def task(id: Int): Runnable = () =&gt; \n{\n  println(s\"${Thread.currentThread().getName()} start-$id\")\n  Thread.sleep(10000)\n  println(s\"${Thread.currentThread().getName()} end-$id\")\n}</code></pre><p>The clear difference is the <code>for</code> syntax that allows us to chain statements with the <code>ZIO</code> type. It's very similar to the <code>andThen</code> function from our previous mini-language.</p><p>As before with our mini-language, this program is just a description. It’s pure data, and it does nothing. To do something we need the interpreter.</p><h3 id=\"the-zio-interpreter\">The ZIO interpreter</h3><p>To interpret a ZIO program, you just have to extend the <code>ZIO.App</code> interface and put it in the <code>run</code> method and <code>ZIO</code> will take care of running it, like this:</p><pre><code class=\"language-scala\">object ZIOApp extends zio.App \n{ \noverride def run(args: List[String]) = {\n  ZIO\n  //start 2 ZIO tasks in parallel\n  .foreachPar((1 to 2))(zioTasks)\n  //complete program when done\n  .as(ExitCode.success) \n}</code></pre><p>And we get this output – the tasks complete correctly in 10 seconds:</p><pre><code>2020.09.29 00:45:12 INFO  zio-default-async-3-1594199808 start-2\n2020.09.29 00:45:12 INFO  zio-default-async-2-1594199808 start-1\n2020.09.29 00:45:33 INFO  zio-default-async-7-1594199808 end-1\n2020.09.29 00:45:33 INFO  zio-default-async-8-1594199808 end-2</code></pre><h2 id=\"takeaways\">Takeaways</h2><ul><li>Each JVM Thread maps to an OS thread, in a <strong>one to one fashion</strong>. And this is the root of a lot of problems.</li><li><code>Thread.sleep</code> is bad! It <strong>blocks the current thread </strong>and renders it unusable for further work.</li><li><strong>Project Loom</strong> (that will be available in JDK 17) will solve a lot of issues. <a href=\"https://www.youtube.com/watch?v=SJeAb-XEIe8\">Here is a cool talk about it</a>.</li><li>You can use <code>ScheduledExecutorService</code> to achieve <strong>non-blocking sleep</strong>.</li><li>You can use<strong> Functional Programming to model a language</strong> where doing sleep is non-blocking.</li><li>The<strong> ZIO library</strong> provides a non-blocking sleep out of the box.</li></ul>\n\n                        </section>\n                        \n                            <div class=\"sidebar\">\n                                \n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                \n                            </div>\n                        \n                    </div>\n                    <hr>\n                    \n                        <div class=\"post-full-author-header\" data-test-label=\"author-header-with-bio\">\n                            \n                                \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2019/08/NGzLCUHq_400x400--1-.jpg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2019/08/NGzLCUHq_400x400--1-.jpg\" class=\"author-profile-image\" alt=\"Daniel Sebban\" width=\"400\" height=\"400\" onerror=\"this.style.display='none'\" loading=\"lazy\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content \">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/dsebban/\" data-test-label=\"profile-link\">\n                    \n                        Daniel Sebban\n                    \n                </a>\n            </span>\n            \n                \n                    <p data-test-label=\"author-bio\">Scala Developer @Bigpanda / FP enthusiast / Enjoys building scalable and resilient data intensive pipelines</p>\n                \n            \n        </section>\n    </section>\n\n                            \n                        </div>\n                        <hr>\n                    \n\n                    \n                    \n                        \n    \n\n\n<p data-test-label=\"social-row-cta\" class=\"social-row\">\n    If you read this far, thank the author to show them you care. <button id=\"tweet-btn\" class=\"cta-button\" data-test-label=\"tweet-button\">Say Thanks</button>\n</p>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const t=document.getElementById(\"tweet-btn\"),e=window.location,n=\"How%20to%20Use%20Thread.sleep%20Without%20Blocking%20on%20the%20JVM\".replace(/&#39;/g,\"%27\"),o=\"\",i=\"@dsebban\",r=Boolean(\"\");let a;if(r&&(o||i)){const t={originalPostAuthor:\"\",currentPostAuthor:\"Daniel Sebban\"};a=encodeURIComponent(`Thank you ${o||t.originalPostAuthor} for writing this helpful article, and ${i||t.currentPostAuthor} for translating it.`)}else!r&&i&&(a=encodeURIComponent(`Thank you ${i} for writing this helpful article.`));const l=`window.open(\\n    '${a?`https://twitter.com/intent/tweet?text=${a}%0A%0A${n}%0A%0A${e}`:`https://twitter.com/intent/tweet?text=${n}%0A%0A${e}`}',\\n    'share-twitter',\\n    'width=550, height=235'\\n  ); return false;`;t.setAttribute(\"onclick\",l)}));</script>\n\n\n                        \n\n<div class=\"learn-cta-row\" data-test-label=\"learn-cta-row\">\n    <p>\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href=\"https://www.freecodecamp.org/learn/\" class=\"cta-button\" id=\"learn-to-code-cta\" rel=\"noopener noreferrer\" target=\"_blank\">Get started</a>\n    </p>\n</div>\n\n                    \n                </section>\n                \n                    <div class=\"banner-ad bottom\">\n                        \n                            <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                        \n                    </div>\n                \n            </article>\n        </div>\n    </main>\n\n\n            \n\n\n<footer class=\"site-footer\">\n    <div class=\"footer-top\">\n        <div class=\"footer-desc-col\">\n            <p data-test-label=\"tax-exempt-status\">freeCodeCamp is a donor-supported tax-exempt 501(c)(3) charity organization (United States Federal Tax Identification Number: 82-0779546)</p>\n            <p data-test-label=\"mission-statement\">Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public.</p>\n            <p data-test-label=\"donation-initiatives\">Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.</p>\n            <p class=\"footer-donation\" data-test-label=\"donate-text\">\n                You can <a href=\"https://www.freecodecamp.org/donate/\" class=\"inline\" rel=\"noopener noreferrer\" target=\"_blank\">make a tax-deductible donation here</a>.\n            </p>\n        </div>\n        <div class=\"trending-guides\" data-test-label=\"trending-guides\">\n            <h2 id=\"trending-guides\" class=\"col-header\">Trending Guides</h2>\n            <ul class=\"trending-guides-articles\" aria-labelledby=\"trending-guides\">\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-transform-functions-and-properties/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Transform\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-create-a-static-blog-with-lume/\" rel=\"noopener noreferrer\" target=\"_blank\">Build a Static Blog\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-build-an-ai-chatbot-with-redis-python-and-gpt/\" rel=\"noopener noreferrer\" target=\"_blank\">Build an AI Chatbot\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/what-is-programming-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">What is Programming?\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Python Code Examples\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/a-practical-guide-to-start-opensource-contributions/\" rel=\"noopener noreferrer\" target=\"_blank\">Open Source for Devs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/http-full-course/\" rel=\"noopener noreferrer\" target=\"_blank\">HTTP Networking in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-unit-tests-in-react-redux/\" rel=\"noopener noreferrer\" target=\"_blank\">Write React Unit Tests\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/introduction-to-algorithms-with-javascript-examples/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Algorithms in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-clean-code/\" rel=\"noopener noreferrer\" target=\"_blank\">How to Write Clean Code\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-php-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn PHP\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-java-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Java\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-swift-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Swift\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-golang-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Golang\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/get-started-with-nodejs/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Node.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-grid/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Grid\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-solidity-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Solidity\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-express-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Express.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/javascript-es-modules-and-module-bundlers/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn JS Modules\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/apache-kafka-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Apache Kafka\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/rest-api-design-best-practices-build-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">REST API Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/front-end-javascript-development-react-angular-vue-compared/\" rel=\"noopener noreferrer\" target=\"_blank\">Front-End JS Development\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-consume-and-document-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build REST APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-strongly-typed-polymorphic-components-with-react-and-typescript/\" rel=\"noopener noreferrer\" target=\"_blank\">Intermediate TS and React\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/command-line-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Command Line for Beginners\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-operating-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Intro to Operating Systems\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/building-consuming-and-documenting-a-graphql-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build GraphQL APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/oss-security-best-practices/\" rel=\"noopener noreferrer\" target=\"_blank\">OSS Security Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/design-patterns-for-distributed-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Distributed Systems Patterns\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-software-architecture-patterns/\" rel=\"noopener noreferrer\" target=\"_blank\">Software Architecture Patterns\n                    </a>\n                </li>\n            </ul>\n            <div class=\"spacer\" style=\"padding: 15px 0;\"></div>\n            <div>\n                <h2 id=\"mobile-app\" class=\"col-header\">\n                    Mobile App\n                </h2>\n                <div class=\"min-h-[1px] px-[15px] md:w-2/3 md:ml-[16.6%]\">\n                    <ul aria-labelledby=\"mobile-app\" class=\"mobile-app-container\">\n                        <li>\n                            <a href=\"https://apps.apple.com/us/app/freecodecamp/id6446908151?itsct=apps_box_link&itscg=30200\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/apple-store-badge.svg\" lang=\"en\" alt=\"Download on the App Store\">\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"https://play.google.com/store/apps/details?id=org.freecodecamp\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/google-play-badge.svg\" lang=\"en\" alt=\"Get it on Google Play\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer-bottom\">\n        <h2 class=\"col-header\" data-test-label=\"our-nonprofit\">Our Charity</h2>\n        <div class=\"our-nonprofit\">\n            <a href=\"https://www.freecodecamp.org/news/about/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"about\">\n                About\n            </a>\n            <a href=\"https://www.linkedin.com/school/free-code-camp/people/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"alumni\">\n                Alumni Network\n            </a>\n            <a href=\"https://github.com/freeCodeCamp/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"open-source\">\n                Open Source\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/shop/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"shop\">\n                Shop\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/support/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"support\">\n                Support\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/sponsors/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"sponsors\">\n                Sponsors\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/academic-honesty-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"honesty\">\n                Academic Honesty\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/code-of-conduct/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"coc\">\n                Code of Conduct\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/privacy-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"privacy\">\n                Privacy Policy\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/terms-of-service/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"tos\">\n                Terms of Service\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/copyright-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"copyright\">\n                Copyright Policy\n            </a>\n        </div>\n    </div>\n</footer>\n\n        </div>\n\n        \n        \n        \n\n        <!-- Google Tag Manager (noscript) -->\n<noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n<!-- End Google Tag Manager (noscript) -->\n\n        \n    <script defer src=\"https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015\" integrity=\"sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==\" data-cf-beacon='{\"rayId\":\"8ac9525afda7ce19\",\"version\":\"2024.7.0\",\"serverTiming\":{\"name\":{\"cfL4\":true}},\"token\":\"bdb993c6dde44e178aabd9555e75e4f4\",\"b\":1}' crossorigin=\"anonymous\"></script>\n</body>\n</html>\n"},"https://www.freecodecamp.org//news/beyond-unit-tests-an-intro-to-property-and-law-testing-in-scala-dd6a15898a19/":{"html":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        \n        \n            <title>Beyond unit tests: an intro to property and law testing in Scala</title>\n        \n        <meta name=\"HandheldFriendly\" content=\"True\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin=\"\">\n        \n            <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap\">\n        \n\n        \n        \n    <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n</noscript>\n<link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n</noscript>\n\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js\"></script>\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js\"></script>\n\n\n\n        \n        <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"/news/assets/css/global-26e2f3cde9.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/screen-926fddfac2.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/search-bar-124f5f949c.css\">\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js\"></script>\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js\"></script>\n\n        \n        \n            <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js\"></script>\n        \n\n        \n        <script>let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));</script>\n\n        \n        \n    \n        \n            <script data-ad-client=\"ca-pub-9482786369113753\" src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\" crossorigin=\"anonymous\" async=\"\"></script>\n        \n    \n\n\n        \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n\n\n        \n        \n        \n\n        \n        \n\n        <link rel=\"icon\" href=\"https://cdn.freecodecamp.org/universal/favicons/favicon.ico\" type=\"image/png\">\n        \n        \n            <link rel=\"canonical\" href=\"https://www.freecodecamp.org/news/beyond-unit-tests-an-intro-to-property-and-law-testing-in-scala-dd6a15898a19/\">\n        \n        <meta name=\"referrer\" content=\"no-referrer-when-downgrade\">\n\n        \n\n        \n    <meta name=\"description\" content=\"Taking your unit tests to the next level. I have been using ScalaCheck testing library for at least 2 years now. It allows you to take your unit tests to the next level.  *     You can do Property-based testing by generating a lot of tests\">\n\n    \n    <meta property=\"og:site_name\" content=\"freeCodeCamp.org\">\n    <meta property=\"og:type\" content=\"article\">\n    <meta property=\"og:title\" content=\"Beyond unit tests: an intro to property and law testing in Scala\">\n    \n        <meta property=\"og:description\" content=\"Taking your unit tests to the next level. I have been using ScalaCheck testing library for at least 2 years now. It allows you to take your unit tests to the next level.  *     You can do Property-based testing by generating a lot of tests\">\n    \n    <meta property=\"og:url\" content=\"https://www.freecodecamp.org/news/beyond-unit-tests-an-intro-to-property-and-law-testing-in-scala-dd6a15898a19/\">\n    <meta property=\"og:image\" content=\"https://cdn-media-1.freecodecamp.org/images/1*QcyFEloaC2fG_naIOEYXbQ.jpeg\">\n    <meta property=\"article:published_time\" content=\"2019-04-05T15:42:57.000Z\">\n    <meta property=\"article:modified_time\" content=\"2019-08-01T19:58:12.000Z\">\n    \n        <meta property=\"article:tag\" content=\"Scala\">\n    \n        <meta property=\"article:tag\" content=\"Functional Programming\">\n    \n        <meta property=\"article:tag\" content=\"Testing\">\n    \n        <meta property=\"article:tag\" content=\"Technology\">\n    \n        <meta property=\"article:tag\" content=\"Coding\">\n    \n    <meta property=\"article:publisher\" content=\"https://www.facebook.com/freecodecamp\">\n    \n\n    \n    <meta name=\"twitter:card\" content=\"summary_large_image\">\n    <meta name=\"twitter:title\" content=\"Beyond unit tests: an intro to property and law testing in Scala\">\n    \n        <meta name=\"twitter:description\" content=\"Taking your unit tests to the next level. I have been using ScalaCheck testing library for at least 2 years now. It allows you to take your unit tests to the next level.  *     You can do Property-based testing by generating a lot of tests\">\n    \n    <meta name=\"twitter:url\" content=\"https://www.freecodecamp.org/news/beyond-unit-tests-an-intro-to-property-and-law-testing-in-scala-dd6a15898a19/\">\n    <meta name=\"twitter:image\" content=\"https://cdn-media-1.freecodecamp.org/images/1*QcyFEloaC2fG_naIOEYXbQ.jpeg\">\n    <meta name=\"twitter:label1\" content=\"Written by\">\n    <meta name=\"twitter:data1\" content=\"Daniel Sebban\">\n    <meta name=\"twitter:label2\" content=\"Filed under\">\n    <meta name=\"twitter:data2\" content=\"Scala, Functional Programming, Testing, Technology, Coding\">\n    <meta name=\"twitter:site\" content=\"@freecodecamp\">\n    \n        <meta name=\"twitter:creator\" content=\"@dsebban\">\n    \n\n    <meta property=\"og:image:width\" content=\"600\">\n    <meta property=\"og:image:height\" content=\"400\">\n\n\n        \n    <script type=\"application/ld+json\">{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://cdn-media-1.freecodecamp.org/images/1*QcyFEloaC2fG_naIOEYXbQ.jpeg\",\n\t\t\"width\": 600,\n\t\t\"height\": 400\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/beyond-unit-tests-an-intro-to-property-and-law-testing-in-scala-dd6a15898a19/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2019-04-05T15:42:57.000Z\",\n\t\"dateModified\": \"2019-08-01T19:58:12.000Z\",\n\t\"keywords\": \"Scala, Functional Programming, Testing, Technology, Coding\",\n\t\"description\": \"Taking your unit tests to the next level.\\nI have been using ScalaCheck testing library for at least 2 years now. It allows\\nyou to take your unit tests to the next level.\\n\\n * \\n   You can do Property-based testing by generating a lot of tests with random\\n   data and asserting properties on your functions. A simple code example is\\n   described below.\\n * You can do Law testing that is even more powerful and allows you to check\\n   mathematical properties on your types.\\n\\nProperty-based testing\\nHere is\",\n\t\"headline\": \"Beyond unit tests: an intro to property and law testing in Scala\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Daniel Sebban\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/dsebban/\",\n\t\t\"sameAs\": [\n\t\t\t\"https://twitter.com/dsebban\"\n\t\t],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2019/08/NGzLCUHq_400x400--1-.jpg\",\n\t\t\t\"width\": 400,\n\t\t\t\"height\": 400\n\t\t}\n\t}\n}</script>\n\n\n        <meta name=\"generator\" content=\"Eleventy\">\n        <link rel=\"alternate\" type=\"application/rss+xml\" title=\"freeCodeCamp.org\" href=\"https://www.freecodecamp.org/news/rss/\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n\n<!-- dataLayer setup -->\n<script>\nwindow.dataLayer = window.dataLayer || [];\n</script>\n<!-- End dataLayer setup -->\n\n<!-- Google Tag Manager -->\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');</script>\n<!-- End Google Tag Manager -->\n\n\n<meta name=\"google-site-verification\" content=\"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E\">\n\n        \n        \n\n        \n  <meta name=\"x-fcc-source\" data-test-label=\"x-fcc-source\" content=\"Ghost\">\n\n    </head>\n\n    \n        <body class=\"home-template\">\n    \n        <div class=\"site-wrapper\">\n            <nav class=\"site-nav nav-padding\">\n    <div class=\"site-nav-left\">\n        \n<form id=\"search-form\" data-test-label=\"search-bar\">\n    <div role=\"search\" class=\"searchbox__wrapper\">\n        <label class=\"fcc_sr_only\" for=\"search-input\">\n            Search\n        </label>\n        <input type=\"search\" placeholder=\"\n    Search 11,200+ tutorials\n\" id=\"search-input\">\n        <button type=\"submit\" class=\"ais-SearchBox-submit\">\n            <svg class=\"ais-SearchBox-submitIcon\" xmlns=\"https://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 40 40\">\n    <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n</svg>\n\n            <span class=\"fcc_sr_only\">Submit your search query</span>\n        </button>\n        <div id=\"dropdown-container\"></div>\n    </div>\n</form>\n\n    </div>\n    <div class=\"site-nav-middle\">\n        <a class=\"site-nav-logo\" href=\"https://www.freecodecamp.org/news/\" data-test-label=\"site-nav-logo\"><img src=\"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\" alt=\"freeCodeCamp.org\"></a>\n    </div>\n    <div class=\"site-nav-right\">\n        <div class=\"nav-group\">\n            <a class=\"nav-forum\" id=\"nav-forum\" rel=\"noopener noreferrer\" href=\"https://forum.freecodecamp.org/\" target=\"_blank\" data-test-label=\"forum-button\">Forum</a>\n            <a class=\"toggle-button-nav\" id=\"nav-donate\" rel=\"noopener noreferrer\" href=\"https://www.freecodecamp.org/donate/\" target=\"_blank\" data-test-label=\"donate-button\">Donate</a>\n        </div>\n    </div>\n</nav>\n\n\n            \n            <a class=\"banner\" id=\"banner\" data-test-label=\"banner\" rel=\"noopener noreferrer\" target=\"_blank\">\n    <p id=\"banner-text\"></p>\n</a>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const e=document.getElementById(\"banner\"),t=document.getElementById(\"banner-text\");isAuthenticated?(t.innerHTML=\"Support our charity and our mission. <span>Donate to freeCodeCamp.org</span>.\",e.href=\"https://www.freecodecamp.org/donate\",e.setAttribute(\"text-variation\",\"authenticated\")):isDonor?(t.innerHTML=\"Thank you for supporting freeCodeCamp through <span>your donations</span>.\",e.href=\"https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp/\",e.setAttribute(\"text-variation\",\"donor\")):(t.innerHTML=\"Learn to code — <span>free 3,000-hour curriculum</span>\",e.href=\"https://www.freecodecamp.org/\",e.setAttribute(\"text-variation\",\"default\"))}));</script>\n\n\n            <div id=\"error-message\"></div>\n\n            \n    <main id=\"site-main\" class=\"post-template site-main outer\">\n        <div class=\"inner ad-layout\">\n            <article class=\"post-full post\">\n                <header class=\"post-full-header\">\n                    <section class=\"post-full-meta\">\n                        <time class=\"post-full-meta-date\" data-test-label=\"post-full-meta-date\" datetime=\"Fri Apr 05 2019 15:42:57 GMT+0000 (Coordinated Universal Time)\">\n                            April 5, 2019\n                        </time>\n                        \n                            <span class=\"date-divider\">/</span>\n                            <a dir=\"ltr\" href=\"/news/tag/scala/\">\n                                #Scala\n                            </a>\n                        \n                    </section>\n                    <h1 class=\"post-full-title\" data-test-label=\"post-full-title\">Beyond unit tests: an intro to property and law testing in Scala</h1>\n                </header>\n                <div class=\"post-full-author-header\" data-test-label=\"author-header-no-bio\">\n                    \n                        \n                            \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2019/08/NGzLCUHq_400x400--1-.jpg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2019/08/NGzLCUHq_400x400--1-.jpg\" class=\"author-profile-image\" alt=\"Daniel Sebban\" width=\"400\" height=\"400\" onerror=\"this.style.display='none'\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content author-card-content-no-bio\">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/dsebban/\" data-test-label=\"profile-link\">\n                    \n                        Daniel Sebban\n                    \n                </a>\n            </span>\n            \n        </section>\n    </section>\n\n                        \n                    \n                </div>\n                <figure class=\"post-full-image\">\n                    \n    <picture>\n      <source media=\"(max-width: 700px)\" sizes=\"1px\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w\">\n      <source media=\"(min-width: 701px)\" sizes=\"(max-width: 800px) 400px, (max-width: 1170px) 700px, 1400px\" srcset=\"https://cdn-media-1.freecodecamp.org/images/1*QcyFEloaC2fG_naIOEYXbQ.jpeg\">\n      <img onerror=\"this.style.display='none'\" src=\"https://cdn-media-1.freecodecamp.org/images/1*QcyFEloaC2fG_naIOEYXbQ.jpeg\" alt=\"Beyond unit tests: an intro to property and law testing in Scala\" ,=\"\" width=\"600\" height=\"400\" data-test-label=\"feature-image\">\n    </picture>\n  \n                </figure>\n                <section class=\"post-full-content\">\n                    <div class=\"post-and-sidebar\">\n                        <section class=\"post-content \" data-test-label=\"post-content\">\n                            \n<h4 id=\"taking-your-unit-tests-to-the-next-level-\">Taking your unit tests to the next level.</h4><p>I have been using ScalaCheck testing library for at least 2 years now. It allows you to take your unit tests to the next level.</p><ul><li><br>You can do <strong><strong>Property-based testing </strong></strong>by generating a lot of tests with random data and asserting properties on your functions. A simple code example is described below.</li><li>You can do <strong><strong>Law testing</strong></strong> that is even more powerful and allows you to check mathematical properties on your types.</li></ul><h1 id=\"property-based-testing\">Property-based testing</h1><p>Here is our beloved <code>User</code> data type:</p><pre><code class=\"language-scala\">case class User(name: String, age: Int)</code></pre><p>And a random <code>User</code> generator:</p><pre><code class=\"language-scala\">import org.scalacheck.{ Gen, Arbitrary }\nimport Arbitrary.arbitrary\nimplicit val randomUser: Arbitrary[User] = Arbitrary(for {\n  randomName &lt;- Gen.alphaStr\n  randomAge  &lt;- Gen.choose(0,80)\n  } yield User(randomName, randomAge))</code></pre><p>We can now generate a <code>User</code> like this:</p><pre><code class=\"language-scala\">scala&gt; randomUser.arbitrary.sample\nres0: Option[User] = Some(User(OtwlaaxGbmdhuorlmgvXitbmGfbgetm,22))</code></pre><p>Let’s define some functions on the <code>User</code>:</p><pre><code class=\"language-scala\">def isAdult: User =&gt; Boolean = _.age &gt;= 18\ndef isAllowedToDrink : User =&gt; Boolean = _.age &gt;= 21</code></pre><p>Let’s claim that:</p><p><strong><strong>All adults are allowed to drink.</strong></strong></p><p><strong><strong>Can we somehow prove this? Is this correct for all users?</strong></strong></p><p>This is where property testing comes to the rescue. It allows us not to write specific unit-tests. Here they would be:</p><ul><li>18-year-olds are not allowed to drink</li><li>19-year-olds are not allowed to drink</li><li>20-year-olds are not allowed to drink</li></ul><p>All of these statements can be replaced by a single property check:</p><pre><code class=\"language-scala\">import org.scalacheck.Prop.forAll\nval allAdultsCanDrink = forAll { u: User =&gt;\n    if(isAdult(u)) isAllowedToDrink(u) else true }</code></pre><p>Let’s run it:</p><pre><code class=\"language-scala\">scala&gt; allAdultsCanDrink.check()\n! Falsified after 0 passed tests.\n&gt; ARG_0: User(,19)</code></pre><p>It fails as expected for a 19-year-old.</p><p>Property testing is awesome for a few reasons:</p><ul><li>Saves time by writing less specific tests</li><li>Finds new use cases generated by Scala check that you forgot to handle</li><li>Forces you think in a more general way</li><li>Gives you more confidence for refactoring than conventional unit tests</li></ul><h1 id=\"law-testing\">Law testing</h1><p>It gets better: let’s take it to the next level and define an Ordering between Users:</p><pre><code class=\"language-scala\">import scala.math.Orderingimplicit val userOrdering: Ordering[User] = Ordering.by(_.age)</code></pre><p>We want to make sure that we didn't<strong><strong> forget any edge cases </strong></strong>and that we defined our order properly. This property has a name, and it’s called a<strong><strong> total order.</strong></strong> It needs to holds for the following properties:</p><ul><li><strong><strong>Totality</strong></strong></li><li><strong><strong>Antisymmetry</strong></strong></li><li><strong><strong>Transitivity</strong></strong></li></ul><p><strong><strong>Can we somehow prove this? Is this correct for all users?</strong></strong></p><p>This is possible without writing a single test!</p><p>We use <code>cats-laws</code> library to define the laws we want to test on the ordering we defined:</p><pre><code class=\"language-scala\">import cats.kernel.laws.discipline.OrderTests\nimport cats._\nimport org.scalatest.FunSuite\nimport org.typelevel.discipline.scalatest.Discipline\nimport org.scalacheck.ScalacheckShapeless._\nclass UserOrderSpec extends FunSuite with Discipline  {\n//needed boilerplate to satisfy the dependencies of the framework\n  implicit def eqUser[A: Eq]: Eq[Option[User]] = Eq.fromUniversalEquals\n//convert our standard ordering to a `cats` order \n  implicit val catsUserOrder: Order[User] = Order.fromOrdering(userOrdering)\n  \n//check all mathematical properties on our ordering\n  checkAll(\"User\", OrderTests[User].order)\n}</code></pre><p>Let’s run it:</p><pre><code class=\"language-scala\">scala&gt; new UserOrderSpec().execute()\nUserOrderSpec:\n- User.order.antisymmetry *** FAILED ***\n  GeneratorDrivenPropertyCheckFailedException was thrown during property evaluation.\n   (Discipline.scala:14)\n    Falsified after 1 successful property evaluations.\n    Location: (Discipline.scala:14)\n    Occurred when passed generated values (\n      arg0 = User(h,17),\n      arg1 = User(edsb,17),\n      arg2 = org.scalacheck.GenArities$$Lambda$2739/1277317528@41d7b4cf\n    )\n    Label of failing property:\n      Expected: true\n  Received: false\n- User.order.compare\n- User.order.gt\n- User.order.gteqv\n- User.order.lt\n- User.order.max\n- User.order.min\n- User.order.partialCompare\n- User.order.pmax\n- User.order.pmin\n- User.order.reflexitivity\n- User.order.reflexitivity gt\n- User.order.reflexitivity lt\n- User.order.symmetry\n- User.order.totality\n- User.order.transitivity</code></pre><p>Sure enough, it fails on the antisymmetry law! Same age and different names are not supposed to be equals. We forgot to use the name in our original <code>Ordering</code>, so let's fix it and rerun the laws:</p><pre><code class=\"language-scala\">implicit val userOrdering: Ordering[User] = Ordering.by( u =&gt; (u.age, u.name))\nscala&gt; new UserOrderSpec().execute()\nUserOrderSpec:\n- User.order.antisymmetry\n- User.order.compare\n- User.order.gt\n- User.order.gteqv\n- User.order.lt\n- User.order.max\n- User.order.min\n- User.order.partialCompare\n- User.order.pmax\n- User.order.pmin\n- User.order.reflexitivity\n- User.order.reflexitivity gt\n- User.order.reflexitivity lt\n- User.order.symmetry\n- User.order.totality\n- User.order.transitivity</code></pre><p>And now it passes :)</p><p>If you are wondering what can you test besides <code>Order</code>s, go check out the docs here: <a href=\"https://typelevel.org/cats/typeclasses/lawtesting.html\">https://typelevel.org/cats/typeclasses/lawtesting.html</a></p><h1 id=\"summary\">Summary</h1><ul><li>Property tests are more powerful than unit tests. They allow us to define properties on functions and generate a large number of tests using random data generators.</li><li>Law testing takes it to the next level and uses the mathematical properties of structures like <code>Order</code> to generate the properties and the tests.</li><li>Next time you define an ordering and wonder if it’s well-defined, go ahead and run the laws on it!</li></ul>\n\n                        </section>\n                        \n                            <div class=\"sidebar\">\n                                \n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                \n                            </div>\n                        \n                    </div>\n                    <hr>\n                    \n                        <div class=\"post-full-author-header\" data-test-label=\"author-header-with-bio\">\n                            \n                                \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2019/08/NGzLCUHq_400x400--1-.jpg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2019/08/NGzLCUHq_400x400--1-.jpg\" class=\"author-profile-image\" alt=\"Daniel Sebban\" width=\"400\" height=\"400\" onerror=\"this.style.display='none'\" loading=\"lazy\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content \">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/dsebban/\" data-test-label=\"profile-link\">\n                    \n                        Daniel Sebban\n                    \n                </a>\n            </span>\n            \n                \n                    <p data-test-label=\"author-bio\">Scala Developer @Bigpanda / FP enthusiast / Enjoys building scalable and resilient data intensive pipelines</p>\n                \n            \n        </section>\n    </section>\n\n                            \n                        </div>\n                        <hr>\n                    \n\n                    \n                    \n                        \n    \n\n\n<p data-test-label=\"social-row-cta\" class=\"social-row\">\n    If you read this far, thank the author to show them you care. <button id=\"tweet-btn\" class=\"cta-button\" data-test-label=\"tweet-button\">Say Thanks</button>\n</p>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const t=document.getElementById(\"tweet-btn\"),e=window.location,n=\"Beyond%20unit%20tests%3A%20an%20intro%20to%20property%20and%20law%20testing%20in%20Scala\".replace(/&#39;/g,\"%27\"),o=\"\",i=\"@dsebban\",r=Boolean(\"\");let a;if(r&&(o||i)){const t={originalPostAuthor:\"\",currentPostAuthor:\"Daniel Sebban\"};a=encodeURIComponent(`Thank you ${o||t.originalPostAuthor} for writing this helpful article, and ${i||t.currentPostAuthor} for translating it.`)}else!r&&i&&(a=encodeURIComponent(`Thank you ${i} for writing this helpful article.`));const s=`window.open(\\n    '${a?`https://twitter.com/intent/tweet?text=${a}%0A%0A${n}%0A%0A${e}`:`https://twitter.com/intent/tweet?text=${n}%0A%0A${e}`}',\\n    'share-twitter',\\n    'width=550, height=235'\\n  ); return false;`;t.setAttribute(\"onclick\",s)}));</script>\n\n\n                        \n\n<div class=\"learn-cta-row\" data-test-label=\"learn-cta-row\">\n    <p>\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href=\"https://www.freecodecamp.org/learn/\" class=\"cta-button\" id=\"learn-to-code-cta\" rel=\"noopener noreferrer\" target=\"_blank\">Get started</a>\n    </p>\n</div>\n\n                    \n                </section>\n                \n                    <div class=\"banner-ad bottom\">\n                        \n                            <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                        \n                    </div>\n                \n            </article>\n        </div>\n    </main>\n\n\n            \n\n\n<footer class=\"site-footer\">\n    <div class=\"footer-top\">\n        <div class=\"footer-desc-col\">\n            <p data-test-label=\"tax-exempt-status\">freeCodeCamp is a donor-supported tax-exempt 501(c)(3) charity organization (United States Federal Tax Identification Number: 82-0779546)</p>\n            <p data-test-label=\"mission-statement\">Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public.</p>\n            <p data-test-label=\"donation-initiatives\">Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.</p>\n            <p class=\"footer-donation\" data-test-label=\"donate-text\">\n                You can <a href=\"https://www.freecodecamp.org/donate/\" class=\"inline\" rel=\"noopener noreferrer\" target=\"_blank\">make a tax-deductible donation here</a>.\n            </p>\n        </div>\n        <div class=\"trending-guides\" data-test-label=\"trending-guides\">\n            <h2 id=\"trending-guides\" class=\"col-header\">Trending Guides</h2>\n            <ul class=\"trending-guides-articles\" aria-labelledby=\"trending-guides\">\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-transform-functions-and-properties/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Transform\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-create-a-static-blog-with-lume/\" rel=\"noopener noreferrer\" target=\"_blank\">Build a Static Blog\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-build-an-ai-chatbot-with-redis-python-and-gpt/\" rel=\"noopener noreferrer\" target=\"_blank\">Build an AI Chatbot\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/what-is-programming-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">What is Programming?\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Python Code Examples\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/a-practical-guide-to-start-opensource-contributions/\" rel=\"noopener noreferrer\" target=\"_blank\">Open Source for Devs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/http-full-course/\" rel=\"noopener noreferrer\" target=\"_blank\">HTTP Networking in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-unit-tests-in-react-redux/\" rel=\"noopener noreferrer\" target=\"_blank\">Write React Unit Tests\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/introduction-to-algorithms-with-javascript-examples/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Algorithms in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-clean-code/\" rel=\"noopener noreferrer\" target=\"_blank\">How to Write Clean Code\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-php-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn PHP\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-java-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Java\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-swift-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Swift\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-golang-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Golang\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/get-started-with-nodejs/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Node.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-grid/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Grid\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-solidity-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Solidity\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-express-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Express.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/javascript-es-modules-and-module-bundlers/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn JS Modules\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/apache-kafka-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Apache Kafka\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/rest-api-design-best-practices-build-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">REST API Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/front-end-javascript-development-react-angular-vue-compared/\" rel=\"noopener noreferrer\" target=\"_blank\">Front-End JS Development\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-consume-and-document-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build REST APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-strongly-typed-polymorphic-components-with-react-and-typescript/\" rel=\"noopener noreferrer\" target=\"_blank\">Intermediate TS and React\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/command-line-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Command Line for Beginners\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-operating-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Intro to Operating Systems\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/building-consuming-and-documenting-a-graphql-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build GraphQL APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/oss-security-best-practices/\" rel=\"noopener noreferrer\" target=\"_blank\">OSS Security Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/design-patterns-for-distributed-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Distributed Systems Patterns\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-software-architecture-patterns/\" rel=\"noopener noreferrer\" target=\"_blank\">Software Architecture Patterns\n                    </a>\n                </li>\n            </ul>\n            <div class=\"spacer\" style=\"padding: 15px 0;\"></div>\n            <div>\n                <h2 id=\"mobile-app\" class=\"col-header\">\n                    Mobile App\n                </h2>\n                <div class=\"min-h-[1px] px-[15px] md:w-2/3 md:ml-[16.6%]\">\n                    <ul aria-labelledby=\"mobile-app\" class=\"mobile-app-container\">\n                        <li>\n                            <a href=\"https://apps.apple.com/us/app/freecodecamp/id6446908151?itsct=apps_box_link&itscg=30200\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/apple-store-badge.svg\" lang=\"en\" alt=\"Download on the App Store\">\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"https://play.google.com/store/apps/details?id=org.freecodecamp\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/google-play-badge.svg\" lang=\"en\" alt=\"Get it on Google Play\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer-bottom\">\n        <h2 class=\"col-header\" data-test-label=\"our-nonprofit\">Our Charity</h2>\n        <div class=\"our-nonprofit\">\n            <a href=\"https://www.freecodecamp.org/news/about/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"about\">\n                About\n            </a>\n            <a href=\"https://www.linkedin.com/school/free-code-camp/people/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"alumni\">\n                Alumni Network\n            </a>\n            <a href=\"https://github.com/freeCodeCamp/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"open-source\">\n                Open Source\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/shop/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"shop\">\n                Shop\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/support/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"support\">\n                Support\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/sponsors/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"sponsors\">\n                Sponsors\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/academic-honesty-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"honesty\">\n                Academic Honesty\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/code-of-conduct/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"coc\">\n                Code of Conduct\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/privacy-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"privacy\">\n                Privacy Policy\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/terms-of-service/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"tos\">\n                Terms of Service\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/copyright-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"copyright\">\n                Copyright Policy\n            </a>\n        </div>\n    </div>\n</footer>\n\n        </div>\n\n        \n        \n        \n\n        <!-- Google Tag Manager (noscript) -->\n<noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n<!-- End Google Tag Manager (noscript) -->\n\n        \n    <script defer src=\"https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015\" integrity=\"sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==\" data-cf-beacon='{\"rayId\":\"8ac9525afda8ce19\",\"version\":\"2024.7.0\",\"serverTiming\":{\"name\":{\"cfL4\":true}},\"token\":\"bdb993c6dde44e178aabd9555e75e4f4\",\"b\":1}' crossorigin=\"anonymous\"></script>\n</body>\n</html>\n"},"https://www.freecodecamp.org//news/a-streaming-library-with-a-superpower-fs2-and-functional-programming-6f602079f70a/":{"html":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        \n        \n            <title>A streaming library with a superpower: FS2 and functional programming</title>\n        \n        <meta name=\"HandheldFriendly\" content=\"True\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin=\"\">\n        \n            <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Mono:wght@400;700&display=swap\">\n        \n\n        \n        \n    <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/themes/prism.min.css\">\n</noscript>\n<link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n<noscript>\n  <link rel=\"stylesheet\" href=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/unescaped-markup/prism-unescaped-markup.min.css\">\n</noscript>\n\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/components/prism-core.min.js\"></script>\n<script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js\"></script>\n\n\n\n        \n        <link rel=\"preload\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" href=\"/news/assets/css/global-26e2f3cde9.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/screen-926fddfac2.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/news/assets/css/search-bar-124f5f949c.css\">\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/algoliasearch-3-33-0/algoliasearch.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/algolia/autocomplete-0-36-0/autocomplete.min.js\"></script>\n\n        \n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/dayjs.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/localizedFormat.min.js\"></script>\n        <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/relativeTime.min.js\"></script>\n\n        \n        \n            <script defer=\"\" src=\"https://cdn.freecodecamp.org/news-assets/dayjs/1.10.4/locale/en.min.js\"></script>\n        \n\n        \n        <script>let client,index;document.addEventListener(\"DOMContentLoaded\",(()=>{client=algoliasearch(\"QMJYL5WYTI\",\"89770b24481654192d7a5c402c6ad9a0\"),index=client.initIndex(\"news\")})),document.addEventListener(\"DOMContentLoaded\",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById(\"search-form\"),s=document.getElementById(\"search-input\"),a=document.getElementById(\"dropdown-container\");let i,d,c;s.addEventListener(\"input\",(e=>{i=e.target.value})),o.addEventListener(\"submit\",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName(\"aa-cursor\")[0],d&&i){const e=d.querySelector(\"a\").href;window.location.assign(e)}else!d&&i&&c&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const l=autocomplete(\"#search-input\",{hint:!1,keyboardShortcuts:[\"s\",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(c=!0,`\\n            <a href=\"${e.url}\">\\n              <div class=\"algolia-result\">\\n                <span>${e._highlightResult.title.value}</span>\\n              </div>\\n            </a>\\n          `),empty:()=>(c=!1,'\\n            <div class=\"aa-suggestion footer-suggestion no-hits-footer\">\\n              <div class=\"algolia-result\">\\n                <span>\\n                  No tutorials found\\n                </span>\\n              </div>\\n            </div>\\n          '),footer:e=>{if(!e.isEmpty)return`\\n              <div class=\"aa-suggestion footer-suggestion\">\\n                <a id=\"algolia-footer-selector\" href=\"https://www.freecodecamp.org/news/search?query=${i}\">\\n                  <div class=\"algolia-result algolia-footer\">\\n                    See all results for ${i}\\n                  </div>\\n                </a>\\n              </div>\\n            `}}}]).on(\"autocomplete:selected\",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,\"click\"!==o.selectionMethod&&\"tabKey\"!==o.selectionMethod&&c&&window.location.assign(d)}));document.addEventListener(\"click\",(e=>{e.target!==s&&l.autocomplete.close()}))})),document.addEventListener(\"DOMContentLoaded\",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale(\"en\")}));const isAuthenticated=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"jwt_access_token=\"))),isDonor=document.cookie.split(\";\").some((e=>e.trim().startsWith(\"isDonor=true\")));</script>\n\n        \n        \n    \n        \n            <script data-ad-client=\"ca-pub-9482786369113753\" src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\" crossorigin=\"anonymous\" async=\"\"></script>\n        \n    \n\n\n        \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n        \n    \n\n\n        \n        \n        \n\n        \n        \n\n        <link rel=\"icon\" href=\"https://cdn.freecodecamp.org/universal/favicons/favicon.ico\" type=\"image/png\">\n        \n        \n            <link rel=\"canonical\" href=\"https://www.freecodecamp.org/news/a-streaming-library-with-a-superpower-fs2-and-functional-programming-6f602079f70a/\">\n        \n        <meta name=\"referrer\" content=\"no-referrer-when-downgrade\">\n\n        \n\n        \n    <meta name=\"description\" content=\"Scala has a very special streaming library called FS2 (Functional Streams for Scala). This library embodies all the advantages of functional programming (FP). By understanding its design goals you will get exposure to the core ideas that make FP so appealing. FS2 has one central type: Stream[Effect,Output] You might get\">\n\n    \n    <meta property=\"og:site_name\" content=\"freeCodeCamp.org\">\n    <meta property=\"og:type\" content=\"article\">\n    <meta property=\"og:title\" content=\"A streaming library with a superpower: FS2 and functional programming\">\n    \n        <meta property=\"og:description\" content=\"Scala has a very special streaming library called FS2 (Functional Streams for Scala). This library embodies all the advantages of functional programming (FP). By understanding its design goals you will get exposure to the core ideas that make FP so appealing. FS2 has one central type: Stream[Effect,Output] You might get\">\n    \n    <meta property=\"og:url\" content=\"https://www.freecodecamp.org/news/a-streaming-library-with-a-superpower-fs2-and-functional-programming-6f602079f70a/\">\n    <meta property=\"og:image\" content=\"https://cdn-media-1.freecodecamp.org/images/1*Mi3HukEz9_JHfv3Z5lp93g.jpeg\">\n    <meta property=\"article:published_time\" content=\"2018-11-19T21:20:26.000Z\">\n    <meta property=\"article:modified_time\" content=\"2019-08-01T19:52:55.000Z\">\n    \n        <meta property=\"article:tag\" content=\"Functional Programming\">\n    \n        <meta property=\"article:tag\" content=\"Scala\">\n    \n        <meta property=\"article:tag\" content=\"Tech\">\n    \n        <meta property=\"article:tag\" content=\"Programming\">\n    \n        <meta property=\"article:tag\" content=\"Technology\">\n    \n    <meta property=\"article:publisher\" content=\"https://www.facebook.com/freecodecamp\">\n    \n\n    \n    <meta name=\"twitter:card\" content=\"summary_large_image\">\n    <meta name=\"twitter:title\" content=\"A streaming library with a superpower: FS2 and functional programming\">\n    \n        <meta name=\"twitter:description\" content=\"Scala has a very special streaming library called FS2 (Functional Streams for Scala). This library embodies all the advantages of functional programming (FP). By understanding its design goals you will get exposure to the core ideas that make FP so appealing. FS2 has one central type: Stream[Effect,Output] You might get\">\n    \n    <meta name=\"twitter:url\" content=\"https://www.freecodecamp.org/news/a-streaming-library-with-a-superpower-fs2-and-functional-programming-6f602079f70a/\">\n    <meta name=\"twitter:image\" content=\"https://cdn-media-1.freecodecamp.org/images/1*Mi3HukEz9_JHfv3Z5lp93g.jpeg\">\n    <meta name=\"twitter:label1\" content=\"Written by\">\n    <meta name=\"twitter:data1\" content=\"Daniel Sebban\">\n    <meta name=\"twitter:label2\" content=\"Filed under\">\n    <meta name=\"twitter:data2\" content=\"Functional Programming, Scala, Tech, Programming, Technology\">\n    <meta name=\"twitter:site\" content=\"@freecodecamp\">\n    \n        <meta name=\"twitter:creator\" content=\"@dsebban\">\n    \n\n    <meta property=\"og:image:width\" content=\"738\">\n    <meta property=\"og:image:height\" content=\"388\">\n\n\n        \n    <script type=\"application/ld+json\">{\n\t\"@context\": \"https://schema.org\",\n\t\"@type\": \"Article\",\n\t\"publisher\": {\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"freeCodeCamp.org\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/\",\n\t\t\"logo\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\",\n\t\t\t\"width\": 2100,\n\t\t\t\"height\": 240\n\t\t}\n\t},\n\t\"image\": {\n\t\t\"@type\": \"ImageObject\",\n\t\t\"url\": \"https://cdn-media-1.freecodecamp.org/images/1*Mi3HukEz9_JHfv3Z5lp93g.jpeg\",\n\t\t\"width\": 738,\n\t\t\"height\": 388\n\t},\n\t\"url\": \"https://www.freecodecamp.org/news/a-streaming-library-with-a-superpower-fs2-and-functional-programming-6f602079f70a/\",\n\t\"mainEntityOfPage\": {\n\t\t\"@type\": \"WebPage\",\n\t\t\"@id\": \"https://www.freecodecamp.org/news/\"\n\t},\n\t\"datePublished\": \"2018-11-19T21:20:26.000Z\",\n\t\"dateModified\": \"2019-08-01T19:52:55.000Z\",\n\t\"keywords\": \"Functional Programming, Scala, Tech, Programming, Technology\",\n\t\"description\": \"Scala has a very special streaming library called FS2 (Functional Streams for\\nScala). This library embodies all the advantages of functional programming (FP).\\nBy understanding its design goals you will get exposure to the core ideas that\\nmake FP so appealing.\\n\\nFS2 has one central type: Stream[Effect,Output]\\n\\nYou might get from this type that it’s a Stream and that it emits values of type \\nOutput.\\n\\nThe obvious question here is what is Effect? What is the link between Effect and \\nOutput? And what \",\n\t\"headline\": \"A streaming library with a superpower: FS2 and functional programming\",\n\t\"author\": {\n\t\t\"@type\": \"Person\",\n\t\t\"name\": \"Daniel Sebban\",\n\t\t\"url\": \"https://www.freecodecamp.org/news/author/dsebban/\",\n\t\t\"sameAs\": [\n\t\t\t\"https://twitter.com/dsebban\"\n\t\t],\n\t\t\"image\": {\n\t\t\t\"@type\": \"ImageObject\",\n\t\t\t\"url\": \"https://www.freecodecamp.org/news/content/images/2019/08/NGzLCUHq_400x400--1-.jpg\",\n\t\t\t\"width\": 400,\n\t\t\t\"height\": 400\n\t\t}\n\t}\n}</script>\n\n\n        <meta name=\"generator\" content=\"Eleventy\">\n        <link rel=\"alternate\" type=\"application/rss+xml\" title=\"freeCodeCamp.org\" href=\"https://www.freecodecamp.org/news/rss/\">\n\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n\n<!-- dataLayer setup -->\n<script>\nwindow.dataLayer = window.dataLayer || [];\n</script>\n<!-- End dataLayer setup -->\n\n<!-- Google Tag Manager -->\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-5D6RKKP');</script>\n<!-- End Google Tag Manager -->\n\n\n<meta name=\"google-site-verification\" content=\"b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E\">\n\n        \n        \n\n        \n  <meta name=\"x-fcc-source\" data-test-label=\"x-fcc-source\" content=\"Ghost\">\n\n    </head>\n\n    \n        <body class=\"home-template\">\n    \n        <div class=\"site-wrapper\">\n            <nav class=\"site-nav nav-padding\">\n    <div class=\"site-nav-left\">\n        \n<form id=\"search-form\" data-test-label=\"search-bar\">\n    <div role=\"search\" class=\"searchbox__wrapper\">\n        <label class=\"fcc_sr_only\" for=\"search-input\">\n            Search\n        </label>\n        <input type=\"search\" placeholder=\"\n    Search 11,200+ tutorials\n\" id=\"search-input\">\n        <button type=\"submit\" class=\"ais-SearchBox-submit\">\n            <svg class=\"ais-SearchBox-submitIcon\" xmlns=\"https://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 40 40\">\n    <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n</svg>\n\n            <span class=\"fcc_sr_only\">Submit your search query</span>\n        </button>\n        <div id=\"dropdown-container\"></div>\n    </div>\n</form>\n\n    </div>\n    <div class=\"site-nav-middle\">\n        <a class=\"site-nav-logo\" href=\"https://www.freecodecamp.org/news/\" data-test-label=\"site-nav-logo\"><img src=\"https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg\" alt=\"freeCodeCamp.org\"></a>\n    </div>\n    <div class=\"site-nav-right\">\n        <div class=\"nav-group\">\n            <a class=\"nav-forum\" id=\"nav-forum\" rel=\"noopener noreferrer\" href=\"https://forum.freecodecamp.org/\" target=\"_blank\" data-test-label=\"forum-button\">Forum</a>\n            <a class=\"toggle-button-nav\" id=\"nav-donate\" rel=\"noopener noreferrer\" href=\"https://www.freecodecamp.org/donate/\" target=\"_blank\" data-test-label=\"donate-button\">Donate</a>\n        </div>\n    </div>\n</nav>\n\n\n            \n            <a class=\"banner\" id=\"banner\" data-test-label=\"banner\" rel=\"noopener noreferrer\" target=\"_blank\">\n    <p id=\"banner-text\"></p>\n</a>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const e=document.getElementById(\"banner\"),t=document.getElementById(\"banner-text\");isAuthenticated?(t.innerHTML=\"Support our charity and our mission. <span>Donate to freeCodeCamp.org</span>.\",e.href=\"https://www.freecodecamp.org/donate\",e.setAttribute(\"text-variation\",\"authenticated\")):isDonor?(t.innerHTML=\"Thank you for supporting freeCodeCamp through <span>your donations</span>.\",e.href=\"https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp/\",e.setAttribute(\"text-variation\",\"donor\")):(t.innerHTML=\"Learn to code — <span>free 3,000-hour curriculum</span>\",e.href=\"https://www.freecodecamp.org/\",e.setAttribute(\"text-variation\",\"default\"))}));</script>\n\n\n            <div id=\"error-message\"></div>\n\n            \n    <main id=\"site-main\" class=\"post-template site-main outer\">\n        <div class=\"inner ad-layout\">\n            <article class=\"post-full post\">\n                <header class=\"post-full-header\">\n                    <section class=\"post-full-meta\">\n                        <time class=\"post-full-meta-date\" data-test-label=\"post-full-meta-date\" datetime=\"Mon Nov 19 2018 21:20:26 GMT+0000 (Coordinated Universal Time)\">\n                            November 19, 2018\n                        </time>\n                        \n                            <span class=\"date-divider\">/</span>\n                            <a dir=\"ltr\" href=\"/news/tag/functional-programming/\">\n                                #Functional Programming\n                            </a>\n                        \n                    </section>\n                    <h1 class=\"post-full-title\" data-test-label=\"post-full-title\">A streaming library with a superpower: FS2 and functional programming</h1>\n                </header>\n                <div class=\"post-full-author-header\" data-test-label=\"author-header-no-bio\">\n                    \n                        \n                            \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2019/08/NGzLCUHq_400x400--1-.jpg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2019/08/NGzLCUHq_400x400--1-.jpg\" class=\"author-profile-image\" alt=\"Daniel Sebban\" width=\"400\" height=\"400\" onerror=\"this.style.display='none'\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content author-card-content-no-bio\">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/dsebban/\" data-test-label=\"profile-link\">\n                    \n                        Daniel Sebban\n                    \n                </a>\n            </span>\n            \n        </section>\n    </section>\n\n                        \n                    \n                </div>\n                <figure class=\"post-full-image\">\n                    \n    <picture>\n      <source media=\"(max-width: 700px)\" sizes=\"1px\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w\">\n      <source media=\"(min-width: 701px)\" sizes=\"(max-width: 800px) 400px, (max-width: 1170px) 700px, 1400px\" srcset=\"https://cdn-media-1.freecodecamp.org/images/1*Mi3HukEz9_JHfv3Z5lp93g.jpeg\">\n      <img onerror=\"this.style.display='none'\" src=\"https://cdn-media-1.freecodecamp.org/images/1*Mi3HukEz9_JHfv3Z5lp93g.jpeg\" alt=\"A streaming library with a superpower: FS2 and functional programming\" ,=\"\" width=\"738\" height=\"388\" data-test-label=\"feature-image\">\n    </picture>\n  \n                </figure>\n                <section class=\"post-full-content\">\n                    <div class=\"post-and-sidebar\">\n                        <section class=\"post-content \" data-test-label=\"post-content\">\n                            \n<p>Scala has a very special streaming library called FS2 (Functional Streams for Scala). This library embodies all the advantages of functional programming (FP). By understanding its design goals you will get exposure to the core ideas that make FP so appealing.</p><p>FS2 has one central type: <code><strong>Stream[Effect,Output]</strong></code></p><p>You might get from this type that it’s a <code>Stream</code> and that it emits values of type <code>Output</code>.</p><p>The obvious question here is what is <code>Effect</code>? What is the link between <code>Effect</code> and <code>Output</code>? And what advantages does FS2 have over other streaming libraries?</p><h3 id=\"overview\">Overview</h3><p>I will start by reviewing what problems FS2 solves. Then I compare <code>List</code> and <code>Stream</code> with several code examples. After that, I will focus on how to use <code>Stream</code> with a DB or any other IO. That is where FS2 shines and where the <code>Effect</code>type is used. Once you will understand what <code>Effect</code> is, the advantages of Functional Programming should be evident to you.</p><p>At the end of this post you will get the answers to the following questions:</p><ul><li>What problems can I solve with FS2?</li><li>What can I do with <code>Stream</code> that <code>List</code> cannot ?</li><li>How can I feed data from an API/File/DB to <code>Stream</code> ?</li><li>What is this <code>Effect</code> type and how does it relate to functional programming?</li></ul><p>Note: The code is in Scala and should be understandable even without prior knowledge of the syntax.</p><h3 id=\"what-problems-can-i-solve-with-fs2\">What problems can I solve with FS2?</h3><ol><li>Streaming I/O: Loading incrementally big data sets that would not fit in memory and operating on them without blowing your heap.</li><li>Control Flow (not covered): Moving data from one/several DBs/files/APIs to others in a nice declarative way.</li><li>Concurrency (not covered): Run different streams in parallel and make them communicate together. For example loading data from multiple files and processing them concurrently as opposed to sequentially. You can do some advanced stuff here. Streams can communicate together <strong>during </strong>the processing stage and not only at the end.</li></ol><h3 id=\"list-vs-stream\"><code>List</code> vs <code>Stream</code></h3><p><code>List</code> is the most well known and used data structure. To get a feel for how it differs from an FS2 <code>Stream</code>, we will go through a few use cases. We will see how <code>Stream</code> can solve problems that <code>List</code> cannot.</p><h3 id=\"your-data-is-too-big-and-does-not-fit-in-memory\">Your data is too big and does not fit in memory</h3><p>Let’s say you have a very big file (40GB) <code>fahrenheit.txt</code>. The file has a temperature on each line and you want to convert it to <code>celsius.txt</code>.</p><h3 id=\"loading-a-big-file-using-list\">Loading a big file using <code>List</code></h3><pre><code class=\"language-scala\">import scala.io.Source\nval list = Source.fromFile(\"testdata/fahrenheit.txt\").getLines.toList\njava.lang.OutOfMemoryError: Java heap space\n  java.util.Arrays.copyOfRange(Arrays.java:3664)\n  java.lang.String.&lt;init&gt;(String.java:207)\n  java.io.BufferedReader.readLine(BufferedReader.java:356)\n  java.io.BufferedReader.readLine(BufferedReader.java:389)</code></pre><p><code>List</code> fails miserably because of course, the file is too big to fit in memory. If you are curious, you can go check the full solution using <code>Stream</code> <a href=\"https://functional-streams-for-scala.github.io/fs2/#about\" rel=\"noopener\">here</a> — but do that later, read on :)</p><h3 id=\"when-list-won-t-do-stream-to-the-rescue-\">When List won’t do…Stream to the rescue!</h3><p>Let’s say I succeeded in reading my file and I want to write it back. I would like to preserve the line structure. I need to insert a newline character <code>\\n</code> after each temperature.</p><p>I can use the <code>intersperse</code> combinator to do that</p><pre><code class=\"language-scala\">import fs2._\nStream(1,2,3,4).intersperse(\"\\n\").toList</code></pre><p>Another nice one is <code>zipWithNext</code></p><pre><code class=\"language-scala\">scala&gt; Stream(1,2,3,4).zipWithNext.toList\nres1: List[(Int, Option[Int])] = List((1,Some(2)), (2,Some(3)), (3,Some(4)), (4,None))</code></pre><p>It bundles consecutive things together, very useful if you want to <a href=\"https://gist.github.com/dsebban/bb34ea4671bda8d52e2f083e2b160778\" rel=\"noopener\">remove consecutive duplicates</a>.</p><p>These are only a few from a lot of very useful ones, here is the <a href=\"https://oss.sonatype.org/service/local/repositories/releases/archive/co/fs2/fs2-core_2.12/0.10.5/fs2-core_2.12-0.10.5-javadoc.jar/!/fs2/Stream.html\" rel=\"noopener\">full list</a>.</p><p>Obviously <code>Stream</code> can do a lot of things that <code>List</code> cannot, but the best feature is coming in the next section, it's all about how to use <code>Stream</code> in the real world with DBs/Files/APIs ...</p><h3 id=\"how-can-i-feed-data-from-an-api-file-db-to-stream\">How can I feed data from an API/File/DB to <code>Stream</code>?</h3><p>Let’s just say for now that this our program</p><pre><code class=\"language-scala\">scala&gt; Stream(1,2,3)\nres2: fs2.Stream[fs2.Pure,Int] = Stream(..)</code></pre><p>What does this <code>Pure</code> mean? Here is the scaladoc from the source code:</p><pre><code class=\"language-scala\">/**\n    * Indicates that a stream evaluates no effects.\n    *\n    * A `Stream[Pure,O]` can be safely converted to a `Stream[F,O]` for all `F`.\n*/\ntype Pure[A] &lt;: Nothing</code></pre><p>It means no effects, ok …, but <strong>What is an effect?</strong> and more specifically what is the effect of our program <code>Stream(1,2,3)</code>?</p><p>This program has literally no <em>effect</em> on the world. Its only effect will be to make your CPU work and consumes some power!! It does not affect the world around you.</p><p>By affecting the world I mean it <strong>consumes</strong> any meaningful resource like a file, a database, or it <strong>produces</strong> anything like a file, uploading some data somewhere, writing to your terminal, and so on.</p><h3 id=\"how-do-i-turn-a-pure-stream-to-something-useful\">How do I turn a <code>Pure</code> stream to something useful?</h3><p>Let’s say I want to load user ids from a DB, I am given this function, it does a call to the DB and returns the userId as a <code>Long</code>.</p><pre><code class=\"language-scala\">import scala.concurrent.Future\ndef loadUserIdByName(userName: String): Future[Long] = ???</code></pre><p>It returns a <code><a href=\"https://www.scala-lang.org/api/2.12.3/scala/concurrent/Future.html\" rel=\"noopener\">Future</a></code> which indicates that this call is asynchronous and the value will be available at some point in the future. It wraps the value returned by the DB.</p><p>I have this <code>Pure</code> stream.</p><pre><code class=\"language-scala\">scala&gt; val names = Stream(\"bob\", \"alice\", \"joe\")\nnames: fs2.Stream[fs2.Pure,String] = Stream(..)</code></pre><p>How do I get a <code>Stream</code> of ids?</p><p>The naive approach would be to use the <code>map</code> function, it should run the function for each value in the <code>Stream</code>.</p><pre><code class=\"language-scala\">scala&gt; userIdsFromDB.compile\nres5: fs2.Stream.ToEffect[scala.concurrent.Future,Long] = fs2.Stream$ToEffect@fc0f18da</code></pre><p>I still got back a <code>Pure</code>! I gave the <code>Stream</code> a function that <em>affects the world</em> and I still got a <code>Pure</code>, not cool ... It would have been neat if FS2 would have detected automatically that the <code>loadUserIdByName</code> function has an <em>effect</em> on the world and returned me something that is NOT <code>Pure</code> but it does not work like that. You have to use a special combinator instead of <code>map</code>: you have to use <code>evalMap</code>.</p><pre><code class=\"language-scala\">scala&gt; userIdsFromDB.toList\n&lt;console&gt;:18: error: value toList is not a member of fs2.Stream[scala.concurrent.Future,Long]\n       userIdsFromDB.toList\n                     ^</code></pre><p>No more <code>Pure</code>! we got <code>Future</code> instead, yay! What just happened?</p><p>It took:</p><ul><li><code>loadUserIdByName: Future[Long]</code></li><li><code>Stream[Pure, String]</code></li></ul><p>And switched the types of the stream to</p><ul><li><code>Stream[Future, Long]</code></li></ul><p>It separated the <code>Future</code> and isolated it! The left side that was the <code>Effect</code> type parameter is now the concrete <code>Future</code> type.</p><p>Neat trick, but how does it help me?</p><p>You just witnessed true <strong>separation of concerns.</strong> You can continue to operate on the stream with all the nice <code>List</code> like combinators and you don't have to worry about if the DB is down, slow or all the stuff that is related to the network (effect) concerns.</p><p>It all works until I want to use <code>toList</code> to get the values back</p><pre><code class=\"language-scala\">scala&gt; userIdsFromDB.toList\n&lt;console&gt;:18: error: value toList is not a member of fs2.Stream[scala.concurrent.Future,Long]\n       userIdsFromDB.toList\n                     ^</code></pre><p>What???!!! I could swear that I used <code>toList</code> before and it worked, how can it say that <code>toList</code> is not a member of <code>fs2.Stream[Future,String]</code> any more? It is as if this function was removed the moment I started using an effect-ful stream, that's impressive! But how do I get my values back?</p><pre><code class=\"language-scala\">scala&gt; userIdsFromDB.compile\nres5: fs2.Stream.ToEffect[scala.concurrent.Future,Long] = fs2.Stream$ToEffect@fc0f18da</code></pre><p>First we use <code>compile</code> to tell the <code>Stream</code> to combine all the effects into one, effectively it folds all the calls to <code>loadUserIdByName</code> into one big <code>Future</code>. This is needed by the framework, and it will become apparent why this step is needed soon.</p><p>Now <code>toList</code> should work</p><pre><code class=\"language-scala\">scala&gt; userIdsFromDB.compile.toList\n&lt;console&gt;:18: error: could not find implicit value for parameter F: cats.effect.Sync[scala.concurrent.Future]\n       userIdsFromDB.compile.toList\n                             ^</code></pre><p>What?! the compiler is still complaining. That’s because <code>Future</code> is not a good <code>Effect</code> type — it breaks the philosophy of separation of concerns as explained in the next very important section.</p><h3 id=\"important-the-one-thing-to-take-away-from-this-post\">IMPORTANT: The ONE thing to take away from this post</h3><p>A key point here, is that the DB has not been called at this point. Nothing happened really, the full program does not produce anything.</p><pre><code class=\"language-scala\">def loadUserIdByName(userName: String): Future[Long] = ???\nStream(\"bob\", \"alice\", \"joe\").evalMap(loadUserIdByName).compile</code></pre><h3 id=\"separating-program-description-from-evaluation\">Separating program description from evaluation</h3><p>Yes it might be surprising but the major theme in FP is separating the</p><ul><li><strong>Description</strong> of your program: a good example is the program we just wrote, it’s a pure description of the problem “I give you names and a DB, give me back IDs”</li></ul><p>And the</p><ul><li><strong>Execution</strong> of your program: running the actual code and asking it to go to the DB</li></ul><p>One more time our program has literally no <em>effect</em> on the world besides making your computer warm, exactly like our <code>Pure</code> stream.</p><p>Code that does not have an effect is called <strong>pure</strong> and that’s what all Functional Programming is about: writing programs with functions that are <strong>pure.</strong> Bravo, you now know what FP is all about.</p><p>Why would you want write code this way? Simple: to achieve separation of concerns between the IO parts and the rest of our code.</p><p>Now let’s fix our program and take care of this <code>Future</code> problem.</p><p>As we said <code>Future</code> is a bad <code>Effect</code> type, it goes against the separation of concerns principle. Indeed, <code>Future</code> is eager in Scala: the moment you create one it starts to executes on some thread, you don't have control of the execution and thus it breaks. FS2 is well aware of that and does not let you compile. To fix this we have to use a type called <code>IO</code> that wraps our bad <code>Future</code>.</p><p>That brings us to the last part, what is this <code>IO</code> type? and how do I finally get my list of <code>usedIds</code> back?</p><pre><code class=\"language-scala\">scala&gt; import cats.effect.IO\nimport cats.effect.IO\nscala&gt; Stream(\"bob\", \"alice\", \"joe\").evalMap(name =&gt; IO.fromFuture(IO(loadUserIdByName(name)))).compile.toList\nres8: cats.effect.IO[List[Long]] = IO$2104439279</code></pre><p>It now gives us back a <code>List</code> but still, we didn't get our IDs back, so one last thing must be missing.</p><figure class=\"kg-card kg-image-card\"><img src=\"https://cdn-media-1.freecodecamp.org/images/ivbIHjwyNlEmckvLT6thLcPRcVRUkRGgw-dH\" class=\"kg-image\" alt=\"ivbIHjwyNlEmckvLT6thLcPRcVRUkRGgw-dH\" width=\"738\" height=\"388\" loading=\"lazy\"></figure><h3 id=\"what-does-io-really-mean\">What does <code>IO</code> really mean?</h3><p><code>IO</code> comes from <a href=\"https://typelevel.org/cats-effect/datatypes/io.html\" rel=\"noopener\">cats-effect library</a>. First let's finish our program and finally get out the ids back from the DB.</p><pre><code class=\"language-scala\">scala&gt; userIds.compile.toList.unsafeRunSync\n&lt;console&gt;:18: error: not found: value userIds\n       userIds.compile.toList.unsafeRunSync\n       ^</code></pre><p>The proof that it’s doing something is the fact that it’s failing.</p><pre><code>loadUserIdByName(userName: String): Future[Long] = ???</code></pre><p>When <code>???</code> is called you will get this exception, it means the function was executed (as opposed to before when we made the point that nothing was really happening). When we implement this function it will go to the DB and load the ids, and it will have an <strong>effect</strong> on the world (network/files system).</p><p><code>IO[Long]</code> is a <strong>description</strong> of <strong>how</strong> to get a value of type <code>Long</code> and it most certainly involves doing some I/O i.e going to the network, loading a file,...</p><p>It’s the <strong>How</strong> and not the <strong>What. </strong>It describes how to get the value from the network. If you want to execute this description, you can use <code>unsafeRunSync</code> (or other functions prefixed <code>unsafe</code>). You can guess why they are called this way: indeed a call to a DB is inherently unsafe as it could fail if, for example, your Internet connection is out.</p><h3 id=\"recap\">Recap</h3><p>Let’s take a last look at <code><strong>Stream[Effect,Output]</strong></code><strong>.</strong></p><p><code>Output</code> is the type that the stream emits (could be a stream of <code>String</code>, <code>Long</code> or whatever type you defined).</p><p><code>Effect</code> is the way (the recipe) to produce the <code>Output</code> (i.e go to the DB and give me an <code>id</code> of type <code>Long</code>).</p><p>It’s important to understand that if these types are separated to make things easier, breaking down a problem in subproblems allows you to reason about the subproblems independently. You can then solve them and combine their solutions.</p><p>The link between these 2 types is the following :</p><p>In order for the <code>Stream</code> to emit an element of type</p><ul><li><code>Output</code></li></ul><p>It needs to evaluate a type</p><ul><li><code>Effect</code></li></ul><p>A special type that encodes an effective action as a value of type <code>IO</code>, this <code>IO</code> value allows the separation of 2 concerns:</p><ul><li><strong>Description</strong>:<code>IO</code> is a simple immutable value, it’s a recipe to get a type <code>A</code> by doing some kind of IO(network/filesystem/…)</li><li><strong>Execution</strong>: in order for<code>IO</code> to do something, you need to <em>execute/run it </em>using <code>io.unsafeRunSync</code></li></ul><h4 id=\"putting-it-all-together\">Putting it all together</h4><p><code>Stream[IO,Long]</code> says:</p><p>This is a <code>Stream</code> that emits values of type <code>Long</code> and in order to do so, it needs to run an <em>effective</em> function that produces<code>IO[Long]</code> for each value.</p><p>That’s a lot of details packed in this very short type. The more details you get about how things happen the fewer errors you make.</p><h3 id=\"takeaways\">Takeaways</h3><ul><li><code>Stream</code> is a <strong>super charged</strong> version of <code>List</code></li><li><code>Stream(1,2,3)</code> is of type <code>Stream[Pure, Int]</code> , the second type <code>Int</code> is the type of all values that this stream will emit</li><li><code>Pure</code> means no <em>effect</em> on the world. It just makes your CPU work and consumes some power, but besides that it does not affect the world around you.</li><li>Use <code>evalMap</code> instead of <code>map</code> when you want to apply a function that has an effect like <code>loadUserIdByName</code> to a <code>Stream</code>.</li><li><code>Stream[IO, Long]</code> separates the concerns of What and How by letting you work only with the values and not worrying about how to get them (loading from the db).</li><li>Separating program description from evaluation is a key aspect of FP.</li><li>All the programs you write with <code>Stream</code> will do nothing until you use <code>unsafeRunSync</code>. Before that your code is effectively <em>pure.</em></li><li><code>IO[Long]</code> is an effect type that tells you: you will get <code>Long</code> values from IO (could be a file, the network, the console ...). It's a description and not a wrapper!r</li><li><code>Future</code> does not abide by this philosophy and thus is not compatible with FS2, you have to use <code>IO</code> type instead.</li></ul><h3 id=\"fs2-videos\">FS2 videos</h3><ul><li>Hands on screencast by Michael Pilquist: <a href=\"https://www.youtube.com/watch?v=B1wb4fIdtn4\" rel=\"noopener\">https://www.youtube.com/watch?v=B1wb4fIdtn4</a></li><li>Talk by Fabio Labella <a href=\"https://www.youtube.com/watch?v=x3GLwl1FxcA\" rel=\"noopener\">https://www.youtube.com/watch?v=x3GLwl1FxcA</a></li></ul>\n\n                        </section>\n                        \n                            <div class=\"sidebar\">\n                                \n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                        <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                                    \n                                \n                            </div>\n                        \n                    </div>\n                    <hr>\n                    \n                        <div class=\"post-full-author-header\" data-test-label=\"author-header-with-bio\">\n                            \n                                \n    \n    \n    \n\n    <section class=\"author-card\" data-test-label=\"author-card\">\n        \n            \n    <img srcset=\"https://www.freecodecamp.org/news/content/images/size/w60/2019/08/NGzLCUHq_400x400--1-.jpg 60w\" sizes=\"60px\" src=\"https://www.freecodecamp.org/news/content/images/size/w60/2019/08/NGzLCUHq_400x400--1-.jpg\" class=\"author-profile-image\" alt=\"Daniel Sebban\" width=\"400\" height=\"400\" onerror=\"this.style.display='none'\" loading=\"lazy\" data-test-label=\"profile-image\">\n  \n        \n\n        <section class=\"author-card-content \">\n            <span class=\"author-card-name\">\n                <a href=\"/news/author/dsebban/\" data-test-label=\"profile-link\">\n                    \n                        Daniel Sebban\n                    \n                </a>\n            </span>\n            \n                \n                    <p data-test-label=\"author-bio\">Scala Developer @Bigpanda / FP enthusiast / Enjoys building scalable and resilient data intensive pipelines</p>\n                \n            \n        </section>\n    </section>\n\n                            \n                        </div>\n                        <hr>\n                    \n\n                    \n                    \n                        \n    \n\n\n<p data-test-label=\"social-row-cta\" class=\"social-row\">\n    If you read this far, thank the author to show them you care. <button id=\"tweet-btn\" class=\"cta-button\" data-test-label=\"tweet-button\">Say Thanks</button>\n</p>\n\n\n    \n    <script>document.addEventListener(\"DOMContentLoaded\",(()=>{const t=document.getElementById(\"tweet-btn\"),e=window.location,n=\"A%20streaming%20library%20with%20a%20superpower%3A%20FS2%20and%20functional%20programming\".replace(/&#39;/g,\"%27\"),o=\"\",i=\"@dsebban\",r=Boolean(\"\");let a;if(r&&(o||i)){const t={originalPostAuthor:\"\",currentPostAuthor:\"Daniel Sebban\"};a=encodeURIComponent(`Thank you ${o||t.originalPostAuthor} for writing this helpful article, and ${i||t.currentPostAuthor} for translating it.`)}else!r&&i&&(a=encodeURIComponent(`Thank you ${i} for writing this helpful article.`));const l=`window.open(\\n    '${a?`https://twitter.com/intent/tweet?text=${a}%0A%0A${n}%0A%0A${e}`:`https://twitter.com/intent/tweet?text=${n}%0A%0A${e}`}',\\n    'share-twitter',\\n    'width=550, height=235'\\n  ); return false;`;t.setAttribute(\"onclick\",l)}));</script>\n\n\n                        \n\n<div class=\"learn-cta-row\" data-test-label=\"learn-cta-row\">\n    <p>\n        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href=\"https://www.freecodecamp.org/learn/\" class=\"cta-button\" id=\"learn-to-code-cta\" rel=\"noopener noreferrer\" target=\"_blank\">Get started</a>\n    </p>\n</div>\n\n                    \n                </section>\n                \n                    <div class=\"banner-ad bottom\">\n                        \n                            <div class=\"ad-wrapper\" data-test-label=\"ad-wrapper\">\n    \n    <div class=\"ad-text\" data-test-label=\"ad-text\">ADVERTISEMENT</div>\n    <ins class=\"adsbygoogle\" style=\"display: block; height: 280px;\" data-ad-client=\"ca-pub-9482786369113753\" data-ad-slot=\"5720086888\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>\n\n                        \n                    </div>\n                \n            </article>\n        </div>\n    </main>\n\n\n            \n\n\n<footer class=\"site-footer\">\n    <div class=\"footer-top\">\n        <div class=\"footer-desc-col\">\n            <p data-test-label=\"tax-exempt-status\">freeCodeCamp is a donor-supported tax-exempt 501(c)(3) charity organization (United States Federal Tax Identification Number: 82-0779546)</p>\n            <p data-test-label=\"mission-statement\">Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public.</p>\n            <p data-test-label=\"donation-initiatives\">Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.</p>\n            <p class=\"footer-donation\" data-test-label=\"donate-text\">\n                You can <a href=\"https://www.freecodecamp.org/donate/\" class=\"inline\" rel=\"noopener noreferrer\" target=\"_blank\">make a tax-deductible donation here</a>.\n            </p>\n        </div>\n        <div class=\"trending-guides\" data-test-label=\"trending-guides\">\n            <h2 id=\"trending-guides\" class=\"col-header\">Trending Guides</h2>\n            <ul class=\"trending-guides-articles\" aria-labelledby=\"trending-guides\">\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-transform-functions-and-properties/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Transform\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-create-a-static-blog-with-lume/\" rel=\"noopener noreferrer\" target=\"_blank\">Build a Static Blog\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-build-an-ai-chatbot-with-redis-python-and-gpt/\" rel=\"noopener noreferrer\" target=\"_blank\">Build an AI Chatbot\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/what-is-programming-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">What is Programming?\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Python Code Examples\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/a-practical-guide-to-start-opensource-contributions/\" rel=\"noopener noreferrer\" target=\"_blank\">Open Source for Devs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/http-full-course/\" rel=\"noopener noreferrer\" target=\"_blank\">HTTP Networking in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-unit-tests-in-react-redux/\" rel=\"noopener noreferrer\" target=\"_blank\">Write React Unit Tests\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/introduction-to-algorithms-with-javascript-examples/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Algorithms in JS\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/how-to-write-clean-code/\" rel=\"noopener noreferrer\" target=\"_blank\">How to Write Clean Code\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-php-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn PHP\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-java-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Java\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-swift-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Swift\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-golang-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Golang\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/get-started-with-nodejs/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Node.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/complete-guide-to-css-grid/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn CSS Grid\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/learn-solidity-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Solidity\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/the-express-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Express.js\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/javascript-es-modules-and-module-bundlers/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn JS Modules\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/apache-kafka-handbook/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn Apache Kafka\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/rest-api-design-best-practices-build-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">REST API Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/front-end-javascript-development-react-angular-vue-compared/\" rel=\"noopener noreferrer\" target=\"_blank\">Front-End JS Development\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-consume-and-document-a-rest-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build REST APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/build-strongly-typed-polymorphic-components-with-react-and-typescript/\" rel=\"noopener noreferrer\" target=\"_blank\">Intermediate TS and React\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/command-line-for-beginners/\" rel=\"noopener noreferrer\" target=\"_blank\">Command Line for Beginners\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-operating-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Intro to Operating Systems\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/building-consuming-and-documenting-a-graphql-api/\" rel=\"noopener noreferrer\" target=\"_blank\">Learn to Build GraphQL APIs\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/oss-security-best-practices/\" rel=\"noopener noreferrer\" target=\"_blank\">OSS Security Best Practices\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/design-patterns-for-distributed-systems/\" rel=\"noopener noreferrer\" target=\"_blank\">Distributed Systems Patterns\n                    </a>\n                </li>\n                <li>\n                    <a href=\"https://www.freecodecamp.org/news/an-introduction-to-software-architecture-patterns/\" rel=\"noopener noreferrer\" target=\"_blank\">Software Architecture Patterns\n                    </a>\n                </li>\n            </ul>\n            <div class=\"spacer\" style=\"padding: 15px 0;\"></div>\n            <div>\n                <h2 id=\"mobile-app\" class=\"col-header\">\n                    Mobile App\n                </h2>\n                <div class=\"min-h-[1px] px-[15px] md:w-2/3 md:ml-[16.6%]\">\n                    <ul aria-labelledby=\"mobile-app\" class=\"mobile-app-container\">\n                        <li>\n                            <a href=\"https://apps.apple.com/us/app/freecodecamp/id6446908151?itsct=apps_box_link&itscg=30200\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/apple-store-badge.svg\" lang=\"en\" alt=\"Download on the App Store\">\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"https://play.google.com/store/apps/details?id=org.freecodecamp\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                <img src=\"https://cdn.freecodecamp.org/platform/universal/google-play-badge.svg\" lang=\"en\" alt=\"Get it on Google Play\">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer-bottom\">\n        <h2 class=\"col-header\" data-test-label=\"our-nonprofit\">Our Charity</h2>\n        <div class=\"our-nonprofit\">\n            <a href=\"https://www.freecodecamp.org/news/about/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"about\">\n                About\n            </a>\n            <a href=\"https://www.linkedin.com/school/free-code-camp/people/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"alumni\">\n                Alumni Network\n            </a>\n            <a href=\"https://github.com/freeCodeCamp/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"open-source\">\n                Open Source\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/shop/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"shop\">\n                Shop\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/support/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"support\">\n                Support\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/sponsors/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"sponsors\">\n                Sponsors\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/academic-honesty-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"honesty\">\n                Academic Honesty\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/code-of-conduct/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"coc\">\n                Code of Conduct\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/privacy-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"privacy\">\n                Privacy Policy\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/terms-of-service/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"tos\">\n                Terms of Service\n            </a>\n            <a href=\"https://www.freecodecamp.org/news/copyright-policy/\" rel=\"noopener noreferrer\" target=\"_blank\" data-test-label=\"copyright\">\n                Copyright Policy\n            </a>\n        </div>\n    </div>\n</footer>\n\n        </div>\n\n        \n        \n        \n\n        <!-- Google Tag Manager (noscript) -->\n<noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n<!-- End Google Tag Manager (noscript) -->\n\n        \n    <script defer src=\"https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015\" integrity=\"sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==\" data-cf-beacon='{\"rayId\":\"8ac9525afda9ce19\",\"version\":\"2024.7.0\",\"serverTiming\":{\"name\":{\"cfL4\":true}},\"token\":\"bdb993c6dde44e178aabd9555e75e4f4\",\"b\":1}' crossorigin=\"anonymous\"></script>\n</body>\n</html>\n"}}}